function _templateObject98(){var e=_taggedTemplateLiteral([":kendo.grid.detailCollapse|The title of the collapse icon of detail rows.\u241face0c0a58fbb211e8678efb3bd6ac9bb587144c3\u241f6065477639036399169:Collapse Details"]);return _templateObject98=function(){return e},e}function _templateObject97(){var e=_taggedTemplateLiteral([":kendo.grid.detailExpand|The title of the expand icon of detail rows.\u241fad6629bb6e79235623cfce486ef48087dbe96fb5\u241f6952757249912226136:Expand Details"]);return _templateObject97=function(){return e},e}function _templateObject96(){var e=_taggedTemplateLiteral([":kendo.grid.columnsReset|The text shown in the column menu or column chooser for the columns reset button\u241f94d3b472d99994a5cca9930afd4cf0ac2774c382\u241f4465838259914958827:Reset"]);return _templateObject96=function(){return e},e}function _templateObject95(){var e=_taggedTemplateLiteral([":kendo.grid.columnsApply|The text shown in the column menu or column chooser for the columns apply button\u241f04600bd6e362cf9da9f7f9c4666eab2c88eb6a90\u241f34213208292862969:Apply"]);return _templateObject95=function(){return e},e}function _templateObject94(){var e=_taggedTemplateLiteral([":kendo.grid.sortedDefault|The status announcement when a column is no longer sorted\u241f66e99ea340974022c07c52a6f668f5573e7edab0\u241f5229177293891232538:Not Sorted"]);return _templateObject94=function(){return e},e}function _templateObject93(){var e=_taggedTemplateLiteral([":kendo.grid.sortedDescending|The status announcement when a column is sorted descending\u241f092a688d1b2b6d873bdc29beaaf43c3f45336581\u241f8155280769473236383:Sorted Descending"]);return _templateObject93=function(){return e},e}function _templateObject92(){var e=_taggedTemplateLiteral([":kendo.grid.sortedAscending|The status announcement when a column is sorted ascending\u241f947c64329461efd9f8a9aa2c51acbbd099170aa5\u241f6275944032047713540:Sorted Ascending"]);return _templateObject92=function(){return e},e}function _templateObject91(){var e=_taggedTemplateLiteral([":kendo.grid.sortDescending|The text shown in the column menu for the sort descending item\u241f208d0538d4c2537a1cbf456941e34a2884053d52\u241f5605073536641230977:Sort Descending"]);return _templateObject91=function(){return e},e}function _templateObject90(){var e=_taggedTemplateLiteral([":kendo.grid.sortAscending|The text shown in the column menu for the sort ascending item\u241f96beffd8446c5455f3bbdc313c946db32df7dcc2\u241f6297762560864270240:Sort Ascending"]);return _templateObject90=function(){return e},e}function _templateObject89(){var e=_taggedTemplateLiteral([":kendo.grid.sortable|The label of the sort icon\u241fa692ba271be066ce379f942ff67094e1ea989f4c\u241f3824304972336788145:Sortable"]);return _templateObject89=function(){return e},e}function _templateObject88(){var e=_taggedTemplateLiteral([":kendo.grid.unlock|The text shown in the column menu for the unlock item\u241ff33355540003068372e39ba7f3def794869ea9f8\u241f6968586378603932789:Unlock"]);return _templateObject88=function(){return e},e}function _templateObject87(){var e=_taggedTemplateLiteral([":kendo.grid.lock|The text shown in the column menu for the lock item\u241ff356cae509dec3dc1b7156326b9a0328a79c62a8\u241f5849203148124173556:Lock"]);return _templateObject87=function(){return e},e}function _templateObject86(){var e=_taggedTemplateLiteral([":kendo.grid.columns|The text shown in the column menu for the columns item\u241f9b841399fbb3d81f2401f98b4f4763834b72a1e5\u241f5332162737795508854:Columns"]);return _templateObject86=function(){return e},e}function _templateObject85(){var e=_taggedTemplateLiteral([":kendo.grid.columnMenu|The title of the column menu icon\u241f3596c6b21d39223adc5c352daec9938474a8cc0d\u241f2820335494528144626:Column Menu"]);return _templateObject85=function(){return e},e}function _templateObject84(){var e=_taggedTemplateLiteral([":kendo.grid.loading|The loading text\u241f781c049cc69efc30bc8053af9ace3cb4b04bd438\u241f5425510787229531767:Loading"]);return _templateObject84=function(){return e},e}function _templateObject83(){var e=_taggedTemplateLiteral([":kendo.grid.filterOrLogic|The text of the Or filter logic\u241f04e64780de0fc1c3a9986997e0808ec53a5f2a63\u241f1964926727342405367:Or"]);return _templateObject83=function(){return e},e}function _templateObject82(){var e=_taggedTemplateLiteral([":kendo.grid.filterAndLogic|The text of the And filter logic\u241ff73fbcc2f813d469e4a34491950ca01ea1ac8f60\u241f512662285155477884:And"]);return _templateObject82=function(){return e},e}function _templateObject81(){var e=_taggedTemplateLiteral([":kendo.grid.filterClearButton|The text of the clear filter button\u241f06e4e4dadede6f91f261cdbb7fb174246a135238\u241f3031209415830321799:Clear"]);return _templateObject81=function(){return e},e}function _templateObject80(){var e=_taggedTemplateLiteral([":kendo.grid.filterFilterButton|The text of the filter button\u241f4f1c08d0b056646cdb668da669e2e15825adfe4d\u241f5185263258022896121:Filter"]);return _templateObject80=function(){return e},e}function _templateObject79(){var e=_taggedTemplateLiteral([":kendo.grid.filterBeforeOrEqualOperator|The text of the before or equal date filter operator\u241f27a6b29ffbc1eb498de8d7af20051461a2e842ec\u241f6582064037090631388:Is before or equal to"]);return _templateObject79=function(){return e},e}function _templateObject78(){var e=_taggedTemplateLiteral([":kendo.grid.filterBeforeOperator|The text of the before date filter operator\u241f35ef5cf367670f15432c9f8761bc85fbdb2b1830\u241f3348865631071358219:Is before"]);return _templateObject78=function(){return e},e}function _templateObject77(){var e=_taggedTemplateLiteral([":kendo.grid.filterAfterOperator|The text of the after date filter operator\u241fbff777df0d0831cc02679227422fab4ef2763fa9\u241f3078502182807244703:Is after"]);return _templateObject77=function(){return e},e}function _templateObject76(){var e=_taggedTemplateLiteral([":kendo.grid.filterAfterOrEqualOperator|The text of the after or equal date filter operator\u241fd7dac1bbc2372d578a9d2bca099de766043aed7e\u241f1964413288176201979:Is after or equal to"]);return _templateObject76=function(){return e},e}function _templateObject75(){var e=_taggedTemplateLiteral([":kendo.grid.filterBooleanAll|The text of the (All) boolean filter option\u241f4da1456a62bafe2614ed2bc05a2c790a64a4dd0b\u241f9215343856736761875:(All)"]);return _templateObject75=function(){return e},e}function _templateObject74(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsFalse|The text of the IsFalse boolean filter option\u241f6d34731320e2536fd78f4a9e08f0b8dcd01edf3d\u241f7759366406135608407:Is False"]);return _templateObject74=function(){return e},e}function _templateObject73(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsTrue|The text of the IsTrue boolean filter option\u241fd5f1e9028bc60c30e8f8e0f9cfeb872512446cea\u241f2361673238316312251:Is True"]);return _templateObject73=function(){return e},e}function _templateObject72(){var e=_taggedTemplateLiteral([":kendo.grid.filterLtOperator|The text of the less than filter operator\u241fc4d58f0e509cb7e37014715dd91546a724210d70\u241f498627126459578706:Is less than"]);return _templateObject72=function(){return e},e}function _templateObject71(){var e=_taggedTemplateLiteral([":kendo.grid.filterLteOperator|The text of the less than or equal filter operator\u241fe48d50a6422c616a00b95025adc5283aff4fa8cb\u241f4840714404733417604:Is less than or equal to"]);return _templateObject71=function(){return e},e}function _templateObject70(){var e=_taggedTemplateLiteral([":kendo.grid.filterGtOperator|The text of the greater than filter operator\u241fae68acc0e18252a348bdfb32112996d81e5305de\u241f1527483349261806183:Is greater than"]);return _templateObject70=function(){return e},e}function _templateObject69(){var e=_taggedTemplateLiteral([":kendo.grid.filterGteOperator|The text of the greater than or equal filter operator\u241f68471603db771d0304d02fe086da9701c16911c3\u241f4542824413455511831:Is greater than or equal to"]);return _templateObject69=function(){return e},e}function _templateObject68(){var e=_taggedTemplateLiteral([":kendo.grid.filterEndsWithOperator|The text of the ends with filter operator\u241fa54b2ecffb41f0603ceedc7ea5a40b7d130e2fa1\u241f3662435311670509156:Ends with"]);return _templateObject68=function(){return e},e}function _templateObject67(){var e=_taggedTemplateLiteral([":kendo.grid.filterNotContainsOperator|The text of the does not contain filter operator\u241fbe06aa4fde7fa722c9de5a45f241ff595071d718\u241f7331253838216904826:Does not contain"]);return _templateObject67=function(){return e},e}function _templateObject66(){var e=_taggedTemplateLiteral([":kendo.grid.filterContainsOperator|The text of the contains filter operator\u241f5b568a46d2e34ebde7dd53a7e599cbbb7dc6bae1\u241f3831180413287131758:Contains"]);return _templateObject66=function(){return e},e}function _templateObject65(){var e=_taggedTemplateLiteral([":kendo.grid.filterStartsWithOperator|The text of the starts with filter operator\u241fda43b363b636156e3ccdbb64a0788bdeab51e992\u241f6087783423599420507:Starts with"]);return _templateObject65=function(){return e},e}function _templateObject64(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNotEmptyOperator|The text of the is not empty filter operator\u241fdee7553c341248e90aef4a8e7438c52e667e68be\u241f8245213618709258015:Is not empty"]);return _templateObject64=function(){return e},e}function _templateObject63(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsEmptyOperator|The text of the is empty filter operator\u241fa4e77e444b4e9b63851ac818e20136212b06c750\u241f4762263229995523226:Is empty"]);return _templateObject63=function(){return e},e}function _templateObject62(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNotNullOperator|The text of the is not null filter operator\u241f70b39eeaf2674907b2e59b414baf17e032b464dc\u241f8362279767336741540:Is not null"]);return _templateObject62=function(){return e},e}function _templateObject61(){var e=_taggedTemplateLiteral([":kendo.grid.filterIsNullOperator|The text of the is null filter operator\u241f078c50eb1fe8b2b43fcc40c5e7f4493152310c2f\u241f1298299704757177797:Is null"]);return _templateObject61=function(){return e},e}function _templateObject60(){var e=_taggedTemplateLiteral([":kendo.grid.filterNotEqOperator|The text of the not equal filter operator\u241fd46e14d35d89d2fadf5c852abf5557643510a013\u241f8497658332767349737:Is not equal to"]);return _templateObject60=function(){return e},e}function _templateObject59(){var e=_taggedTemplateLiteral([":kendo.grid.filterEqOperator|The text of the equal filter operator\u241f8b31e1604d10a2f8709dcb1ed5c237e33cffc135\u241f4328959145426393682:Is equal to"]);return _templateObject59=function(){return e},e}function _templateObject58(){var e=_taggedTemplateLiteral([":kendo.grid.filter|The label of the filter cell or icon\u241f21a04b7b090dac60e0449cb6e435b7e879173c75\u241f7977992299945497789:Filter"]);return _templateObject58=function(){return e},e}function _templateObject57(){var e=_taggedTemplateLiteral([":kendo.grid.pagerItemsPerPage|The label for the page size chooser in the Grid pager\u241f3331fe7ec45f299afaa4c1e08ea25c493eda9144\u241f8838594644885628398:items per page"]);return _templateObject57=function(){return e},e}function _templateObject56(){var e=_taggedTemplateLiteral([":kendo.grid.pagerItems|The label after the total pages number in the Grid pager\u241f7c1704d11bfb77340485acd891439c2b6c6616ca\u241f700193548223931835:items"]);return _templateObject56=function(){return e},e}function _templateObject55(){var e=_taggedTemplateLiteral([":kendo.grid.pagerOf|The label before the total pages number in the Grid pager\u241f0c9abe48f5d4bd2cb51846712e41864fc64aad6a\u241f7004642096327889102:of"]);return _templateObject55=function(){return e},e}function _templateObject54(){var e=_taggedTemplateLiteral([":kendo.grid.pagerPage|The label before the current page number in the Grid pager\u241f89c1f616c25bb610824cd8a26473a03921df48bd\u241f5228228287003939680:Page"]);return _templateObject54=function(){return e},e}function _templateObject53(){var e=_taggedTemplateLiteral([":kendo.grid.pagerLastPage|The label for the last page button in Grid pager\u241ffe84f2ea868286ce03e50b6e55558c16d675c753\u241f4539768510520419313:Go to the last page"]);return _templateObject53=function(){return e},e}function _templateObject52(){var e=_taggedTemplateLiteral([":kendo.grid.pagerNextPage|The label for the next page button in Grid pager\u241f90031133fca899b4e491d9fc51128c1a184afb30\u241f5510985262435270859:Go to the next page"]);return _templateObject52=function(){return e},e}function _templateObject51(){var e=_taggedTemplateLiteral([":kendo.grid.pagerPreviousPage|The label for the previous page button in Grid pager\u241f47aa4fe05f5a2577d3336971d7c44ce48802b860\u241f6745088753482690847:Go to the previous page"]);return _templateObject51=function(){return e},e}function _templateObject50(){var e=_taggedTemplateLiteral([":kendo.grid.pagerFirstPage|The label for the first page button in Grid pager\u241fb405dfc5ee42415daa08d54847d3010de1821111\u241f5647145449685906398:Go to the first page"]);return _templateObject50=function(){return e},e}function _templateObject49(){var e=_taggedTemplateLiteral([":kendo.grid.noRecords|The label visible in the Grid when there are no records\u241fff9cfd4bf3e40305db251f2b6961796c0550b4b0\u241f1243399825085142134:No records available."]);return _templateObject49=function(){return e},e}function _templateObject48(){var e=_taggedTemplateLiteral([":kendo.grid.groupPanelEmpty|The label visible in the Grid group panel when it is empty\u241f30bcb3a2fbc22fcab6ca805e74b90adb8ba1ae96\u241f1430663748859427158:Drag a column header and drop it here to group by that column"]);return _templateObject48=function(){return e},e}function _templateObject47(){var e=_taggedTemplateLiteral([":kendo.timeselector.nowLabel|The label for the Now button in the timeselector component\u241f08e6a8a51d970609e138950fdd89c5cf201869f3\u241f7789175884909488647:Select now"]);return _templateObject47=function(){return e},e}function _templateObject46(){var e=_taggedTemplateLiteral([":kendo.timeselector.now|The Now button text in the timeselector component\u241f98cba1ae36a7bbe15e1bac1837e07922ec109e7d\u241f1926162752852226109:Now"]);return _templateObject46=function(){return e},e}function _templateObject45(){var e=_taggedTemplateLiteral([":kendo.timeselector.cancelLabel|The label for the Cancel button in the timeselector component\u241f08dfbdfffd662371a6ff4c0b6ed82b9faa48143b\u241f5738120209397145846:Cancel changes"]);return _templateObject45=function(){return e},e}function _templateObject44(){var e=_taggedTemplateLiteral([":kendo.timeselector.cancel|The Cancel button text in the timeselector component\u241f3004d7704ffa6202a3b3925fcea490e486203a3e\u241f1890188482755567622:Cancel"]);return _templateObject44=function(){return e},e}function _templateObject43(){var e=_taggedTemplateLiteral([":kendo.timeselector.acceptLabel|The label for the Accept button in the timeselector component\u241fb4b1e5ac55f0330f6c4e32b866ae4339ad969978\u241f3417396278000787211:Set time"]);return _templateObject43=function(){return e},e}function _templateObject42(){var e=_taggedTemplateLiteral([":kendo.timeselector.accept|The Accept button text in the timeselector component\u241f801811aa1609e3f173c86baa82cee037f75a215f\u241f5362895271044573681:Set"]);return _templateObject42=function(){return e},e}function _templateObject41(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar\u241f3e3a529a242f39d22f841c3bd8045ec75b696b7a\u241f3994336778698343633:Navigate to next view"]);return _templateObject41=function(){return e},e}function _templateObject40(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar\u241fe783e2af4828224b846fa92148ea1cc52b21bb13\u241f9101635325676663492:Navigate to previous view"]);return _templateObject40=function(){return e},e}function _templateObject39(){var e=_taggedTemplateLiteral([":kendo.multiviewcalendar.today|The label for the today button in the calendar header\u241f063d99483243b27bc8282abfb5f2c76877e1112e\u241f3892034896682737327:TODAY"]);return _templateObject39=function(){return e},e}function _templateObject38(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.today|The label for the today button in the calendar header\u241f7ee30b9ae5918cc544fbd87a4135694397aeefaf\u241f7904626229769721311:TODAY"]);return _templateObject38=function(){return e},e}function _templateObject37(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.nowLabel|The label for the Now button in the timepicker component\u241f52d90641b26b1ce4c011cadf0437ce36c1dac1d5\u241f5046379108717037514:Select now"]);return _templateObject37=function(){return e},e}function _templateObject36(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.now|The Now button text in the timepicker component\u241f7172e7e9a1741f6b63439ec89e498c995cb23b0d\u241f5497093725885127701:NOW"]);return _templateObject36=function(){return e},e}function _templateObject35(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.cancelLabel|The label for the Cancel button in the datetimepicker component\u241fba26795ab9f4c21d66b17549ba854a96fcdac1f9\u241f3535986227615756275:Cancel"]);return _templateObject35=function(){return e},e}function _templateObject34(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.cancel|The Cancel button text in the datetimepicker component\u241f17ab795d6f7527dd962a309759ca58cb4edd7e52\u241f5100781969600382158:Cancel"]);return _templateObject34=function(){return e},e}function _templateObject33(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.acceptLabel|The label for the Accept button in the datetimepicker component\u241fcbea4571cca81ad9767a6b29f0287d1f3f6372dc\u241f4770689705864890748:Set"]);return _templateObject33=function(){return e},e}function _templateObject32(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.accept|The Accept button text in the datetimepicker component\u241f4359b59db7ded88e106ada877e744c71b188f8f9\u241f3915774704336012538:Set"]);return _templateObject32=function(){return e},e}function _templateObject31(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.toggle|The label for the toggle button in the datetimepicker component\u241f60296a83f0d3e3d07aaba87c4f8e91b0aca3c22a\u241f3159207801887264026:Toggle popup"]);return _templateObject31=function(){return e},e}function _templateObject30(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.timeTabLabel|The label for the Time tab in the datetimepicker popup header\u241f13bf7e3a1036140119732c6d5952f7a20c22999e\u241f2577682127494513393:Time tab"]);return _templateObject30=function(){return e},e}function _templateObject29(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.timeTab|The Time tab text in the datetimepicker popup header\u241fe9b2b760a6916040e7520a9a2926d65de175944d\u241f3807284594201983607:Time"]);return _templateObject29=function(){return e},e}function _templateObject28(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.dateTabLabel|The label for the Date tab in the datetimepicker popup header\u241f2a400c9e364a4c6d83ac39b5513c962805db54b2\u241f1810540079817643910:Date tab"]);return _templateObject28=function(){return e},e}function _templateObject27(){var e=_taggedTemplateLiteral([":kendo.datetimepicker.dateTab|The Date tab text in the datetimepicker popup header\u241f5bb17f81ae8dbc109499ce3792afffa6b7cef855\u241f3360129034450596425:Date"]);return _templateObject27=function(){return e},e}function _templateObject26(){var e=_taggedTemplateLiteral([":kendo.timepicker.toggle|The label for the toggle button in the timepicker component\u241ff2c196786ed2d3ecb2369750c36aac9a4053fb30\u241f6938407659294495526:Toggle time list"]);return _templateObject26=function(){return e},e}function _templateObject25(){var e=_taggedTemplateLiteral([":kendo.timepicker.nowLabel|The label for the Now button in the timepicker component\u241fdf1a696f318275aa934e27850920889d494c2740\u241f371982627910576599:Select now"]);return _templateObject25=function(){return e},e}function _templateObject24(){var e=_taggedTemplateLiteral([":kendo.timepicker.now|The Now button text in the timepicker component\u241fbbc99bb74ae75a503bd813aad0c7253d3553e923\u241f5912507758515138116:Now"]);return _templateObject24=function(){return e},e}function _templateObject23(){var e=_taggedTemplateLiteral([":kendo.timepicker.cancelLabel|The label for the Cancel button in the timepicker component\u241f2cf6f4ca4470810944b4016c9b6f87943d3390ab\u241f83621966901491941:Cancel changes"]);return _templateObject23=function(){return e},e}function _templateObject22(){var e=_taggedTemplateLiteral([":kendo.timepicker.cancel|The Cancel button text in the timepicker component\u241f132eefca16bd41d489b4647724b91e93793603aa\u241f1086687567255473060:Cancel"]);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral([":kendo.timepicker.acceptLabel|The label for the Accept button in the timepicker component\u241f93c2a9c3aa49f56e452c0aecbaabe3bb33fa4222\u241f4355879331538595758:Set time"]);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral([":kendo.timepicker.accept|The Accept button text in the timepicker component\u241f4c3bf42192220c7611c09ece1c5de14855139dd0\u241f7519663530416240229:Set"]);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral([":kendo.datepicker.toggle|The label for the toggle button in the datepicker component\u241ff6c28c2d80dbe993c4b33f4dc4010364f41cc2ae\u241f4817467473728423164:Toggle calendar"]);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral([":kendo.datepicker.today|The label for the today button in the calendar header\u241f91a84f2d4871dbe7e90d84865d4a4d83c8ae041e\u241f1910980355989755624:TODAY"]);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral([":kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput\u241f0eded761107e6dad120997006a7f915bade9b15c\u241f6980524091606682769:Decrease value"]);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral([":kendo.dateinput.increment|The label for the **Increment** button in the DateInput\u241fa55944f9de69e7cc86b91200fe96f980a947d704\u241f589112377451589685:Increase value"]);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral([":kendo.calendar.today|The label for the today button in the calendar header\u241f2df64767cd895a8fabe3e18b94b5b6b6f9e2e3f0\u241f826701167553276328:TODAY"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox\u241fdf4751834075bf970c77d0da2c960b4e19a6b0dd\u241f3960022057994897997:Decrease value"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox\u241f0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5\u241f4467784268438010275:Increase value"]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":kendo.switch.off|The **Off** label of the Switch.\u241f79df1a6d2b35c32b2948e3cee56dd3ffe28127bc\u241f759820891948194060:OFF"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":kendo.switch.on|The **On** label of the Switch.\u241f155f0a38198ffbf0429c5dbf9765e74f246a8617\u241f818154782831456441:ON"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":kendo.slider.dragHandle|The title of the drag handle of the Slider.\u241f481eb98e9cd8ef8e8b22051796441901e883763d\u241f9117416417579607469:Drag"]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":kendo.slider.decrement|The title of the **Decrease** button of the Slider.\u241f042c26f68d78afd6834ea46a5f7533850fe8c800\u241f652458644240352212:decrement"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":kendo.slider.increment|The title of the **Increase** button of the Slider.\u241f0fa71630d40c425b9c366afd7f6c3cecc5bef59d\u241f8302125540024939132:increment"]);return _templateObject8=function(){return e},e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _templateObject7(){var e=_taggedTemplateLiteral([":kendo.combobox.clearTitle|The title of the clear button\u241f069e8fae80677e3e785861123bef446b3ff41ab4\u241f2025597431468961462:clear"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":kendo.multiselect.noDataText|The text displayed in the popup when there are no items\u241f3cc1323f79a5fe012960578e513f8a35b2af1e96\u241f1450213984397806503:NO DATA FOUND"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items\u241f4fc2f70c9c8cf7b18affd6b938105996d6ac3306\u241f8289552890585138350:NO DATA FOUND"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":kendo.combobox.clearTitle|The title of the clear button\u241f069e8fae80677e3e785861123bef446b3ff41ab4\u241f2025597431468961462:clear"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([":kendo.combobox.noDataText|The text displayed in the popup when there are no items\u241f2b6e00c74a6d9c98c03a6274d0224e9bd457ff89\u241f7708502966028483300:NO DATA FOUND"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([":kendo.autocomplete.clearTitle|The title of the clear button\u241f7cf49cc2d50eebd29f8d61564512383caaaac7a6\u241f4821453594854847070:clear"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":kendo.autocomplete.noDataText|The text displayed in the popup when there are no items\u241f4e9993e088a293543eb0c2801343518c115b6f20\u241f2690656529626907484:NO DATA FOUND"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(l){r=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _get(e,t,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=_superPropBase(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(i):r.value}})(e,t,i||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _createForOfIteratorHelper(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{g1Xn:function(e,t,i){e.exports=function e(t,i,n){function r(o,s){if(!i[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};t[o][0].call(c.exports,(function(e){return r(t[o][1][e]||e)}),c,c.exports,e,t,i,n)}return i[o].exports}for(var a=!1,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";var n=e("./utils"),r=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,r,o,s,l,c=[],u=0,h=e.length,f=h,d="string"!==n.getTypeOf(e);u<e.length;)f=h-u,d?(t=e[u++],i=u<h?e[u++]:0,r=u<h?e[u++]:0):(t=e.charCodeAt(u++),i=u<h?e.charCodeAt(u++):0,r=u<h?e.charCodeAt(u++):0),o=(3&t)<<4|i>>4,s=f>1?(15&i)<<2|r>>6:64,l=f>2?63&r:64,c.push(a.charAt(t>>2)+a.charAt(o)+a.charAt(s)+a.charAt(l));return c.join("")},i.decode=function(e){var t,i,n,o,s,l,c=0,u=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&f--,e.charAt(e.length-2)===a.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)n=a.indexOf(e.charAt(c++)),t=(15&(o=a.indexOf(e.charAt(c++))))<<4|(s=a.indexOf(e.charAt(c++)))>>2,i=(3&s)<<6|(l=a.indexOf(e.charAt(c++))),h[u++]=n<<2|o>>4,64!==s&&(h[u++]=t),64!==l&&(h[u++]=i);return h}},{"./support":30,"./utils":32}],2:[function(e,t,i){"use strict";var n=e("./external"),r=e("./stream/DataWorker"),a=e("./stream/DataLengthProbe"),o=e("./stream/Crc32Probe");function s(e,t,i,n,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=r}a=e("./stream/DataLengthProbe"),s.prototype={getContentWorker:function(){var e=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,i){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){"use strict";var n=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){"use strict";var n=e("./utils"),r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,i,n){var a=r,o=0+i;e^=-1;for(var s=0;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,i,n){var a=r,o=0+i;e^=-1;for(var s=0;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}i.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new l("Deflate",e)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){"use strict";var n=e("../utils"),r=e("../stream/GenericWorker"),a=e("../utf8"),o=e("../crc32"),s=e("../signature"),l=function(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n},c=function(e,t,i,r,c,u){var h,f,d=e.file,p=e.compression,v=u!==a.utf8encode,g=n.transformTo("string",u(d.name)),m=n.transformTo("string",a.utf8encode(d.name)),y=d.comment,b=n.transformTo("string",u(y)),k=n.transformTo("string",a.utf8encode(y)),C=m.length!==d.name.length,w=k.length!==y.length,_="",x="",S="",T=d.dir,I=d.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var E=0;t&&(E|=8),v||!C&&!w||(E|=2048);var A,R,D=0,M=0;T&&(D|=16),"UNIX"===c?(M=798,D|=(R=A=d.unixPermissions,A||(R=T?16893:33204),(65535&R)<<16)):(M=20,D|=63&(d.dosPermissions||0)),h=I.getUTCHours(),h<<=6,h|=I.getUTCMinutes(),h<<=5,h|=I.getUTCSeconds()/2,f=I.getUTCFullYear()-1980,f<<=4,f|=I.getUTCMonth()+1,f<<=5,f|=I.getUTCDate(),C&&(x=l(1,1)+l(o(g),4)+m,_+="up"+l(x.length,2)+x),w&&(S=l(1,1)+l(o(b),4)+k,_+="uc"+l(S.length,2)+S);var z="";return z+="\n\0",z+=l(E,2),z+=p.magic,z+=l(h,2),z+=l(f,2),z+=l(O.crc32,4),z+=l(O.compressedSize,4),z+=l(O.uncompressedSize,4),z+=l(g.length,2),z+=l(_.length,2),{fileRecord:s.LOCAL_FILE_HEADER+z+g+_,dirRecord:s.CENTRAL_FILE_HEADER+l(M,2)+z+l(b.length,2)+"\0\0\0\0"+l(D,4)+l(r,4)+g+_+b}},u=function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function h(e,t,i,n){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(h,r),h.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:u(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=function(e,t,i,r,a){var o=n.transformTo("string",a(r));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(i,4)+l(o.length,2)+o}(this.dirRecords.length,this.bytesWritten-e,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},h.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},h.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){"use strict";var n=e("../compressions"),r=e("./ZipFileWorker");i.generateWorker=function(e,t,i){var a=new r(t.streamFiles,i,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,i){o++;var r=function(e,t){var i=e||t,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r}(i.options.compression,t.compression),s=i.dir,l=i.date;i._compressWorker(r,i.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:s,date:l,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(s){a.error(s)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.4.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){"use strict";var n=e("./utils"),r=e("./external"),a=e("./utf8"),o=(n=e("./utils"),e("./zipEntries")),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new r.Promise((function(t,i){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){i(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var i=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new o(t);return i.load(e),i})).then((function(e){var i=[r.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var a=0;a<n.length;a++)i.push(c(n[a]));return r.Promise.all(i)})).then((function(e){for(var n=e.shift(),r=n.files,a=0;a<r.length;a++){var o=r[a];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){"use strict";var n=e("../utils"),r=e("../stream/GenericWorker");function a(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(a,r),a.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){"use strict";var n=e("readable-stream").Readable;function r(e,t,i){n.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),i&&i(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,i){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){"use strict";var n=e("./utf8"),r=e("./utils"),a=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),s=e("./defaults"),l=e("./compressedObject"),c=e("./zipObject"),u=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),d=function(e,t,i){var n,o,u=r.getTypeOf(t),d=r.extend(i||{},s);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=v(e)),d.createFolders&&(n=p(e))&&g.call(this,n,!0),i&&void 0!==i.binary||(d.binary=!("string"===u&&!1===d.binary&&!1===d.base64)),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",u="string"),o=t instanceof l||t instanceof a?t:h.isNode&&h.isStream(t)?new f(e,t):r.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var m=new c(e,o,d);this.files[e]=m},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:s.createFolders,e=v(e),this.files[e]||d.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n))},filter:function(e){var t=[];return this.forEach((function(i,n){e(i,n)&&t.push(n)})),t},file:function(e,t,i){if(1===arguments.length){if(m(e)){var n=e;return this.filter((function(e,t){return!t.dir&&n.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null}return d.call(this,e=this.root+e,t,i),this},folder:function(e){if(!e)return this;if(m(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=g.call(this,this.root+e),i=this.clone();return i.root=t.name,i},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");r.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS"),t=u.generateWorker(this,i,i.comment||this.comment||"")}catch(s){(t=new a("error")).error(s)}return new o(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){"use strict";var n=e("./DataReader");function r(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,n),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===i&&this.data[a+2]===n&&this.data[a+3]===r)return a-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&i===a[1]&&n===a[2]&&r===a[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){"use strict";var n=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,i){"use strict";var n=e("./Uint8ArrayReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){"use strict";var n=e("./DataReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){"use strict";var n=e("./ArrayReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){"use strict";var n=e("../utils"),r=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(n.transformTo("uint8array",e)):new a(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){"use strict";i.LOCAL_FILE_HEADER="PK\x03\x04",i.CENTRAL_FILE_HEADER="PK\x01\x02",i.CENTRAL_DIRECTORY_END="PK\x05\x06",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,i){"use strict";var n=e("./GenericWorker"),r=e("../utils");function a(e){n.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(a,n),a.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){"use strict";var n=e("./GenericWorker"),r=e("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,n),a.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(a,r),a.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),s=e("../support"),l=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(h){}function u(e,t,i){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=i,n.checkSupport(o),this._worker=e.pipe(new r(o)),e.lock()}catch(h){this._worker=new a("error"),this._worker.error(h)}}u.prototype={accumulate:function(e){return t=this,i=e,new l.Promise((function(e,r){var a=[],s=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",(function(e,t){a.push(e),i&&i(t)})).on("error",(function(e){a=[],r(e)})).on("end",(function(){try{var t=function(e,t,i){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),i);case"base64":return o.encode(t);default:return n.transformTo(e,t)}}(l,function(e,t){var i,n=0,r=null,a=0;for(i=0;i<t.length;i++)a+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(a),i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),c);e(t)}catch(h){r(h)}a=[]})).resume()}));var t,i},on:function(e,t){var i=this;return this._worker.on(e,"data"===e?function(e){t.call(i,e.data,e.meta)}:function(){n.delay(t,arguments,i)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=0===new Blob([n],{type:"application/zip"}).size}catch(a){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),i.blob=0===r.getBlob("application/zip").size}catch(a){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(a){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){"use strict";for(var n=e("./utils"),r=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,i.utf8encode=function(e){return r.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,i,n,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),o=0,a=0;o<l;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(n-56320),a++),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t}(e)},i.utf8decode=function(e){return r.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,r,a,o=e.length,l=new Array(2*o);for(i=0,t=0;t<o;)if((r=e[t++])<128)l[i++]=r;else if((a=s[r])>4)l[i++]=65533,t+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&t<o;)r=r<<6|63&e[t++],a--;a>1?l[i++]=65533:r<65536?l[i++]=r:(l[i++]=55296|(r-=65536)>>10&1023,l[i++]=56320|1023&r)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),n.applyFromCharCode(l)}(e=n.transformTo(r.uint8array?"uint8array":"array",e))},n.inherits(c,o),c.prototype.processChunk=function(e){var t=n.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+s[e[i]]>t?i:t}(t),l=t;o!==t.length&&(r.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:i.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=c,n.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){"use strict";var n=e("./support"),r=e("./base64"),a=e("./nodejsUtils"),o=e("set-immediate-shim"),s=e("./external");function l(e){return e}function c(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}i.newBlob=function(e,t){i.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,i){var n=[],r=0,a=e.length;if(a<=i)return String.fromCharCode.apply(null,e);for(;r<a;)n.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(r,Math.min(r+i,a)):e.subarray(r,Math.min(r+i,a)))),r+=i;return n.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,n=i.getTypeOf(e),r=!0;if("uint8array"===n?r=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=u.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return u.stringifyByChunk(e,n,t)}catch(a){t=Math.floor(t/2)}return u.stringifyByChar(e)}function f(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}i.applyFromCharCode=h;var d={};d.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},d.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},d.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return a.newBufferFrom(e)}},d.nodebuffer={string:h,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:l},i.transformTo=function(e,t){if(t||(t=""),!e)return t;i.checkSupport(e);var n=i.getTypeOf(t);return d[n][e](t)},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&a.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},i.delay=function(e,t,i){o((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,a,o,l){return s.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var u,h=i.getTypeOf(t);return h?("arraybuffer"===h?t=i.transformTo("uint8array",t):"string"===h&&(l?t=r.decode(t):a&&!0!==o&&(t=c(u=t,n.uint8array?new Uint8Array(u.length):new Array(u.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,i){"use strict";var n=e("./reader/readerFor"),r=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.transformTo(s.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(n>0)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){"use strict";var n=e("./reader/readerFor"),r=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,n,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var a=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){"use strict";var n=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};l.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(l){(t=new s("error")).error(l)}return new n(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)l.prototype[c[h]]=u;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var i,n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,o=new r(u),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),i=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,i=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;n=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||i()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){"use strict";var n=e("immediate");function r(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&d(this,e)}function u(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function h(e,t,i){n((function(){var n;try{n=t(i)}catch(r){return a.reject(e,r)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var i=!1;function n(t){i||(i=!0,a.reject(e,t))}function r(t){i||(i=!0,a.resolve(e,t))}var o=p((function(){t(r,n)}));"error"===o.status&&n(o.value)}function p(e,t){var i={};try{i.value=e(t),i.status="success"}catch(n){i.status="error",i.value=n}return i}t.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var i=new this.constructor(r);return this.state!==l?h(i,this.state===s?e:t,this.outcome):this.queue.push(new u(i,e,t)),i},u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},a.resolve=function(e,t){var i=p(f,t);if("error"===i.status)return a.reject(e,i.value);var n=i.value;if(n)d(e,n);else{e.state=s,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var o=new Array(i),s=0,l=-1,c=new this(r);++l<i;)u(e[l],l);return c;function u(e,r){t.resolve(e).then((function(e){o[r]=e,++s!==i||n||(n=!0,a.resolve(c,o))}),(function(e){n||(n=!0,a.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,i=!1;if(!t)return this.resolve([]);for(var n=-1,o=new this(r);++n<t;)this.resolve(e[n]).then((function(e){i||(i=!0,a.resolve(o,e))}),(function(e){i||(i=!0,a.reject(o,e))}));return o}},{immediate:36}],38:[function(e,t,i){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){"use strict";var n=e("./zlib/deflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(o[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(i=n.deflateSetDictionary(this.strm,u)))throw new Error(o[i]);this._dict_set=!0}}function u(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}c.prototype.push=function(e,t){var i,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(c),s.next_out=0,s.avail_out=c),1!==(i=n.deflate(s,o))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?a.buf2binstring(r.shrinkBuf(s.output,s.next_out)):r.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==i);return 4===o?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==o||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=c,i.deflate=u,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){"use strict";var n=e("./zlib/inflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==o.Z_OK)throw new Error(s[i]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function f(e,t){var i=new h(t);if(i.push(e,!0),i.err)throw i.msg||s[i.err];return i.result}h.prototype.push=function(e,t){var i,s,l,c,h,f,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,d.input="string"==typeof e?a.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?new Uint8Array(e):e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(p),d.next_out=0,d.avail_out=p),(i=n.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&v&&(f="string"==typeof v?a.string2buf(v):"[object ArrayBuffer]"===u.call(v)?new Uint8Array(v):v,i=n.inflateSetDictionary(this.strm,f)),i===o.Z_BUF_ERROR&&!0===g&&(i=o.Z_OK,g=!1),i!==o.Z_STREAM_END&&i!==o.Z_OK)return this.onEnd(i),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&i!==o.Z_STREAM_END&&(0!==d.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(d.output,d.next_out),c=d.next_out-l,h=a.buf2string(d.output,l),d.next_out=c,d.avail_out=p-c,c&&r.arraySet(d.output,d.output,l,c,0),this.onData(h)):this.onData(r.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&i!==o.Z_STREAM_END);return i===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=h,i.inflate=f,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},i.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var a=0;a<n;a++)e[r+a]=t[i+a]},flattenChunks:function(e){var t,i,n,r,a,o;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++)o.set(a=e[t],r),r+=a.length;return o}},a={arraySet:function(e,t,i,n,r){for(var a=0;a<n;a++)e[r+a]=t[i+a]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(n)},{}],42:[function(e,t,i){"use strict";var n=e("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(c){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",o=0;o<t;o++)i+=String.fromCharCode(e[o]);return i}o[254]=o[254]=1,i.string2buf=function(e){var t,i,r,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(r-56320),a++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(r-56320),a++),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},i.buf2binstring=function(e){return l(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,a,s=t||e.length,c=new Array(2*s);for(n=0,i=0;i<s;)if((r=e[i++])<128)c[n++]=r;else if((a=o[r])>4)c[n++]=65533,i+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&i<s;)r=r<<6|63&e[i++],a--;a>1?c[n++]=65533:r<65536?c[n++]=r:(c[n++]=55296|(r-=65536)>>10&1023,c[n++]=56320|1023&r)}return l(c,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+o[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{a=a+(r=r+t[n++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}},{}],44:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){"use strict";var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,r){var a=n,o=r+i;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,i){"use strict";var n,r=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages");function c(e,t){return e.msg=l[t],t}function u(e){return(e<<1)-(e>4?9:0)}function h(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function d(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var i,n,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,h=e.prev,f=e.strstart+258,d=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+o]===p&&c[i+o-1]===d&&c[i]===c[a]&&c[++i]===c[a+1]){a+=2,i++;do{}while(c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&a<f);if(n=258-(f-a),a=f-258,n>o){if(e.match_start=t,o=n,n>=s)break;d=c[a+o-1],p=c[a+o]}}}while((t=h[t&u])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead}function m(e){var t,i,n,a,l,c,u,h,f,d,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--i);t=i=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--i);a+=p}if(0===e.strm.avail_in)break;if(u=e.window,h=e.strstart+e.lookahead,d=void 0,(d=(c=e.strm).avail_in)>(f=a)&&(d=f),i=0===d?0:(c.avail_in-=d,r.arraySet(u,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=o(c.adler,u,d,h):2===c.state.wrap&&(c.adler=s(c.adler,u,d,h)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=i,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var i,n;;){if(e.lookahead<262){if(m(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-262&&(e.match_length=g(e,i)),e.match_length>=3)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var i,n,r;;){if(e.lookahead<262){if(m(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-262&&(e.match_length=g(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function k(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):c(e,-2)}function _(e){var t,i=w(e);return 0===i&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),i}function x(e,t,i,n,a,o){if(!e)return-2;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>9||8!==i||n<8||n>15||t<0||t>9||o<0||o>4)return c(e,-2);8===n&&(n=9);var l=new C;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=i,_(e)}n=[new k(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(m(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&d(e,!1),1)})),new k(4,4,8,4,y),new k(4,5,16,8,y),new k(4,6,32,32,y),new k(4,4,16,16,b),new k(8,16,32,32,b),new k(8,16,128,128,b),new k(8,32,128,256,b),new k(32,128,258,1024,b),new k(32,258,258,4096,b)],i.deflateInit=function(e,t){return x(e,t,8,15,8,0)},i.deflateInit2=x,i.deflateReset=_,i.deflateResetKeep=w,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},i.deflate=function(e,t){var i,r,o,l;if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(r.strm=e,i=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,3),r.status=113);else{var g=8+(r.w_bits-8<<4)<<8;g|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=32),g+=31-g%31,r.status=113,v(r,g),0!==r.strstart&&(v(r,e.adler>>>16),v(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),f(e),o=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),f(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),f(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(e),r.pending+2<=r.pending_buf_size&&(p(r,255&e.adler),p(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&u(t)<=u(i)&&4!==t)return c(e,-5);if(666===r.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(m(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var i,n,r,o,s=e.window;;){if(e.lookahead<=258){if(m(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){o=e.strstart+258;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);e.match_length=258-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):n[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t&&(h(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(p(r,255&e.adler),p(r,e.adler>>8&255),p(r,e.adler>>16&255),p(r,e.adler>>24&255),p(r,255&e.total_in),p(r,e.total_in>>8&255),p(r,e.total_in>>16&255),p(r,e.total_in>>24&255)):(v(r,e.adler>>>16),v(r,65535&e.adler)),f(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},i.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},i.deflateSetDictionary=function(e,t){var i,n,a,s,l,c,u,f,d=t.length;if(!e||!e.state)return-2;if(2===(s=(i=e.state).wrap)||1===s&&42!==i.status||i.lookahead)return-2;for(1===s&&(e.adler=o(e.adler,t,d,0)),i.wrap=0,d>=i.w_size&&(0===s&&(h(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new r.Buf8(i.w_size),r.arraySet(f,t,d-i.w_size,i.w_size,0),t=f,d=i.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,m(i);i.lookahead>=3;){n=i.strstart,a=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--a);i.strstart=n,i.lookahead=2,m(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,i.wrap=s,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){"use strict";t.exports=function(e,t){var i,n,r,a,o,s,l,c,u,h,f,d,p,v,g,m,y,b,k,C,w,_,x,S,T;S=e.input,r=(n=e.next_in)+(e.avail_in-5),T=e.output,o=(a=e.next_out)-(t-e.avail_out),s=a+(e.avail_out-257),l=(i=e.state).dmax,c=i.wsize,u=i.whave,h=i.wnext,f=i.window,d=i.hold,p=i.bits,v=i.lencode,g=i.distcode,m=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;e:do{p<15&&(d+=S[n++]<<p,d+=S[n++]<<(p+=8),p+=8),b=v[d&m];t:for(;;){if(d>>>=k=b>>>24,p-=k,0==(k=b>>>16&255))T[a++]=65535&b;else{if(!(16&k)){if(0==(64&k)){b=v[(65535&b)+(d&(1<<k)-1)];continue t}if(32&k){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}C=65535&b,(k&=15)&&(p<k&&(d+=S[n++]<<p,p+=8),C+=d&(1<<k)-1,d>>>=k,p-=k),p<15&&(d+=S[n++]<<p,d+=S[n++]<<(p+=8),p+=8),b=g[d&y];i:for(;;){if(d>>>=k=b>>>24,p-=k,!(16&(k=b>>>16&255))){if(0==(64&k)){b=g[(65535&b)+(d&(1<<k)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&b,p<(k&=15)&&(d+=S[n++]<<p,(p+=8)<k&&(d+=S[n++]<<p,p+=8)),(w+=d&(1<<k)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(d>>>=k,p-=k,w>(k=a-o)){if((k=w-k)>u&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(_=0,x=f,0===h){if(_+=c-k,k<C){C-=k;do{T[a++]=f[_++]}while(--k);_=a-w,x=T}}else if(h<k){if(_+=c+h-k,(k-=h)<C){C-=k;do{T[a++]=f[_++]}while(--k);if(_=0,h<C){C-=k=h;do{T[a++]=f[_++]}while(--k);_=a-w,x=T}}}else if(_+=h-k,k<C){C-=k;do{T[a++]=f[_++]}while(--k);_=a-w,x=T}for(;C>2;)T[a++]=x[_++],T[a++]=x[_++],T[a++]=x[_++],C-=3;C&&(T[a++]=x[_++],C>1&&(T[a++]=x[_++]))}else{_=a-w;do{T[a++]=T[_++],T[a++]=T[_++],T[a++]=T[_++],C-=3}while(C>2);C&&(T[a++]=T[_++],C>1&&(T[a++]=T[_++]))}break}}break}}while(n<r&&a<s);d&=(1<<(p-=(C=p>>3)<<3))-1,e.next_in=n-=C,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<s?s-a+257:257-(a-s),i.hold=d,i.bits=p}},{}],49:[function(e,t,i){"use strict";var n=e("../utils/common"),r=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees");function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):-2}function h(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):-2}function f(e,t){var i,n;return e&&e.state?(t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==(n=e.state).window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,h(e))):-2}function d(e,t){var i,n;return e?(n=new c,e.state=n,n.window=null,0!==(i=f(e,t))&&(e.state=null),i):-2}var p,v,g=!0;function m(e){if(g){var t;for(p=new n.Buf32(512),v=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,v,0,e.work,{bits:5}),g=!1}e.lencode=p,e.lenbits=9,e.distcode=v,e.distbits=5}function y(e,t,i,r){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),r>=o.wsize?(n.arraySet(o.window,t,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>r&&(a=r),n.arraySet(o.window,t,i-r,a,o.wnext),(r-=a)?(n.arraySet(o.window,t,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}i.inflateReset=h,i.inflateReset2=f,i.inflateResetKeep=u,i.inflateInit=function(e){return d(e,15)},i.inflateInit2=d,i.inflate=function(e,t){var i,c,u,h,f,d,p,v,g,b,k,C,w,_,x,S,T,I,O,E,A,R,D,M,z=0,P=new n.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(i=e.state).mode&&(i.mode=13),f=e.next_out,u=e.output,h=e.next_in,c=e.input,v=i.hold,g=i.bits,b=d=e.avail_in,k=p=e.avail_out,R=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;g<16;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(2&i.wrap&&35615===v){i.check=0,P[0]=255&v,P[1]=v>>>8&255,i.check=a(i.check,P,2,0),v=0,g=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&v)<<8)+(v>>8))%31){e.msg="incorrect header check",i.mode=30;break}if(8!=(15&v)){e.msg="unknown compression method",i.mode=30;break}if(g-=4,A=8+(15&(v>>>=4)),0===i.wbits)i.wbits=A;else if(A>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<A,e.adler=i.check=1,i.mode=512&v?10:12,v=0,g=0;break;case 2:for(;g<16;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(i.flags=v,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=v>>8&1),512&i.flags&&(P[0]=255&v,P[1]=v>>>8&255,i.check=a(i.check,P,2,0)),v=0,g=0,i.mode=3;case 3:for(;g<32;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}i.head&&(i.head.time=v),512&i.flags&&(P[0]=255&v,P[1]=v>>>8&255,P[2]=v>>>16&255,P[3]=v>>>24&255,i.check=a(i.check,P,4,0)),v=0,g=0,i.mode=4;case 4:for(;g<16;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}i.head&&(i.head.xflags=255&v,i.head.os=v>>8),512&i.flags&&(P[0]=255&v,P[1]=v>>>8&255,i.check=a(i.check,P,2,0)),v=0,g=0,i.mode=5;case 5:if(1024&i.flags){for(;g<16;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}i.length=v,i.head&&(i.head.extra_len=v),512&i.flags&&(P[0]=255&v,P[1]=v>>>8&255,i.check=a(i.check,P,2,0)),v=0,g=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((C=i.length)>d&&(C=d),C&&(i.head&&(A=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,c,h,C,A)),512&i.flags&&(i.check=a(i.check,c,C,h)),d-=C,h+=C,i.length-=C),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===d)break e;C=0;do{A=c[h+C++],i.head&&A&&i.length<65536&&(i.head.name+=String.fromCharCode(A))}while(A&&C<d);if(512&i.flags&&(i.check=a(i.check,c,C,h)),d-=C,h+=C,A)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===d)break e;C=0;do{A=c[h+C++],i.head&&A&&i.length<65536&&(i.head.comment+=String.fromCharCode(A))}while(A&&C<d);if(512&i.flags&&(i.check=a(i.check,c,C,h)),d-=C,h+=C,A)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;g<16;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(v!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}v=0,g=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;g<32;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}e.adler=i.check=l(v),v=0,g=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,i.hold=v,i.bits=g,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last){v>>>=7&g,g-=7&g,i.mode=27;break}for(;g<3;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}switch(i.last=1&v,g-=1,3&(v>>>=1)){case 0:i.mode=14;break;case 1:if(m(i),i.mode=20,6===t){v>>>=2,g-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}v>>>=2,g-=2;break;case 14:for(v>>>=7&g,g-=7&g;g<32;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if((65535&v)!=(v>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&v,v=0,g=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(C=i.length){if(C>d&&(C=d),C>p&&(C=p),0===C)break e;n.arraySet(u,c,h,C,f),d-=C,h+=C,p-=C,f+=C,i.length-=C;break}i.mode=12;break;case 17:for(;g<14;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(i.nlen=257+(31&v),g-=5,i.ndist=1+(31&(v>>>=5)),g-=5,i.ncode=4+(15&(v>>>=5)),v>>>=4,g-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;g<3;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}i.lens[F[i.have++]]=7&v,v>>>=3,g-=3}for(;i.have<19;)i.lens[F[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,R=s(0,i.lens,0,19,i.lencode,0,i.work,D={bits:i.lenbits}),i.lenbits=D.bits,R){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;S=(z=i.lencode[v&(1<<i.lenbits)-1])>>>16&255,T=65535&z,!((x=z>>>24)<=g);){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(T<16)v>>>=x,g-=x,i.lens[i.have++]=T;else{if(16===T){for(M=x+2;g<M;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(v>>>=x,g-=x,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}A=i.lens[i.have-1],C=3+(3&v),v>>>=2,g-=2}else if(17===T){for(M=x+3;g<M;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}g-=x,A=0,C=3+(7&(v>>>=x)),v>>>=3,g-=3}else{for(M=x+7;g<M;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}g-=x,A=0,C=11+(127&(v>>>=x)),v>>>=7,g-=7}if(i.have+C>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;C--;)i.lens[i.have++]=A}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,R=s(1,i.lens,0,i.nlen,i.lencode,0,i.work,D={bits:i.lenbits}),i.lenbits=D.bits,R){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,R=s(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,D={bits:i.distbits}),i.distbits=D.bits,R){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(d>=6&&p>=258){e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,i.hold=v,i.bits=g,o(e,k),f=e.next_out,u=e.output,p=e.avail_out,h=e.next_in,c=e.input,d=e.avail_in,v=i.hold,g=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;S=(z=i.lencode[v&(1<<i.lenbits)-1])>>>16&255,T=65535&z,!((x=z>>>24)<=g);){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(S&&0==(240&S)){for(I=x,O=S,E=T;S=(z=i.lencode[E+((v&(1<<I+O)-1)>>I)])>>>16&255,T=65535&z,!(I+(x=z>>>24)<=g);){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}v>>>=I,g-=I,i.back+=I}if(v>>>=x,g-=x,i.back+=x,i.length=T,0===S){i.mode=26;break}if(32&S){i.back=-1,i.mode=12;break}if(64&S){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&S,i.mode=22;case 22:if(i.extra){for(M=i.extra;g<M;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}i.length+=v&(1<<i.extra)-1,v>>>=i.extra,g-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;S=(z=i.distcode[v&(1<<i.distbits)-1])>>>16&255,T=65535&z,!((x=z>>>24)<=g);){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(0==(240&S)){for(I=x,O=S,E=T;S=(z=i.distcode[E+((v&(1<<I+O)-1)>>I)])>>>16&255,T=65535&z,!(I+(x=z>>>24)<=g);){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}v>>>=I,g-=I,i.back+=I}if(v>>>=x,g-=x,i.back+=x,64&S){e.msg="invalid distance code",i.mode=30;break}i.offset=T,i.extra=15&S,i.mode=24;case 24:if(i.extra){for(M=i.extra;g<M;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}i.offset+=v&(1<<i.extra)-1,v>>>=i.extra,g-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===p)break e;if(i.offset>(C=k-p)){if((C=i.offset-C)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}w=C>i.wnext?i.wsize-(C-=i.wnext):i.wnext-C,C>i.length&&(C=i.length),_=i.window}else _=u,w=f-i.offset,C=i.length;C>p&&(C=p),p-=C,i.length-=C;do{u[f++]=_[w++]}while(--C);0===i.length&&(i.mode=21);break;case 26:if(0===p)break e;u[f++]=i.length,p--,i.mode=21;break;case 27:if(i.wrap){for(;g<32;){if(0===d)break e;d--,v|=c[h++]<<g,g+=8}if(e.total_out+=k-=p,i.total+=k,k&&(e.adler=i.check=i.flags?a(i.check,u,k,f-k):r(i.check,u,k,f-k)),k=p,(i.flags?v:l(v))!==i.check){e.msg="incorrect data check",i.mode=30;break}v=0,g=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;g<32;){if(0===d)break e;d--,v+=c[h++]<<g,g+=8}if(v!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}v=0,g=0}i.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=f,e.avail_out=p,e.next_in=h,e.avail_in=d,i.hold=v,i.bits=g,(i.wsize||k!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&y(e,e.output,e.next_out,k-e.avail_out)?(i.mode=31,-4):(k-=e.avail_out,e.total_in+=b-=e.avail_in,e.total_out+=k,i.total+=k,i.wrap&&k&&(e.adler=i.check=i.flags?a(i.check,u,k,e.next_out-k):r(i.check,u,k,e.next_out-k)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===b&&0===k||4===t)&&0===R&&(R=-5),R)},i.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?-2:(i.head=t,t.done=!1,0):-2},i.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?-2:11===i.mode&&r(1,t,n,0)!==i.check?-3:y(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,0):-2},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){"use strict";var n=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,l,c,u,h,f){var d,p,v,g,m,y,b,k,C,w=f.bits,_=0,x=0,S=0,T=0,I=0,O=0,E=0,A=0,R=0,D=0,M=null,z=0,P=new n.Buf16(16),F=new n.Buf16(16),L=null,j=0;for(_=0;_<=15;_++)P[_]=0;for(x=0;x<l;x++)P[t[i+x]]++;for(I=w,T=15;T>=1&&0===P[T];T--);if(I>T&&(I=T),0===T)return c[u++]=20971520,c[u++]=20971520,f.bits=1,0;for(S=1;S<T&&0===P[S];S++);for(I<S&&(I=S),A=1,_=1;_<=15;_++)if(A<<=1,(A-=P[_])<0)return-1;if(A>0&&(0===e||1!==T))return-1;for(F[1]=0,_=1;_<15;_++)F[_+1]=F[_]+P[_];for(x=0;x<l;x++)0!==t[i+x]&&(h[F[t[i+x]]++]=x);if(0===e?(M=L=h,y=19):1===e?(M=r,z-=257,L=a,j-=257,y=256):(M=o,L=s,y=-1),D=0,x=0,_=S,m=u,O=I,E=0,v=-1,g=(R=1<<I)-1,1===e&&R>852||2===e&&R>592)return 1;for(;;){b=_-E,h[x]<y?(k=0,C=h[x]):h[x]>y?(k=L[j+h[x]],C=M[z+h[x]]):(k=96,C=0),d=1<<_-E,S=p=1<<O;do{c[m+(D>>E)+(p-=d)]=b<<24|k<<16|C|0}while(0!==p);for(d=1<<_-1;D&d;)d>>=1;if(0!==d?(D&=d-1,D+=d):D=0,x++,0==--P[_]){if(_===T)break;_=t[i+h[x]]}if(_>I&&(D&g)!==v){for(0===E&&(E=I),m+=S,A=1<<(O=_-E);O+E<T&&!((A-=P[O+E])<=0);)O++,A<<=1;if(R+=1<<O,1===e&&R>852||2===e&&R>592)return 1;c[v=D&g]=I<<24|O<<16|m-u|0}}return 0!==D&&(c[m+D]=_-E<<24|64<<16|0),f.bits=I,0}},{"../utils/common":41}],51:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){"use strict";var n=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);r(c);var u=new Array(60);r(u);var h=new Array(512);r(h);var f=new Array(256);r(f);var d=new Array(29);r(d);var p,v,g,m=new Array(30);function y(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?h[e]:h[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function _(e,t,i){w(e,i[2*t],i[2*t+1])}function x(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function S(e,t,i){var n,r,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+i[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=x(a[s]++,s))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function O(e,t,i,n){var r=2*t,a=2*i;return e[r]<e[a]||e[r]===e[a]&&n[t]<=n[i]}function E(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&O(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!O(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n}function A(e,t,i){var n,r,s,l,c=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===n?_(e,r,t):(_(e,(s=f[r])+256+1,t),0!==(l=a[s])&&w(e,r-=d[s],l),_(e,s=k(--n),i),0!==(l=o[s])&&w(e,n-=m[s],l))}while(c<e.last_lit);_(e,256,t)}function R(e,t){var i,n,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<l;i++)0!==a[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):a[2*i+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)E(e,a,i);r=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],E(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,a[2*r]=a[2*i]+a[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,a[2*i+1]=a[2*n+1]=r,e.heap[1]=r++,E(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,a,o,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(a=l[2*l[2*(n=e.heap[i])+1]+1]+1)>p&&(a=p,v++),l[2*n+1]=a,n>c||(e.bl_count[a]++,o=0,n>=d&&(o=f[n-d]),e.opt_len+=(s=l[2*n])*(a+o),h&&(e.static_len+=s*(u[2*n+1]+o)));if(0!==v){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)(r=e.heap[--i])>c||(l[2*r+1]!==a&&(e.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),n--)}}(e,t),S(a,c,e.bl_count)}function D(e,t,i){var n,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++s<l&&r===o||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))}function M(e,t,i){var n,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++s<l&&r===o)){if(s<c)do{_(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(_(e,r,e.bl_tree),s--),_(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(_(e,17,e.bl_tree),w(e,s-3,3)):(_(e,18,e.bl_tree),w(e,s-11,7));s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}}r(m);var z=!1;function P(e,t,i,r){w(e,0+(r?1:0),3),function(e,t,i,r){I(e),C(e,i),C(e,~i),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}i._tr_init=function(e){z||(function(){var e,t,i,n,r,l=new Array(16);for(i=0,n=0;n<28;n++)for(d[n]=i,e=0;e<1<<a[n];e++)f[i++]=n;for(f[i-1]=n,r=0,n=0;n<16;n++)for(m[n]=r,e=0;e<1<<o[n];e++)h[r++]=n;for(r>>=7;n<30;n++)for(m[n]=r<<7,e=0;e<1<<o[n]-7;e++)h[256+r++]=n;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(S(c,287,l),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=x(e,5);p=new y(c,a,257,286,15),v=new y(u,o,0,30,15),g=new y(new Array(0),s,0,19,7)}(),z=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,v),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,T(e)},i._tr_stored_block=P,i._tr_flush_block=function(e,t,i,n){var r,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),R(e,e.l_desc),R(e,e.d_desc),o=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(a=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=a)):r=a=i+5,i+4<=r&&-1!==t?P(e,t,i,n):4===e.strategy||a===r?(w(e,2+(n?1:0),3),A(e,c,u)):(w(e,4+(n?1:0),3),function(e,t,i,n){var r;for(w(e,t-257,5),w(e,i-1,5),w(e,n-4,4),r=0;r<n;r++)w(e,e.bl_tree[2*l[r]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),A(e,e.dyn_ltree,e.dyn_dtree)),T(e),n&&I(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(f[i]+256+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){w(e,2,3),_(e,256,c),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},n9ga:function(e,t,i){"use strict";var n,r,a,o,s,l,c,u,h;i.r(t),i.d(t,"RankingModule",(function(){return eX}));var f={};i.r(f),i.d(f,"append",(function(){return Nl})),i.d(f,"arabicToRoman",(function(){return Gl})),i.d(f,"createPromise",(function(){return Wl})),i.d(f,"defined",(function(){return Ul})),i.d(f,"definitionId",(function(){return Xl})),i.d(f,"deg",(function(){return Zl})),i.d(f,"encodeBase64",(function(){return tc})),i.d(f,"eventCoordinates",(function(){return ic})),i.d(f,"eventElement",(function(){return nc})),i.d(f,"isTransparent",(function(){return rc})),i.d(f,"last",(function(){return ac})),i.d(f,"limitValue",(function(){return oc})),i.d(f,"mergeSort",(function(){return sc})),i.d(f,"promiseAll",(function(){return lc})),i.d(f,"rad",(function(){return cc})),i.d(f,"round",(function(){return uc})),i.d(f,"valueOrDefault",(function(){return hc})),i.d(f,"bindEvents",(function(){return fc})),i.d(f,"elementOffset",(function(){return dc})),i.d(f,"elementSize",(function(){return gc})),i.d(f,"elementStyles",(function(){return pc})),i.d(f,"unbindEvents",(function(){return mc})),i.d(f,"DEG_TO_RAD",(function(){return Jl})),i.d(f,"MAX_NUM",(function(){return Yl})),i.d(f,"MIN_NUM",(function(){return Kl})),i.d(f,"LRUCache",(function(){return yc})),i.d(f,"TextMetrics",(function(){return Tc})),i.d(f,"measureText",(function(){return Ic})),i.d(f,"objectKey",(function(){return Cc})),i.d(f,"hashKey",(function(){return wc})),i.d(f,"normalizeText",(function(){return kc}));var d={};i.r(d),i.d(d,"swing",(function(){return Mh})),i.d(d,"linear",(function(){return zh})),i.d(d,"easeOutElastic",(function(){return Ph}));var p={};i.r(p),i.d(p,"Circle",(function(){return Zc})),i.d(p,"Arc",(function(){return hu})),i.d(p,"Rect",(function(){return Hc})),i.d(p,"Point",(function(){return jc})),i.d(p,"Segment",(function(){return Mu})),i.d(p,"Matrix",(function(){return Pc})),i.d(p,"Size",(function(){return Bc})),i.d(p,"toMatrix",(function(){return Fc})),i.d(p,"Transformation",(function(){return Wc})),i.d(p,"transform",(function(){return Uc}));var v={};i.r(v),i.d(v,"Surface",(function(){return pf})),i.d(v,"RootNode",(function(){return ff})),i.d(v,"Node",(function(){return af})),i.d(v,"GroupNode",(function(){return gf})),i.d(v,"ArcNode",(function(){return wf})),i.d(v,"CircleNode",(function(){return xf})),i.d(v,"RectNode",(function(){return Tf})),i.d(v,"ImageNode",(function(){return Of})),i.d(v,"TextNode",(function(){return Df})),i.d(v,"PathNode",(function(){return kf})),i.d(v,"MultiPathNode",(function(){return zf})),i.d(v,"DefinitionNode",(function(){return hf})),i.d(v,"ClipNode",(function(){return uf})),i.d(v,"GradientStopNode",(function(){return of})),i.d(v,"LinearGradientNode",(function(){return lf})),i.d(v,"RadialGradientNode",(function(){return cf})),i.d(v,"exportGroup",(function(){return Pf}));var g={};i.r(g),i.d(g,"Surface",(function(){return Jf})),i.d(g,"RootNode",(function(){return Hf})),i.d(g,"Node",(function(){return jf})),i.d(g,"GroupNode",(function(){return Bf})),i.d(g,"ArcNode",(function(){return $f})),i.d(g,"CircleNode",(function(){return ed})),i.d(g,"RectNode",(function(){return id})),i.d(g,"ImageNode",(function(){return rd})),i.d(g,"TextNode",(function(){return od})),i.d(g,"PathNode",(function(){return Kf})),i.d(g,"MultiPathNode",(function(){return ld}));var m={};i.r(m),i.d(m,"Element",(function(){return Xc})),i.d(m,"Circle",(function(){return ru})),i.d(m,"Arc",(function(){return Yu})),i.d(m,"Path",(function(){return Xu})),i.d(m,"MultiPath",(function(){return Lu})),i.d(m,"Text",(function(){return Zu})),i.d(m,"Image",(function(){return Qu})),i.d(m,"Group",(function(){return ih})),i.d(m,"Layout",(function(){return ch})),i.d(m,"Rect",(function(){return hh})),i.d(m,"align",(function(){return dh})),i.d(m,"vAlign",(function(){return ph})),i.d(m,"stack",(function(){return mh})),i.d(m,"vStack",(function(){return yh})),i.d(m,"wrap",(function(){return kh})),i.d(m,"vWrap",(function(){return Ch})),i.d(m,"fit",(function(){return wh})),i.d(m,"LinearGradient",(function(){return Ah})),i.d(m,"RadialGradient",(function(){return Dh})),i.d(m,"GradientStop",(function(){return Th})),i.d(m,"Gradient",(function(){return Oh})),i.d(m,"Animation",(function(){return Hh})),i.d(m,"AnimationFactory",(function(){return Lh})),i.d(m,"PathParser",(function(){return Uu})),i.d(m,"Surface",(function(){return Uh})),i.d(m,"BaseNode",(function(){return qh})),i.d(m,"SurfaceFactory",(function(){return Gh})),i.d(m,"OptionsStore",(function(){return Ac})),i.d(m,"exportImage",(function(){return cd})),i.d(m,"exportSVG",(function(){return ud})),i.d(m,"QuadNode",(function(){return Wf})),i.d(m,"ShapesQuadTree",(function(){return qf})),i.d(m,"ObserversMixin",(function(){return sl})),i.d(m,"svg",(function(){return v})),i.d(m,"canvas",(function(){return g})),i.d(m,"util",(function(){return f}));var y=i("fXoL"),b=i("ofXK"),k=i("HDdC"),C=i("DH7j"),w=i("lJxs"),_=i("XoHu"),x=i("Cfvw");function S(e,t){return new k.a((function(i){var n=e.length;if(0!==n)for(var r=new Array(n),a=0,o=0,s=function(s){var l=Object(x.a)(e[s]),c=!1;i.add(l.subscribe({next:function(e){c||(c=!0,o++),r[s]=e},error:function(e){return i.error(e)},complete:function(){++a!==n&&c||(o===n&&i.next(t?t.reduce((function(e,t,i){return e[t]=r[i],e}),{}):r),i.complete())}}))},l=0;l<n;l++)s(l);else i.complete()}))}var T,I,O,E,A=new y.r("NgValueAccessor"),R={provide:A,useExisting:Object(y.W)((function(){return D})),multi:!0},D=((T=function(){function e(t,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=i,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||T)(y.Rb(y.F),y.Rb(y.m))},T.\u0275dir=y.Mb({type:T,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&y.gc("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[y.Db([R])]}),T),M={provide:A,useExisting:Object(y.W)((function(){return P})),multi:!0},z=new y.r("CompositionEventMode"),P=((E=function(){function e(t,i,n){var r;_classCallCheck(this,e),this._renderer=t,this._elementRef=i,this._compositionMode=n,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(b.v)()?Object(b.v)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||E)(y.Rb(y.F),y.Rb(y.m),y.Rb(z,8))},E.\u0275dir=y.Mb({type:E,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&y.gc("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[y.Db([M])]}),E),F=((O=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||O)},O.\u0275dir=y.Mb({type:O}),O),L=((I=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),i}(F)).\u0275fac=function(e){return j(e||I)},I.\u0275dir=y.Mb({type:I,features:[y.Bb]}),I),j=y.Zb(L);function V(){throw new Error("unimplemented")}var B,N,H=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(i,[{key:"validator",get:function(){return V()}},{key:"asyncValidator",get:function(){return V()}}]),i}(F),G=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),W=((N=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,e)}return i}(G)).\u0275fac=function(e){return new(e||N)(y.Rb(H,2))},N.\u0275dir=y.Mb({type:N,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&y.Jb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[y.Bb]}),N),U=((B=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,e)}return i}(G)).\u0275fac=function(e){return new(e||B)(y.Rb(L,2))},B.\u0275dir=y.Mb({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&y.Jb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[y.Bb]}),B);function q(e){return null==e||0===e.length}var X=new y.r("NgValidators"),J=new y.r("NgAsyncValidators"),Y=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,K=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(q(t.value)||q(e))return null;var i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(q(t.value)||q(e))return null;var i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return q(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return q(e.value)||Y.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(q(t.value))return null;var i=t.value?t.value.length:0;return i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}},{key:"maxLength",value:function(e){return function(t){var i=t.value?t.value.length:0;return i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),i=new RegExp(n)):(n=t.toString(),i=t),function(e){if(q(e.value))return null;var t=e.value;return i.test(t)?null:{pattern:{requiredPattern:n,actualValue:t}}}):e.nullValidator;var i,n}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(Z);return 0==t.length?null:function(e){return Q(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(Z);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(1===t.length){var n=t[0];if(Object(C.a)(n))return S(n,null);if(Object(_.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return S(r.map((function(e){return n[e]})),r)}}if("function"==typeof t[t.length-1]){var a=t.pop();return S(t=1===t.length&&Object(C.a)(t[0])?t[0]:t,null).pipe(Object(w.a)((function(e){return a.apply(void 0,_toConsumableArray(e))})))}return S(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map($)).pipe(Object(w.a)(Q))}}}]),e}();function Z(e){return null!=e}function $(e){var t=Object(y.vb)(e)?Object(x.a)(e):e;if(!Object(y.ub)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Q(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function ee(e){return e.validate?function(t){return e.validate(t)}:e}function te(e){return e.validate?function(t){return e.validate(t)}:e}var ie,ne,re,ae,oe,se,le={provide:A,useExisting:Object(y.W)((function(){return ce})),multi:!0},ce=((ie=function(){function e(t,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=i,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||ie)(y.Rb(y.F),y.Rb(y.m))},ie.\u0275dir=y.Mb({type:ie,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&y.gc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[y.Db([le])]}),ie),ue={provide:A,useExisting:Object(y.W)((function(){return fe})),multi:!0},he=((re=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(i){t._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||re)},re.\u0275prov=y.Nb({token:re,factory:re.\u0275fac}),re),fe=((ne=function(){function e(t,i,n,r){_classCallCheck(this,e),this._renderer=t,this._elementRef=i,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(H),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||ne)(y.Rb(y.F),y.Rb(y.m),y.Rb(he),y.Rb(y.s))},ne.\u0275dir=y.Mb({type:ne,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&y.gc("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[y.Db([ue])]}),ne),de={provide:A,useExisting:Object(y.W)((function(){return pe})),multi:!0},pe=((ae=function(){function e(t,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=i,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||ae)(y.Rb(y.F),y.Rb(y.m))},ae.\u0275dir=y.Mb({type:ae,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&y.gc("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[y.Db([de])]}),ae),ve='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ge='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',me='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ye=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(ve))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(ge,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(me))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(ve))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(ge))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),be={provide:A,useExisting:Object(y.W)((function(){return ke})),multi:!0},ke=((oe=function(){function e(t,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=i,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=y.wb}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var i=function(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",i)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(i){t.value=t._getOptionValue(i),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,i=Array.from(this._optionMap.keys());t<i.length;t++){var n=i[t];if(this._compareWith(this._optionMap.get(n),e))return n}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||oe)(y.Rb(y.F),y.Rb(y.m))},oe.\u0275dir=y.Mb({type:oe,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&y.gc("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[y.Db([be])]}),oe),Ce={provide:A,useExisting:Object(y.W)((function(){return we})),multi:!0},we=((se=function(){function e(t,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=i,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=y.wb}return _createClass(e,[{key:"writeValue",value:function(e){var t,i=this;if(this.value=e,Array.isArray(e)){var n=e.map((function(e){return i._getOptionId(e)}));t=function(e,t){e._setSelected(n.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(i){var n=[];if(i.hasOwnProperty("selectedOptions"))for(var r=i.selectedOptions,a=0;a<r.length;a++){var o=r.item(a),s=t._getOptionValue(o.value);n.push(s)}else for(var l=i.options,c=0;c<l.length;c++){var u=l.item(c);if(u.selected){var h=t._getOptionValue(u.value);n.push(h)}}t.value=n,e(n)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,i=Array.from(this._optionMap.keys());t<i.length;t++){var n=i[t];if(this._compareWith(this._optionMap.get(n)._value,e))return n}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||se)(y.Rb(y.F),y.Rb(y.m))},se.\u0275dir=y.Mb({type:se,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&y.gc("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[y.Db([Ce])]}),se);function _e(e,t){return[].concat(_toConsumableArray(t.path),[e])}function xe(e,t){e||Te(t,"Cannot find control with"),t.valueAccessor||Te(t,"No value accessor for form control with"),e.validator=K.compose([e.validator,t.validator]),e.asyncValidator=K.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(i){e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Se(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,i){t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Se(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Se(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Te(e,t){var i;throw i=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(i))}function Ie(e){return null!=e?K.compose(e.map(ee)):null}function Oe(e){return null!=e?K.composeAsync(e.map(te)):null}function Ee(e,t){if(!e.hasOwnProperty("model"))return!1;var i=e.model;return!!i.isFirstChange()||!Object(y.wb)(t,i.currentValue)}var Ae=[D,pe,ce,ke,we,fe];function Re(e,t){if(!t)return null;Array.isArray(t)||Te(e,"Value accessor was not provided as an array for form control with");var i=void 0,n=void 0,r=void 0;return t.forEach((function(t){var a;t.constructor===P?i=t:(a=t,Ae.some((function(e){return a.constructor===e}))?(n&&Te(e,"More than one built-in value accessor matches form control with"),n=t):(r&&Te(e,"More than one custom value accessor matches form control with"),r=t))})),r||n||i||(Te(e,"No valid value accessor for form control with"),null)}function De(e){var t=ze(e)?e.validators:e;return Array.isArray(t)?Ie(t):t||null}function Me(e,t){var i=ze(t)?t.asyncValidators:e;return Array.isArray(i)?Oe(i):i||null}function ze(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Pe,Fe,Le,je,Ve,Be,Ne,He,Ge,We,Ue=function(){function e(t,i){_classCallCheck(this,e),this.validator=t,this.asyncValidator=i,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=De(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Me(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var i=$(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe((function(i){return t.setErrors(i,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,i){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var n=e;return t.forEach((function(e){n=n instanceof Xe?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof Je&&n.at(e)||null})),n}(this,e)}},{key:"getError",value:function(e,t){var i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new y.o,this.statusChanges=new y.o}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){ze(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),qe=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,i),(e=t.call(this,De(r),Me(a,r)))._onChange=[],e._applyFormState(n),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(i,[{key:"setValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==i.emitViewToModelChange)})),this.updateValueAndValidity(i)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),i}(Ue),Xe=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,De(n),Me(r,n))).controls=e,a._initObservables(),a._setUpdateStrategy(n),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return _createClass(i,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(n){t._throwIfControlMissing(n),t.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})})),this.updateValueAndValidity(i)}},{key:"patchValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(n){t.controls[n]&&t.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})})),this.updateValueAndValidity(i)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(i,n){i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,i){return e[i]=t instanceof qe?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(i){return e(t.controls[i],i)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,i=!1;return this._forEachChild((function(n,r){i=i||t.contains(r)&&e(n)})),i}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,i,n){return(i.enabled||e.disabled)&&(t[n]=i.value),t}))}},{key:"_reduceChildren",value:function(e,t){var i=e;return this._forEachChild((function(e,n){i=t(i,e,n)})),i}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var i=t[e];if(this.controls[i].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,i){if(void 0===e[i])throw new Error("Must supply a value for form control with name: '".concat(i,"'."))}))}}]),i}(Ue),Je=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,De(n),Me(r,n))).controls=e,a._initObservables(),a._setUpdateStrategy(n),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return _createClass(i,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,n){t._throwIfControlMissing(n),t.at(n).setValue(e,{onlySelf:!0,emitEvent:i.emitEvent})})),this.updateValueAndValidity(i)}},{key:"patchValue",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,n){t.at(n)&&t.at(n).patchValue(e,{onlySelf:!0,emitEvent:i.emitEvent})})),this.updateValueAndValidity(i)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(i,n){i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof qe?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,i){e(t,i)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,i){if(void 0===e[i])throw new Error("Must supply a value for form control at index: ".concat(i,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(i){t.e(i)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),i}(Ue),Ye={provide:L,useExisting:Object(y.W)((function(){return Ze}))},Ke=Promise.resolve(null),Ze=((Fe=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new y.o,r.form=new Xe({},Ie(e),Oe(n)),r}return _createClass(i,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;Ke.then((function(){var i=t._findContainer(e.path);e.control=i.registerControl(e.name,e.control),xe(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;Ke.then((function(){var i,n,r,a=t._findContainer(e.path);a&&a.removeControl(e.name),i=t._directives,n=e,(r=i.indexOf(n))>-1&&i.splice(r,1)}))}},{key:"addFormGroup",value:function(e){var t=this;Ke.then((function(){var i=t._findContainer(e.path),n=new Xe({});(function(e,t){null==e&&Te(t,"Cannot find control with"),e.validator=K.compose([e.validator,t.validator]),e.asyncValidator=K.composeAsync([e.asyncValidator,t.asyncValidator])})(n,e),i.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;Ke.then((function(){var i=t._findContainer(e.path);i&&i.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var i=this;Ke.then((function(){i.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),i}(L)).\u0275fac=function(e){return new(e||Fe)(y.Rb(X,10),y.Rb(J,10))},Fe.\u0275dir=y.Mb({type:Fe,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&y.gc("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Db([Ye]),y.Bb]}),Fe),$e=((Pe=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return _e(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ie(this._validators)}},{key:"asyncValidator",get:function(){return Oe(this._asyncValidators)}}]),i}(L)).\u0275fac=function(e){return Qe(e||Pe)},Pe.\u0275dir=y.Mb({type:Pe,features:[y.Bb]}),Pe),Qe=y.Zb($e),et=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(ve,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(ge,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(me))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(ge,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(me))}}]),e}(),tt={provide:L,useExisting:Object(y.W)((function(){return it}))},it=((Le=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this))._parent=e,a._validators=n,a._asyncValidators=r,a}return _createClass(i,[{key:"_checkParentType",value:function(){this._parent instanceof i||this._parent instanceof Ze||et.modelGroupParentException()}}]),i}($e)).\u0275fac=function(e){return new(e||Le)(y.Rb(L,5),y.Rb(X,10),y.Rb(J,10))},Le.\u0275dir=y.Mb({type:Le,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[y.Db([tt]),y.Bb]}),Le),nt={provide:H,useExisting:Object(y.W)((function(){return at}))},rt=Promise.resolve(null),at=((Ve=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;return _classCallCheck(this,i),(o=t.call(this)).control=new qe,o._registered=!1,o.update=new y.o,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=Re(_assertThisInitialized(o),a),o}return _createClass(i,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Ee(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){xe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof it)&&this._parent instanceof $e?et.formGroupNameException():this._parent instanceof it||this._parent instanceof Ze||et.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||et.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;rt.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,i=e.isDisabled.currentValue,n=""===i||i&&"false"!==i;rt.then((function(){n&&!t.control.disabled?t.control.disable():!n&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?_e(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Ie(this._rawValidators)}},{key:"asyncValidator",get:function(){return Oe(this._rawAsyncValidators)}}]),i}(H)).\u0275fac=function(e){return new(e||Ve)(y.Rb(L,9),y.Rb(X,10),y.Rb(J,10),y.Rb(A,10))},Ve.\u0275dir=y.Mb({type:Ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y.Db([nt]),y.Bb,y.Cb]}),Ve),ot=((je=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||je)},je.\u0275dir=y.Mb({type:je,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),je),st=new y.r("NgModelWithFormControlWarning"),lt={provide:H,useExisting:Object(y.W)((function(){return ct}))},ct=((We=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;return _classCallCheck(this,i),(o=t.call(this))._ngModelWarningConfig=a,o.update=new y.o,o._ngModelWarningSent=!1,o._rawValidators=e||[],o._rawAsyncValidators=n||[],o.valueAccessor=Re(_assertThisInitialized(o),r),o}return _createClass(i,[{key:"ngOnChanges",value:function(e){var t,n;this._isControlChanged(e)&&(xe(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Ee(e,this.viewModel)&&(t=i,n=this._ngModelWarningConfig,Object(y.Y)()&&"never"!==n&&((null!==n&&"once"!==n||t._ngModelWarningSentOnce)&&("always"!==n||this._ngModelWarningSent)||(ye.ngModelWarning("formControl"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){ye.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return Ie(this._rawValidators)}},{key:"asyncValidator",get:function(){return Oe(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),i}(H)).\u0275fac=function(e){return new(e||We)(y.Rb(X,10),y.Rb(J,10),y.Rb(A,10),y.Rb(st,8))},We.\u0275dir=y.Mb({type:We,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[y.Db([lt]),y.Bb,y.Cb]}),We._ngModelWarningSentOnce=!1,We),ut=((Ge=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Ge}),Ge.\u0275inj=y.Ob({factory:function(e){return new(e||Ge)}}),Ge),ht=((He=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this._reduceControls(e),n=null,r=null,a=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(n=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,a=null!=t.updateOn?t.updateOn:void 0):(n=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new Xe(i,{asyncValidators:r,updateOn:a,validators:n})}},{key:"control",value:function(e,t,i){return new qe(e,t,i)}},{key:"array",value:function(e,t,i){var n=this,r=e.map((function(e){return n._createControl(e)}));return new Je(r,t,i)}},{key:"_reduceControls",value:function(e){var t=this,i={};return Object.keys(e).forEach((function(n){i[n]=t._createControl(e[n])})),i}},{key:"_createControl",value:function(e){return e instanceof qe||e instanceof Xe||e instanceof Je?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||He)},He.\u0275prov=y.Nb({token:He,factory:He.\u0275fac}),He),ft=((Ne=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Ne}),Ne.\u0275inj=y.Ob({factory:function(e){return new(e||Ne)},providers:[he],imports:[ut]}),Ne),dt=((Be=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:st,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=y.Pb({type:Be}),Be.\u0275inj=y.Ob({factory:function(e){return new(e||Be)},providers:[ht,he],imports:[ut]}),Be),pt=i("VRyK"),vt=i("LRne"),gt=i("n6bG");function mt(e,t,i,n){return Object(gt.a)(i)&&(n=i,i=void 0),n?mt(e,t,i).pipe(Object(w.a)((function(e){return Object(C.a)(e)?n.apply(void 0,_toConsumableArray(e)):n(e)}))):new k.a((function(n){!function e(t,i,n,r,a){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(i,n,a),o=function(){return s.removeEventListener(i,n,a)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(i,n),o=function(){return l.off(i,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(i,n),o=function(){return c.removeListener(i,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,h=t.length;u<h;u++)e(t[u],i,n,r,a)}r.add(o)}(e,t,(function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),n,i)}))}var yt=i("XNiG"),bt=i("quSY"),kt=i("yCtX"),Ct=i("7o/Q"),wt=i("l7GE"),_t=i("ZUHj"),xt=i("Lhse"),St=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Tt(e,this.resultSelector))}}]),e}(),Tt=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return _classCallCheck(this,i),(r=t.call(this,e)).iterators=[],r.active=0,r.resultSelector="function"==typeof n?n:null,r.values=a,r}return _createClass(i,[{key:"_next",value:function(e){var t=this.iterators;Object(C.a)(e)?t.push(new Ot(e)):t.push("function"==typeof e[xt.a]?new It(e[xt.a]()):new Et(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var i=0;i<t;i++){var n=e[i];n.stillUnsubscribed?this.destination.add(n.subscribe(n,i)):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,i=this.destination,n=0;n<t;n++){var r=e[n];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var a=!1,o=[],s=0;s<t;s++){var l=e[s],c=l.next();if(l.hasCompleted()&&(a=!0),c.done)return void i.complete();o.push(c.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),a&&i.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}]),i}(Ct.a),It=function(){function e(t){_classCallCheck(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return e&&e.done}}]),e}(),Ot=function(){function e(t){_classCallCheck(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass(e,[{key:xt.a,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),Et=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e)).parent=n,a.observable=r,a.stillUnsubscribed=!0,a.buffer=[],a.isComplete=!1,a}return _createClass(i,[{key:xt.a,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e,t,i,n,r){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(e,t){return Object(_t.a)(this,this.observable,this,t)}}]),i}(wt.a),At=i("D0XW");function Rt(e){return!Object(C.a)(e)&&e-parseFloat(e)+1>=0}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At.a;return(!Rt(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=At.a),new k.a((function(i){return i.add(t.schedule(Mt,e,{subscriber:i,counter:0,period:e})),i}))}function Mt(e){var t=e.subscriber,i=e.counter,n=e.period;t.next(i),this.schedule({subscriber:t,counter:i+1,period:n},n)}var zt=i("2Vo4"),Pt=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ft(e,this.durationSelector))}}]),e}(),Ft=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).durationSelector=n,r.hasValue=!1,r}return _createClass(i,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(n){return this.destination.error(n)}var i=Object(_t.a)(this,t);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,i=this.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,i,n){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),i}(wt.a),Lt=i("z+Ro");function jt(e){var t=e.index,i=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===i)return n.complete();e.index=t+1,this.schedule(e,i)}}function Vt(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At.a;return t=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=-1;return Rt(t)?n=Number(t)<1?1:Number(t):Object(Lt.a)(t)&&(i=t),Object(Lt.a)(i)||(i=At.a),new k.a((function(t){var r=Rt(e)?e:+e-i.now();return i.schedule(jt,r,{index:0,period:n,subscriber:t})}))}(e,i)},function(e){return e.lift(new Pt(t))}}var Bt=i("eIep"),Nt=i("IzEk"),Ht=function(){function e(t,i){_classCallCheck(this,e),this.compare=t,this.keySelector=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gt(e,this.compare,this.keySelector))}}]),e}(),Gt=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e)).keySelector=r,a.hasKey=!1,"function"==typeof n&&(a.compare=n),a}return _createClass(i,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var i=this.keySelector;t=i?i(e):e}catch(r){return this.destination.error(r)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}]),i}(Ct.a),Wt=i("pLZG"),Ut=i("vkgz"),qt={leading:!0,trailing:!1},Xt=function(){function e(t,i,n,r){_classCallCheck(this,e),this.duration=t,this.scheduler=i,this.leading=n,this.trailing=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Jt(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),Jt=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o){var s;return _classCallCheck(this,i),(s=t.call(this,e)).duration=n,s.scheduler=r,s.leading=a,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return _createClass(i,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Yt,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),i}(Ct.a);function Yt(e){e.subscriber.clearThrottle()}function Kt(e){return function(t){return t.lift(new Zt(e))}}var Zt=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var i=new $t(e),n=Object(_t.a)(i,this.notifier);return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}]),e}(),$t=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).seenValue=!1,n}return _createClass(i,[{key:"notifyNext",value:function(e,t,i,n,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),i}(wt.a);function Qt(e,t){return t?Object(Bt.a)((function(){return e}),t):Object(Bt.a)((function(){return e}))}var ei=i("WMd4");function ti(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At.a,n=(t=e)instanceof Date&&!isNaN(+t)?+e-i.now():Math.abs(e);return function(e){return e.lift(new ii(n,i))}}var ii=function(){function e(t,i){_classCallCheck(this,e),this.delay=t,this.scheduler=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ni(e,this.delay,this.scheduler))}}]),e}(),ni=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e)).delay=n,a.scheduler=r,a.queue=[],a.active=!1,a.errored=!1,a}return _createClass(i,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(i.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,i=new ri(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(ei.a.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(ei.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,i=t.queue,n=e.scheduler,r=e.destination;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(r);if(i.length>0){var a=Math.max(0,i[0].time-n.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1}}]),i}(Ct.a),ri=function e(t,i){_classCallCheck(this,e),this.time=t,this.notification=i},ai=i("Kj3r"),oi=function(){function e(t,i){_classCallCheck(this,e),this.bufferSize=t,this.startBufferEvery=i,this.subscriberClass=i&&t!==i?li:si}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}]),e}(),si=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).bufferSize=n,r.buffer=[],r}return _createClass(i,[{key:"_next",value:function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}},{key:"_complete",value:function(){var e=this.buffer;e.length>0&&this.destination.next(e),_get(_getPrototypeOf(i.prototype),"_complete",this).call(this)}}]),i}(Ct.a),li=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e)).bufferSize=n,a.startBufferEvery=r,a.buffers=[],a.count=0,a}return _createClass(i,[{key:"_next",value:function(e){var t=this.bufferSize,i=this.startBufferEvery,n=this.buffers,r=this.count;this.count++,r%i==0&&n.push([]);for(var a=n.length;a--;){var o=n[a];o.push(e),o.length===t&&(n.splice(a,1),this.destination.next(o))}}},{key:"_complete",value:function(){for(var e=this.buffers,t=this.destination;e.length>0;){var n=e.shift();n.length>0&&t.next(n)}_get(_getPrototypeOf(i.prototype),"_complete",this).call(this)}}]),i}(Ct.a),ci=function(e,t){return function(i){return t(e(i))}},ui=function(e,t,i){return e.addEventListener&&e.addEventListener(t,i)},hi=function(e,t,i){return e&&e.removeEventListener&&e.removeEventListener(t,i)},fi=function(){},di=function(e){return e.preventDefault()},pi=/touch/;function vi(e){return e.type.match(pi)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var gi,mi,yi,bi,ki,Ci,wi,_i,xi=((gi=function(){function e(t){var i=this,n=t.press,r=void 0===n?fi:n,a=t.drag,o=void 0===a?fi:a,s=t.release,l=void 0===s?fi:s,c=t.mouseOnly,u=void 0!==c&&c;_classCallCheck(this,e),this._pressHandler=ci(vi,r),this._dragHandler=ci(vi,o),this._releaseHandler=ci(vi,l),this._ignoreMouse=!1,this._mouseOnly=u,this._touchstart=function(e){1===e.touches.length&&i._pressHandler(e)},this._touchmove=function(e){1===e.touches.length&&i._dragHandler(e)},this._touchend=function(e){0===e.touches.length&&1===e.changedTouches.length&&(i._releaseHandler(e),i._ignoreMouse=!0,setTimeout(i._restoreMouse,2e3))},this._restoreMouse=function(){i._ignoreMouse=!1},this._mousedown=function(e){var t=e.which;t&&t>1||i._ignoreMouse||(ui(document,"mousemove",i._mousemove),ui(document,"mouseup",i._mouseup),i._pressHandler(e))},this._mousemove=function(e){i._dragHandler(e)},this._mouseup=function(e){hi(document,"mousemove",i._mousemove),hi(document,"mouseup",i._mouseup),i._releaseHandler(e)},this._pointerdown=function(e){e.isPrimary&&0===e.button&&(ui(document,"pointermove",i._pointermove),ui(document,"pointerup",i._pointerup),ui(document,"pointercancel",i._pointerup),ui(document,"contextmenu",di),i._pressHandler(e))},this._pointermove=function(e){e.isPrimary&&i._dragHandler(e)},this._pointerup=function(e){e.isPrimary&&(hi(document,"pointermove",i._pointermove),hi(document,"pointerup",i._pointerup),hi(document,"pointercancel",i._pointerup),hi(document,"contextmenu",di),i._releaseHandler(e))}}return _createClass(e,null,[{key:"supportPointerEvent",value:function(){return"undefined"!=typeof window&&window.PointerEvent}}]),_createClass(e,[{key:"bindTo",value:function(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}},{key:"_bindToCurrent",value:function(){var e=this._element;this._usePointers()?ui(e,"pointerdown",this._pointerdown):(ui(e,"mousedown",this._mousedown),this._mouseOnly||(ui(e,"touchstart",this._touchstart),ui(e,"touchmove",this._touchmove),ui(e,"touchend",this._touchend)))}},{key:"_unbindFromCurrent",value:function(){var e=this._element;if(this._usePointers())return hi(e,"pointerdown",this._pointerdown),hi(document,"pointermove",this._pointermove),hi(document,"pointerup",this._pointerup),hi(document,"contextmenu",di),void hi(document,"pointercancel",this._pointerup);hi(e,"mousedown",this._mousedown),this._mouseOnly||(hi(e,"touchstart",this._touchstart),hi(e,"touchmove",this._touchmove),hi(e,"touchend",this._touchend))}},{key:"_usePointers",value:function(){return!this._mouseOnly&&e.supportPointerEvent()}},{key:"update",value:function(e){var t=e.press,i=void 0===t?fi:t,n=e.drag,r=void 0===n?fi:n,a=e.release,o=void 0===a?fi:a,s=e.mouseOnly,l=void 0!==s&&s;this._pressHandler=ci(vi,i),this._dragHandler=ci(vi,r),this._releaseHandler=ci(vi,o),this._mouseOnly=l}},{key:"destroy",value:function(){this._unbindFromCurrent(),this._element=null}}]),e}()).default=gi,gi),Si=function(){return"undefined"!=typeof document},Ti=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!(void 0===t[e]||t[e].isFirstChange()&&i||t[e].previousValue===t[e].currentValue)},Ii=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.some((function(e){return Ti(e,t,i)}))},Oi=function(e){return e&&e.observers.length>0},Ei=function(){for(var e="",t=0;t<32;t++){var i=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&i|8:i).toString(16)}return e},Ai=((ki=function(){function e(t,i){_classCallCheck(this,e),this.element=t,this.ngZone=i,this.enableDrag=!0,this.kendoPress=new y.o,this.kendoDrag=new y.o,this.kendoRelease=new y.o}return _createClass(e,[{key:"ngOnInit",value:function(){this.toggleDraggable()}},{key:"ngOnChanges",value:function(e){Ti("enableDrag",e)&&this.toggleDraggable()}},{key:"ngOnDestroy",value:function(){this.destroyDraggable()}},{key:"toggleDraggable",value:function(){var e=this;Si()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new xi({drag:function(t){return e.kendoDrag.next(t)},press:function(t){return e.kendoPress.next(t)},release:function(t){return e.kendoRelease.next(t)}}),this.ngZone.runOutsideAngular((function(){return e.draggable.bindTo(e.element.nativeElement)}))))}},{key:"destroyDraggable",value:function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}]),e}()).\u0275fac=function(e){return new(e||ki)(y.Rb(y.m),y.Rb(y.A))},ki.\u0275dir=y.Mb({type:ki,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[y.Cb]}),ki),Ri=((bi=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:bi}),bi.\u0275inj=y.Ob({factory:function(e){return new(e||bi)},imports:[[b.b]]}),bi),Di=((yi=function(){function e(t,i,n){_classCallCheck(this,e),this.element=t,this.ngZone=i,this.renderer=n,this.events={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.element&&this.element.nativeElement){var t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular((function(){for(var i in t)t.hasOwnProperty(i)&&e.subscriptions.push(e.renderer.listen(e.element.nativeElement,i,e.scope?t[i].bind(e.scope):t[i]))}))}}},{key:"ngOnDestroy",value:function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}]),e}()).\u0275fac=function(e){return new(e||yi)(y.Rb(y.m),y.Rb(y.A),y.Rb(y.F))},yi.\u0275dir=y.Mb({type:yi,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),yi),Mi=((mi=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:mi}),mi.\u0275inj=y.Ob({factory:function(e){return new(e||mi)}}),mi),zi=function(){function e(t){_classCallCheck(this,e),this.resizeBatchService=t,this.resize=new y.o,this.acceptedSize=!1,this.state=0}return _createClass(e,[{key:"acceptSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.measure();this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}},{key:"checkChanges",value:function(){Si()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}},{key:"destroy",value:function(){this.resizeBatchService.cancel(this)}},{key:"checkSize",value:function(){if(this.parentElement){var e=this.measure(),t=e.width,i=e.height;return t===this.lastWidth&&i===this.lastHeight?void 0:(this.lastWidth=t,this.lastHeight=i,this.acceptedSize=!1,this.resize.emit(),!0)}}},{key:"initSize",value:function(){var e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}},{key:"measure",value:function(){var e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}]),e}(),Pi=function(e){var t=document.createElement("div");return t.style.cssText=e,t},Fi="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",Li=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e)).element=n,a.ngZone=r,a}return _createClass(i,[{key:"checkChanges",value:function(){2!==this.state?_get(_getPrototypeOf(i.prototype),"checkChanges",this).call(this):this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}},{key:"destroy",value:function(){if(_get(_getPrototypeOf(i.prototype),"destroy",this).call(this),this.subscription&&this.subscription.unsubscribe(),this.expand){var e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}},{key:"checkSize",value:function(){if(_get(_getPrototypeOf(i.prototype),"checkSize",this).call(this))return this.reset(),!0}},{key:"init",value:function(){var e=this.parentElement=this.element.nativeElement.parentElement;"static"===getComputedStyle(e,null).getPropertyValue("position")&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}},{key:"render",value:function(){var e=this.element.nativeElement;e.style.cssText=Fi,e.setAttribute("dir","ltr"),this.expand=Pi(Fi),this.expandChild=Pi("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=Pi(Fi);var t=Pi("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}},{key:"reset",value:function(){var e=this.expandChild;e.style.width="100000px",e.style.height="100000px";var t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;var i=this.shrink;i.scrollLeft=1e5,i.scrollTop=1e5}},{key:"subscribe",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=Object(pt.a)(mt(e.shrink,"scroll"),mt(e.expand,"scroll")).subscribe((function(){e.checkSize()}))}))}}]),i}(zi),ji="undefined"!=typeof ResizeObserver,Vi=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e)).element=n,a.ngZone=r,a}return _createClass(i,[{key:"destroy",value:function(){_get(_getPrototypeOf(i.prototype),"destroy",this).call(this),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}},{key:"init",value:function(){var e=this;this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular((function(){e.resizeObserver=new ResizeObserver((function(){e.checkSize()})),e.resizeObserver.observe(e.parentElement)}))}}],[{key:"supported",value:function(){return ji}}]),i}(zi),Bi=((_i=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}return _createClass(e,[{key:"schedule",value:function(e,t){var i=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular((function(){i.subscription=Object(x.a)(i.resolvedPromise).subscribe(i.flush)}))}},{key:"isScheduled",value:function(e){return Boolean(this.scheduled.find((function(t){return t.instance===e})))}},{key:"cancel",value:function(e){for(var t=this.scheduled,i=t.length,n=0;n<i;n++)if(t[n].instance===e)return t.splice(n,1),void(t.length||this.unsubscribe())}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"flush",value:function(){this.scheduled.forEach((function(e){e.method.call(e.instance)})),this.scheduled=[],this.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||_i)(y.cc(y.A))},_i.\u0275prov=y.Nb({token:_i,factory:_i.\u0275fac}),_i),Ni=((wi=function(){function e(t,i,n){var r=this;_classCallCheck(this,e),this.rateLimit=10,this.resize=new y.o;var a=Vi.supported()?Vi:Li;this.resizeService=new a(t,i,n),this.subscription=this.resizeService.resize.pipe(Vt(1e3/(this.rateLimit||10))).subscribe((function(){r.resizeService.acceptedSize||r.resize.emit()}))}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.resizeService.checkChanges()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.resizeService.destroy()}},{key:"acceptSize",value:function(e){this.resizeService.acceptSize(e)}}]),e}()).\u0275fac=function(e){return new(e||wi)(y.Rb(Bi),y.Rb(y.m),y.Rb(y.A))},wi.\u0275cmp=y.Lb({type:wi,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),wi),Hi=((Ci=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Ci}),Ci.\u0275inj=y.Ob({factory:function(e){return new(e||Ci)},providers:[Bi]}),Ci),Gi=function e(){_classCallCheck(this,e)},Wi=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({}),Ui=function(e){return null!=e},qi=function(e){return null==e},Xi=function(e){return Array.isArray(e)},Ji=function(e){return"function"==typeof e},Yi=function(e){return"string"==typeof e},Ki=function(e){return!isNaN(e-parseFloat(e))},Zi=function(e){return e&&e.getTime},$i=function(e){return Ui(e.filters)},Qi=function(e,t,i){return function(n){return e(n)?t(n):i(n)}},en=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},tn=function(e){return Ui(e)&&function e(t){t.filters&&(t.filters=t.filters.map((function(t){var i,n=Object.assign({},t);return!$i(t)&&Yi(t.operator)&&(n.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(i=t.operator).toLowerCase()]||i),$i(t)&&e(n),n})))}(e=function(e){return $i(e)?Object.assign({},e):{filters:Xi(e)?e:[e],logic:"and"}}(e)),e},nn={},rn=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;nn[void 0]=function(e){return e};var an,on,sn,ln=function(e,t){var i=e+t;if(nn[i])return nn[i];var n=[];return e.replace(rn,(function(e,t,i,r){n.push(Ui(t)?t:i||r)})),nn[i]=function(e){for(var i=e,r=0;r<n.length;r++)if(i=i[n[r]],!Ui(i)&&t)return i;return i},nn[i]},cn=function(e){return function(t){return[e,t]}},un=function(){return null},hn=function(e){return function(t){return Ui(e(t))}},fn=function(e){return function(t){return function(e){return Ui(e)&&Xi(e)&&e.length>0}(e(t))}},dn=function(e,t){return Qi(e,t,un)},pn=function(e,t){return function(i){return e(i).map(t).join("~")}},vn=en.apply(void 0,_toConsumableArray([['"',""],[":","-"]].map((function(e){var t=_slicedToArray(e,2),i=t[0],n=t[1];return function(e){return e.replace(new RegExp(i,"g"),n)}})))),gn=function(e){var t=e.field,i=e.dir,n=void 0===i?"asc":i;return"".concat(t,"-").concat(n)},mn=ln("take"),yn=ln("aggregates"),bn=ln("skip"),kn=ln("group"),Cn=ln("sort",!0),wn=pn(Cn,gn),_n=pn(kn,gn),xn=pn(yn,(function(e){var t=e.field,i=e.aggregate;return"".concat(t,"-").concat(i)})),Sn=en((function(e){return"datetime'".concat(e,"'")}),(function(e){return e.slice(0,e.indexOf("."))}),vn,JSON.stringify,(function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))})),Tn=en(cn("page"),(function(e){var t=e.skip,i=e.take;return Math.floor((t||0)/i)+1})),In=en(cn("pageSize"),mn),On=en(cn("group"),_n),En=en(cn("sort"),wn),An=en(cn("aggregate"),xn),Rn=(dn(hn(bn),Tn),dn(hn(mn),In),dn(fn(kn),On),dn(hn(yn),An),en(dn(fn(Cn),En),(function(e){return Object.assign({},e,{sort:(Cn(e)||[]).filter((function(e){var t,i=e.dir;return!(qi(t=i)||0===t.trim().length)}))})})),function(e){var t=e.field,i=e.operator,n=e.value;return"".concat(t,"~").concat(i,"~").concat(n)}),Dn=(Qi((function(e){return Zi(e.value)}),en(Rn,(function(e){var t=e.field,i=e.value,n=e.ignoreCase,r=e.operator;return{value:Sn(i),field:t,ignoreCase:n,operator:r}})),Rn),function(e,t,i){return t[e]=i,t}),Mn=function(e){return function(t){var i,n=t[e];return Ui(n)?n:t[(i=e,i.replace(/(^[A-Z])/g,(function(e,t){return t.toLowerCase()})))]}},zn=(Mn("Member"),Mn("AggregateMethodName"),Mn("Value"),function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}}),Pn=zn((function(e,t,i){return Dn(i.toLowerCase(),t,e[i])})),Fn=zn((function(e,t,i){return Dn(i,t,Pn(e[i]))})),Ln=function(e,t){return Ui(e)?e:t},jn=en((function(e){var t=e.field,i=e.hasSubgroups,n=e.value,r=e.aggregates,a=e.items;return{aggregates:Fn(r),field:t,items:i?a.map(jn):a,value:n}}),(function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:Ln(e.Key,Ln(e.key,e.value))}})),Vn=function(e,t){return qi(e)?e===t?0:-1:qi(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},Bn=function(e,t){return Vn(t,e)},Nn=function(e){var t=ln(e.field,!0);return function(i,n){return("asc"===e.dir?Vn:Bn)(t(i),t(n))}},Hn=function(e,t){return 0},Gn=function(e,t){return e.push(t),e},Wn=function(e){return function(t){return function(i,n,r){return t(i,e(n,r))}}},Un=function(e){return function(t){return function(i,n){return e(n)?t(i,n):i}}},qn=function(e){return Ui(e.__value)},Xn=function(e,t,i){for(var n=t,r=0,a=i.length;r<a;r++)if(n=e(n,i[r],r),qn(n)){n=n.__value;break}return n},Jn=Wn((function(e){return e})),Yn={or:{concat:function(e,t){return function(i){return e(i)||t(i)}},identity:function(){return!1}},and:{concat:function(e,t){return function(i){return e(i)&&t(i)}},identity:function(){return!0}}},Kn={contains:function(e,t){return(e||"").indexOf(t)>=0},doesnotcontain:function(e,t){return-1===(e||"").indexOf(t)},doesnotendwith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)<0},doesnotstartwith:function(e,t){return-1===(e||"").lastIndexOf(t,0)},endswith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)>=0},eq:function(e,t){return e===t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},isempty:function(e){return""===e},isnotempty:function(e){return""!==e},isnotnull:function(e){return Ui(e)},isnull:function(e){return qi(e)},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},neq:function(e,t){return e!=t},startswith:function(e,t){return 0===(e||"").lastIndexOf(t,0)}},Zn=/^\/Date\((.*?)\)\/$/,$n=function(e){return e&&0!==e.filters.length?function e(t){var i=Yn[t.logic];return t.filters.filter(Ui).map((function(t){return $i(t)?e(t):function(e){var t=e.field,i=e.ignoreCase,n=e.value,r=e.operator;t=Ui(t)?t:function(e){return e},i=!Ui(i)||i;var a=function(e,t,i){if(!Ui(t))return e;var n=e;if(Yi(t)){var r=Zn.exec(t);r?t=new Date(+r[1]):n=function(t){var n=e(t);return"string"==typeof n&&i?n.toLowerCase():Ki(n)?n+"":n}}return Zi(t)?function(e){var t=n(e);return Zi(t)?t.getTime():t}:n}(Ji(t)?t:ln(t,!0),n,i);n=function(e,t){if(null!=e&&Yi(e)){var i=Zn.exec(e);if(i)return new Date(+i[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&Zi(e))return e.getTime();return e}(n,i);var o=Ji(r)?r:Kn[r];return function(e){return o(a(e),n,i)}}(t)})).reduce(i.concat,i.identity)}(e):function(){return!0}},Qn=function(e){return(e=Xi(e)?e:[e]).map((function(e){return Object.assign({dir:"asc"},e)}))},er=Wn((function(e){return e})),tr=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:er,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(!(i=Qn(i)).length)return t;var a,o,s,l=i[0],c=Xn(n((a=l.field,o=ln(a,!0),s=0,function(e,t){e[a]=e[a]||{};var i=o(t),n=function(e){return(e=Ui(e)&&e.getTime?e.getTime():e)+""}(i),r=e[a][n]||{__position:s++,aggregates:{},items:[],value:i};return r.items.push(t),e[a][n]=r,e})),{},t),u=[];return Object.keys(c).forEach((function(t){Object.keys(c[t]).forEach((function(n){var a=c[t][n],o={},s=r;Ui(l.aggregates)&&(o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jn,n={};return t.length?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).forEach((function(t){var i=e[t];Object.keys(i).forEach((function(e){i[e]=i[e].result()}))})),e}(Xn(i(function(e){var t=e.map((function(e){var t=ln(e.field,!0),i=(e.aggregate||"").toLowerCase(),n=ln(i,!0);return function(r,a){var o=r[e.field]||{},s=n(o)||function(e){return{average:function(){var e=0,t=0;return{calc:function(i){Ki(i)?(e+=i,t++):e=i},result:function(){return Ki(e)?e/t:e}}},count:function(){var e=0;return{calc:function(){return e++},result:function(){return e}}},max:function(){var e=Number.NEGATIVE_INFINITY;return{calc:function(t){(e=Ki(e)||Zi(e)?e:t)<t&&(Ki(t)||Zi(t))&&(e=t)},result:function(){return e}}},min:function(){var e=Number.POSITIVE_INFINITY;return{calc:function(t){(e=Ki(e)||Zi(e)?e:t)>t&&(Ki(t)||Zi(t))&&(e=t)},result:function(){return e}}},sum:function(){var e=0;return{calc:function(t){return e+=t},result:function(){return e}}}}[e]()}(i);return s.calc(t(a)),o[e.aggregate]=s,r[e.field]=o,r}}));return function(e,i){return t.reduce((function(e,t){return t(e,i)}),e)}}(t)),n,e)):n}(s=function(e,t){return!Ui(t)||$i(t)&&0===t.filters.length?e:e.filter($n(tn(t)))}(r,{field:l.field,ignoreCase:!1,operator:"eq",value:a.value}),l.aggregates)),u[a.__position]={aggregates:o,field:t,items:i.length>1?e(a.items,i.slice(1),er,s):a.items,value:a.value}}))})),u},ir=function(e,t){if(t.some((function(e){return Ui(e.dir)}))){e=e.slice(0);var i=function(e){return e.filter((function(e){return Ui(e.dir)})).map((function(e){return Nn(e)})).reduce((function(e,t){return function(i,n){return e(i,n)||t(i,n)}}),Hn)}(t);!function e(t,i,n,r){if(!(n-i<2)){var a=i+n>>>1;e(t,i,a,r),e(t,a,n,r),function(e,t,i,n,r){for(var a=i-t,o=n-i,s=[],l=0;l<a;l++)s.push(e[t+l]);var c=0,u=i,h=t;do{r(e[u],s[c])<0?(e[h++]=e[u++],o--):(e[h++]=s[c++],a--)}while(o>0&&a>0);for(;a;)e[h++]=s[c++],a--;for(;o;)e[h++]=e[u++],o--}(t,i,a,n,r)}}(e,0,e.length,i)}return e},nr=function(){function e(t){_classCallCheck(this,e),this.total=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new rr(e,this.total))}}]),e}(),rr=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).total=n,r.count=0,r}return _createClass(i,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),i}(Ct.a),ar=((on=function(){function e(){_classCallCheck(this,e),this.changes=new yt.a}return _createClass(e,[{key:"notify",value:function(e){this.changes.next({rtl:e})}},{key:"get",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||on)},on.\u0275prov=y.Nb({token:on,factory:on.\u0275fac}),on),or=((an=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.register(e),Object.keys(e).some((function(t){return!e[t].isFirstChange()}))&&this.service.notifyChanges()}},{key:"ngOnInit",value:function(){var e=this;this.subscription=this.service.changes.pipe((function(e){return e.lift(new nr(1))})).subscribe((function(){return e.register(e)}))}},{key:"register",value:function(e){var t=this;Object.keys(e).forEach((function(e){return t.service.register(e,t[e],t.override)}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"override",get:function(){return!1}}]),e}()).\u0275fac=function(e){return new(e||an)},an.\u0275dir=y.Mb({type:an,features:[y.Cb]}),an),sr=new y.r("Kendo UI Right-to-Left token"),lr=new y.r("Localization key prefix"),cr=((sn=function(){function e(t,i,n){var r=this;_classCallCheck(this,e),this.prefix=t,this.messageService=i,this._rtl=n,this.changes=new zt.a({rtl:this._rtl}),this.dictionary={},i&&(this.subscription=i.changes.pipe(Object(w.a)((function(e){var t=e.rtl;return void 0!==t?t:r._rtl})),Object(Ut.a)((function(e){return r._rtl=e}))).subscribe((function(e){r.dictionary={},r.changes.next({rtl:e})})))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"get",value:function(e){var t=this.key(e);return this.dictionary[t]}},{key:"register",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.key(e),r=t;if(!i){if(this.dictionary.hasOwnProperty(n))return;r=this.defaultValue(n,t)}this.dictionary[n]=r}},{key:"notifyChanges",value:function(){this.changes.next({rtl:this.rtl})}},{key:"key",value:function(e){return this.prefix+"."+e}},{key:"defaultValue",value:function(e,t){if(!this.messageService)return t;var i=this.messageService.get(e);return void 0===i?t:i}},{key:"rtl",get:function(){return this._rtl}}]),e}()).\u0275fac=function(e){return new(e||sn)(y.cc(lr),y.cc(ar,8),y.cc(sr,8))},sn.\u0275prov=y.Nb({token:sn,factory:sn.\u0275fac}),sn);function ur(e){return e.ownerDocument||e.document||e}var hr=function(e){return ur(e).defaultView},fr=function(e){return ur(e).documentElement},dr=0;function pr(){if(!dr&&"undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),dr=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return dr}function vr(e){var t=hr(e),i=fr(e),n={height:t.innerHeight,width:t.innerWidth};return i.scrollHeight-i.clientHeight>0&&(n.width-=pr()),n}var gr=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||fr(e)},mr=function(e){var t=e.getBoundingClientRect(),i=t,n=i.left,r=i.top;return t.height||t.width||(t=function(e){var t=e.style,i=t.display,n=t.left,r=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var a=e.getBoundingClientRect();return e.style.display=i,e.style.left=n,e.style.position=r,a}(e)),{top:r,left:n,height:t.height,width:t.width}},yr=function(e,t){for(var i=[],n=e.parentNode;n&&(i.push(n),n!==t);)n=n.parentNode;return i};function br(e){var t=fr(e),i=hr(e);return{x:i.pageXOffset||t.scrollLeft||0,y:i.pageYOffset||t.scrollTop||0}}var kr=function(e){return e===(e.ownerDocument||{}).body?br(e):{x:e.scrollLeft,y:e.scrollTop}},Cr=function(e,t,i){var n=0;return e+t>i&&(n=i-(e+t)),e<0&&(n=-e),n},wr=function(e){var t=e.offset,i=e.size,n=e.anchorSize,r=e.viewPortSize,a=e.anchorAlignPoint,o=e.elementAlignPoint,s=0,l=2*e.margin;if(o!==a&&"center"!==o&&"middle"!==o&&"center"!==a&&"middle"!==a){var c="top"===a||"left"===a;t<0&&c?t+(s=i+n+l)+i>r&&(s=0):t>=0&&!c&&(t+i>r&&(s+=-(n+i+l)),t+s<0&&(s=0))}return s},_r=function(e){for(var t=[],i=e.parentNode.firstElementChild;i;)i!==e&&t.push(i),i=i.nextElementSibling;return t},xr=i("R0Ic"),Sr=["container"];function Tr(e,t){}var Ir=["*"],Or=function(e,t){return e||{height:0,left:t.left,top:t.top,width:0}},Er=function(){return"undefined"!=typeof window},Ar=/auto|scroll/,Rr=function(e){return function(e){return"".concat(e.style.overflow).concat(e.style.overflowX).concat(e.style.overflowY)}(e)||function(e){var t=window.getComputedStyle(e);return"".concat(t.overflow).concat(t.overflowX).concat(t.overflowY)}(e)};var Dr,Mr,zr,Pr,Fr,Lr,jr,Vr,Br,Nr,Hr,Gr,Wr=(Dr=function(){if(!Si()&&null!==document.body)return!1;var e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);var t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t},zr=!1,function(){return zr||(Mr=Dr.apply(void 0,arguments),zr=!0),Mr}),Ur=function(e,t){return e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e},qr=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],Xr=((Pr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addOffset",value:function(e,t){return{left:e.left+t.left,top:e.top+t.top}}},{key:"addScroll",value:function(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}},{key:"align",value:function(e){return i=(t=e).anchorRect,n=t.anchorAlign,r=t.elementRect,a=t.elementAlign,o=t.margin,s=void 0===o?{}:o,l=n.horizontal,c=n.vertical,u=a.horizontal,h=a.vertical,f=s.horizontal||0,d=s.vertical||0,p=i.top,v=i.left,"bottom"===c&&(p+=i.height),"center"!==c&&"middle"!==c||(p+=Math.round(i.height/2)),"bottom"===h&&(p-=r.height,d*=-1),"center"!==h&&"middle"!==h||(p-=Math.round(r.height/2),d*=-1),"right"===l&&(v+=i.width),"center"!==l&&"middle"!==l||(v+=Math.round(i.width/2)),"right"===u&&(v-=r.width,f*=-1),"center"!==u&&"middle"!==u||(v-=Math.round(r.width/2),f*=-1),{top:p+d,left:v+f};var t,i,n,r,a,o,s,l,c,u,h,f,d,p,v}},{key:"boundingOffset",value:function(e){return function(e){if(!e.getBoundingClientRect){var t=vr(e);return{bottom:t.height,left:0,right:t.width,top:0}}var i=e.getBoundingClientRect();return{bottom:i.bottom,left:i.left,right:i.right,top:i.top}}(this.nativeElement(e))}},{key:"getFontStyles",value:function(e){var t=this.getWindow();if(!t||!e)return[];var i=t.getComputedStyle(this.nativeElement(e));return qr.map((function(e){return{key:e,value:i[e]}}))}},{key:"getWindow",value:function(){return Er()?window:null}},{key:"hasOffsetParent",value:function(e){return!!e&&!!this.nativeElement(e).offsetParent}},{key:"offset",value:function(e){return e?mr(this.nativeElement(e)):null}},{key:"offsetAtPoint",value:function(e,t){if(!e)return null;var i=this.nativeElement(e),n=i.style,r=n.left,a=n.top,o=n.transition;i.style.transition="none",i.style.left="".concat(t.left,"px"),i.style.top="".concat(t.top,"px");var s=mr(i);return i.style.left=r,i.style.top=a,i.style.transition=o,s}},{key:"nativeElement",value:function(e){return e?e.nativeElement||e:null}},{key:"position",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e&&t?function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t?gr(t):null,r=function(e,t){var i=hr(e),n=i.getComputedStyle(e),r=mr(e),a=t||gr(e),o=e.ownerDocument,s={top:0,left:0};if("fixed"!==n.position&&a!==o.body&&a!==o.documentElement){var l=i.getComputedStyle(a);(s=mr(a)).top+=parseInt(l.borderTopWidth,10),s.left+=parseInt(l.borderLeftWidth,10)}return{top:r.top-s.top,left:r.left-s.left,height:r.height,width:r.width}}(e,n),a=r.top,o=r.left,s=r.height,l=r.width,c=function(e,t){return e?kr(e):function(e){var t=gr(e);return t?kr(t):{x:0,y:0}}(t)}(n,e),u=c.x,h=c.y,f=e.ownerDocument,d=n===f.body||n===f.documentElement?1:i;return{top:a+h*d,left:o+u*d,height:s,width:l}}(this.nativeElement(e),this.nativeElement(t),i):null}},{key:"removeScroll",value:function(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}},{key:"restrictToView",value:function(e){return function(e){var t=e.anchorRect,i=e.anchorAlign,n=e.elementRect,r=e.elementAlign,a=e.collisions,o=e.viewPort,s=e.margin,l=void 0===s?{}:s,c=n.top,u=n.left,h=n.height,f=n.width,d=o.height,p=o.width,v=l.horizontal||0,g=l.vertical||0,m=0,y=0,b="flip"===a.horizontal,k="flip"===a.vertical;"fit"===a.vertical&&(y+=Cr(c,h,d)),"fit"===a.horizontal&&(m+=Cr(u,f,p)),k&&(y+=wr({margin:g,offset:c,size:h,anchorSize:t.height,viewPortSize:d,anchorAlignPoint:i.vertical,elementAlignPoint:r.vertical})),b&&(m+=wr({margin:v,offset:u,size:f,anchorSize:t.width,viewPortSize:p,anchorAlignPoint:i.horizontal,elementAlignPoint:r.horizontal}));var C=b&&0!==m,w=k&&0!==y;return{flipped:C||w,flip:{horizontal:C,vertical:w},offset:{left:m,top:y}}}(e)}},{key:"scrollPosition",value:function(e){return br(this.nativeElement(e))}},{key:"scrollableParents",value:function(e){return function(e){var t=[];if(!Si()||!Er())return t;for(var i=e.parentElement;i;)(Ar.test(Rr(i))||i.hasAttribute("data-scrollable"))&&t.push(i),i=i.parentElement;return t.push(window),t}(this.nativeElement(e))}},{key:"stackingElementOffset",value:function(e){var t=this.getRelativeContextElement(e);return t?mr(t):null}},{key:"stackingElementScroll",value:function(e){var t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}},{key:"getRelativeContextElement",value:function(e){if(!e||!Wr())return null;for(var t=this.nativeElement(e).parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}},{key:"useRelativePosition",value:function(e){return!!this.getRelativeContextElement(e)}},{key:"windowViewPort",value:function(e){return vr(this.nativeElement(e))}},{key:"zIndex",value:function(e,t){return function(e,t){if(!e||!Si()||!Er())return null;var i=function(e,t){for(var i,n,r=yr(e),a=t;a&&(i=_r(a),!(n=r.reduce((function(e,t){return e.concat(i.filter((function(e){return e===t})))}),[])[0]));)a=a.parentElement;return n}(e,t);if(!i)return null;var n=[e].concat(yr(e,i)).reduce((function(e,t){var i=t.style.zIndex||window.getComputedStyle(t).zIndex,n=parseInt(i,10);return n>e?n:e}),0);return n?n+1:null}(this.nativeElement(e),this.nativeElement(t))}},{key:"zoomLevel",value:function(){return Si()&&Er()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}},{key:"isZoomed",value:function(){return this.zoomLevel()>1}}]),e}()).\u0275fac=function(e){return new(e||Pr)},Pr.\u0275prov=y.Nb({token:Pr,factory:Pr.\u0275fac}),Pr),Jr=new y.r("Popup Document Scale"),Yr=((Vr=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this._dom=t,this.scale=i}return _createClass(e,[{key:"alignElement",value:function(e){var t=e.anchor,i=e.element,n=e.anchorAlign,r=e.elementAlign,a=e.margin,o=e.offset,s=e.positionMode,l=this.scale||1,c="fixed"!==s&&this._dom.hasOffsetParent(i)?this.relativeRect(t,i,o,l):this.absoluteRect(t,i,o,l),u=Ur(this._dom.offset(i),l);return this._dom.align({anchorAlign:n,anchorRect:c,elementAlign:r,elementRect:u,margin:a})}},{key:"absoluteRect",value:function(e,t,i,n){var r=this.elementScrollPosition(e,t),a=Or(this._dom.offset(e),i),o=2*n,s=this._dom.stackingElementScroll(t);1!==n&&s&&(s.x/=o,s.y/=o);var l=this._dom.stackingElementOffset(t);return 1!==n&&l&&(l.left/=o,l.top/=o),this._dom.removeScroll(this._dom.addScroll(function(e,t){return t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e}(Ur(a,n),l),s),r)}},{key:"elementScrollPosition",value:function(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}},{key:"relativeRect",value:function(e,t,i,n){var r=Or(this._dom.position(e,t,n),i);return Ur(r,n)}}]),e}()).\u0275fac=function(e){return new(e||Vr)(y.cc(Xr),y.cc(Jr,8))},Vr.\u0275prov=y.Nb({token:Vr,factory:Vr.\u0275fac}),Vr),Kr=((jr=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this._dom=t,this.scale=i}return _createClass(e,[{key:"positionElement",value:function(e){var t=e.anchor,i=e.currentLocation,n=e.element,r=e.anchorAlign,a=e.elementAlign,o=e.collisions,s=e.margin,l=this._dom,c=this.scale||1,u=l.offsetAtPoint(n,i),h=Ur(u,c),f=Ur(l.offset(t),c),d=Or(f,i),p=e.viewPort||l.windowViewPort(n);p.width=p.width/c,p.height=p.height/c;var v=l.restrictToView({anchorAlign:r,anchorRect:d,collisions:o,elementAlign:a,elementRect:h,margin:s,viewPort:p}),g=l.addOffset(i,v.offset);return{flip:v.flip,flipped:v.flipped,offset:g}}}]),e}()).\u0275fac=function(e){return new(e||jr)(y.cc(Xr),y.cc(Jr,8))},jr.\u0275prov=y.Nb({token:jr,factory:jr.\u0275fac}),jr),Zr=((Lr=function(){function e(t,i){_classCallCheck(this,e),this._dom=t,this._zone=i}return _createClass(e,[{key:"subscribe",value:function(e){var t=this;Si()&&this._zone.runOutsideAngular((function(){t.subscription=mt(t._dom.getWindow(),"resize").pipe(Vt(1e3/60)).subscribe((function(){return e()}))}))}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isUnsubscribed",value:function(){return this.subscription&&this.subscription.closed}}]),e}()).\u0275fac=function(e){return new(e||Lr)(y.cc(Xr),y.cc(y.A))},Lr.\u0275prov=y.Nb({token:Lr,factory:Lr.\u0275fac}),Lr),$r=((Fr=function(){function e(t,i){_classCallCheck(this,e),this._dom=t,this._zone=i}return _createClass(e,[{key:"forElement",value:function(e){return this.unsubscribe(),this.element=e,this}},{key:"subscribe",value:function(e){var t=this;if(e&&Si()&&this.element){var i=this._dom.nativeElement(this.element),n=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular((function(){var r=n.map((function(e){return mt(e,"scroll").pipe(Vt(1e3/60))}));t.subscription=Object(pt.a).apply(void 0,_toConsumableArray(r)).subscribe((function(r){var a=r.target,o=n.filter((function(e){return e===a})).length>0,s=a===document,l=a===window;(o||s||l)&&e(t.isVisible(i,a))}))}))}}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isVisible",value:function(e,t){var i=this._dom.boundingOffset(e),n=this._dom.boundingOffset(t);return!(1<n.top-i.bottom||1<i.top-n.bottom||1<i.left-n.right||1<n.left-i.right)}}]),e}()).\u0275fac=function(e){return new(e||Fr)(y.cc(Xr),y.cc(y.A))},Fr.\u0275prov=y.Nb({token:Fr,factory:Fr.\u0275fac}),Fr),Qr={expand:function(e){var t,i="up"===e||"down"===e?"scaleY":"scaleX";return t="down"===e?"top":"left"===e?"right":"right"===e?"left":"bottom",{start:{transform:"".concat(i,"(0)"),transformOrigin:t},end:{transform:"".concat(i,"(1)")}}},slide:function(e){var t="left"===e||"right"===e?"translateX":"translateY";return{start:{transform:"".concat(t,"(").concat("right"===e||"down"===e?-100:100,"%)")},end:{transform:"".concat(t,"(0%)")}}},fade:function(){return{start:{opacity:0},end:{opacity:1}}},zoom:function(){return{start:{transform:"scale(0)"},end:{transform:"scale(1)"}}}},ea=((Br=function(){function e(t){_classCallCheck(this,e),this.animationBuilder=t,this.start=new y.o,this.end=new y.o}return _createClass(e,[{key:"play",value:function(e,t,i){if(!this.flip||this.flip.horizontal!==i.horizontal||this.flip.vertical!==i.vertical){this.flip=i;var n=t.type||"slide",r=Qr[n];if(r){var a=r(this.getDirection(i,t));this.playStates(e,a,t)}else if(Object(y.Y)())throw new Error('Unsupported animation type: "'.concat(n,'". The supported types are slide, expand, fade and zoom.'))}}},{key:"ngOnDestroy",value:function(){this.stopPlayer()}},{key:"playStates",value:function(e,t,i){var n=this;this.stopPlayer();var r=i.duration||100,a=this.animationBuilder.build([Object(xr.h)(t.start),Object(xr.e)("".concat(r,"ms ease-in"),Object(xr.h)(t.end))]),o=this.player=a.create(e);o.onDone((function(){n.end.emit(),n.stopPlayer()})),this.start.emit(),o.play()}},{key:"getDirection",value:function(e,t){var i=t.direction||"down";return e.horizontal&&("left"===i?i="right":"right"===i&&(i="left")),e.vertical&&("down"===i?i="up":"up"===i&&(i="down")),i}},{key:"stopPlayer",value:function(){this.player&&(this.player.destroy(),this.player=null)}}]),e}()).\u0275fac=function(e){return new(e||Br)(y.cc(xr.b))},Br.\u0275prov=y.Nb({token:Br,factory:Br.\u0275fac}),Br),ta={left:-1e4,top:0},ia=((Nr=function(){function e(t,i,n,r,a,o,s,l,c){_classCallCheck(this,e),this.container=t,this._alignService=i,this.domService=n,this._positionService=r,this._resizeService=a,this._scrollableService=o,this.animationService=s,this._renderer=l,this._zone=c,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=ta,this.anchorViewportLeave=new y.o,this.close=new y.o,this.open=new y.o,this.positionChange=new y.o,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(t.nativeElement,"k-animation-container"),this.updateFixedClass()}return _createClass(e,[{key:"ngOnInit",value:function(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=ta,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}},{key:"ngOnChanges",value:function(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}},{key:"ngAfterViewInit",value:function(){var e=this;this.reposition(),this.animate||this.resolvedPromise.then((function(){e.onAnimationEnd()}))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular((function(){e.unsubscribeReposition(),e.repositionSubscription=Object(x.a)(e.resolvedPromise).subscribe(e.reposition)}))}},{key:"ngOnDestroy",value:function(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}},{key:"onResize",value:function(){this.reposition()}},{key:"onAnimationStart",value:function(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}},{key:"onAnimationEnd",value:function(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}},{key:"setZIndex",value:function(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}},{key:"reposition",value:function(){var e=this;if(Si()){var t,i,n,r,a,o,s=this.position(),l=s.flip,c=s.offset;this.currentOffset&&(t=this.currentOffset,i=c,n=t.left,r=t.top,a=i.left,o=i.top,!(Math.abs(n-a)>=1||Math.abs(r-o)>=1))||(this.currentOffset=c,Oi(this.positionChange)&&this._zone.run((function(){return e.positionChange.emit({offset:c,flip:l})}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,l),this.resizeSensor.acceptSize()}}},{key:"position",value:function(){var e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}},{key:"onScroll",value:function(e){var t=this,i=Oi(this.anchorViewportLeave);e||!i?this.reposition():i&&this._zone.run((function(){t.anchorViewportLeave.emit()}))}},{key:"copyFontStyles",value:function(){var e=this;this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach((function(t){return e.setContainerStyle(t.key,t.value)}))}},{key:"updateFixedClass",value:function(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}},{key:"setContainerStyle",value:function(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}},{key:"unsubscribeReposition",value:function(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}},{key:"currentOffset",get:function(){return this._currentOffset},set:function(e){this.setContainerStyle("left","".concat(e.left,"px")),this.setContainerStyle("top","".concat(e.top,"px")),this._currentOffset=e}}]),e}()).\u0275fac=function(e){return new(e||Nr)(y.Rb(y.m),y.Rb(Yr),y.Rb(Xr),y.Rb(Kr),y.Rb(Zr),y.Rb($r),y.Rb(ea),y.Rb(y.F),y.Rb(y.A))},Nr.\u0275cmp=y.Lb({type:Nr,selectors:[["kendo-popup"]],viewQuery:function(e,t){var i;1&e&&(y.Qc(Sr,!0),y.Qc(Ni,!0)),2&e&&(y.zc(i=y.hc())&&(t.contentContainer=i.first),y.zc(i=y.hc())&&(t.resizeSensor=i.first))},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[y.Db([Yr,ea,Xr,Kr,Zr,$r]),y.Cb],ngContentSelectors:Ir,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,t){1&e&&(y.nc(),y.Xb(0,"div",0,1),y.mc(2),y.Jc(3,Tr,0,0,"ng-template",2),y.Xb(4,"kendo-resize-sensor",3),y.gc("resize",(function(){return t.onResize()})),y.Wb(),y.Wb()),2&e&&(y.oc("ngClass",t.popupClass),y.Eb(3),y.oc("ngTemplateOutlet",t.content)("ngIf",t.content),y.Eb(1),y.oc("rateLimit",100))},directives:[b.h,b.o,b.j,Ni],encapsulation:2}),Nr),na=new y.r("Popup Container"),ra=((Gr=function(){function e(t,i,n,r){_classCallCheck(this,e),this.applicationRef=t,this.componentFactoryResolver=i,this.injector=n,this.container=r}return _createClass(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.contentFrom(e.content),i=t.component,n=t.nodes,r=this.appendPopup(n,e.appendTo),a=r.instance;this.projectComponentInputs(r,e),r.changeDetectorRef.detectChanges(),i&&i.changeDetectorRef.detectChanges();var o=this.getComponentRootNode(r);return{close:function(){var e;i&&i.destroy(),r.destroy(),(e=o)&&e.parentNode&&e.parentNode.removeChild(e)},content:i,popup:r,popupAnchorViewportLeave:a.anchorViewportLeave,popupClose:a.close,popupElement:o,popupOpen:a.open,popupPositionChange:a.positionChange}}},{key:"appendPopup",value:function(e,t){var i=this.createComponent(ia,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(i)),i}},{key:"getComponentRootNode",value:function(e){return e.location.nativeElement}},{key:"getComponentFactory",value:function(e){return this.componentFactoryResolver.resolveComponentFactory(e)}},{key:"createComponent",value:function(e,t,i){var n=this.getComponentFactory(e);if(i)return i.createComponent(n,void 0,this.injector,t);var r=n.create(this.injector,t);return this.applicationRef.attachView(r.hostView),r}},{key:"projectComponentInputs",value:function(e,t){return Object.getOwnPropertyNames(t).filter((function(e){return"content"!==e||t.content instanceof y.N})).map((function(i){e.instance[i]=t[i]})),e}},{key:"contentFrom",value:function(e){if(!e||e instanceof y.N)return{component:null,nodes:[[]]};var t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}},{key:"rootViewContainer",get:function(){var e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}},{key:"rootViewContainerNode",get:function(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}}]),e}()).\u0275fac=function(e){return new(e||Gr)(y.cc(y.g),y.cc(y.j),y.cc(y.s),y.cc(na,8))},Gr.\u0275prov=y.Nb({token:Gr,factory:Gr.\u0275fac}),Gr),aa=((Hr=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Hr}),Hr.\u0275inj=y.Ob({factory:function(e){return new(e||Hr)},providers:[ra],imports:[[b.b,Hi]]}),Hr),oa=function(){return"undefined"!=typeof window},sa={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},la={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},ca={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},ua={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},ha=function(e,t,i){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return void 0!==i?i:e},fa=oa()&&window.navigator?window.navigator.userAgent:null,da=fa?function(e){var t=null,i=[];for(var n in ca)if(ca.hasOwnProperty(n)&&(i=e.match(ca[n]))){(t={})[n]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t}(fa):null,pa=fa?function(e){var t,i=[];for(var n in sa)if(sa.hasOwnProperty(n)){if(!(i=e.match(sa[n])))continue;if("windows"===n&&"plugins"in window.navigator)return null;var r={};return r.device=n,r.browser=ha(e,ua,"default"),r.name=ha(n,la),r[r.name]=!0,r.majorVersion=i[2],r.minorVersion=i[3]?i[3].replace("_","."):".0",t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(fa):null,va=oa()&&"ontouchstart"in window,ga=da&&!da.chrome&&window.MSPointerEvent,ma=da&&!da.chrome&&window.PointerEvent,ya=pa&&(va||ga||ma),ba=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,ka={undefined:function(e){return e}};function Ca(e){return function(t){return t.lift(new wa(e))}}i("JIr8");var wa=function(){function e(t){_classCallCheck(this,e),this.predicate=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _a(e,this.predicate))}}]),e}(),_a=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).predicate=n,r.skipping=!0,r.index=0,r}return _createClass(i,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(i){this.destination.error(i)}}}]),i}(Ct.a),xa=i("bOdf"),Sa=["input"],Ta=["content"],Ia=["list"];function Oa(e,t){}var Ea=function(e,t){return{templateRef:e,$implicit:t}};function Aa(e,t){if(1&e&&y.Jc(0,Oa,0,0,"ng-template",9),2&e){var i=y.jc(2);y.oc("templateContext",y.sc(1,Ea,i.fixedGroupTemplate.templateRef,i.currentGroup))}}function Ra(e,t){if(1&e&&(y.Xb(0,"strong"),y.Lc(1),y.Wb()),2&e){var i=y.jc(2);y.Eb(1),y.Mc(i.currentGroup)}}var Da=function(e){return{"k-virtual-item":e}},Ma=function(e,t,i){return{"height.px":e,"minHeight.px":t,boxSizing:i}};function za(e,t){if(1&e&&(y.Xb(0,"div",7),y.Jc(1,Aa,1,4,void 0,5),y.Jc(2,Ra,2,1,"ng-template",8),y.Wb()),2&e){var i=y.jc();y.oc("ngClass",y.rc(4,Da,i.virtual))("ngStyle",y.tc(6,Ma,null==i.virtual?null:i.virtual.itemHeight,null==i.virtual?null:i.virtual.itemHeight,i.virtual?"border-box":"inherit")),y.Eb(1),y.oc("ngIf",i.fixedGroupTemplate),y.Eb(1),y.oc("ngIf",!i.fixedGroupTemplate)}}function Pa(e,t){}function Fa(e,t){if(1&e&&y.Jc(0,Pa,0,0,"ng-template",9),2&e){var i=y.jc().$implicit,n=y.jc(2);y.oc("templateContext",y.sc(1,Ea,n.template.templateRef,i))}}function La(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc().$implicit,n=y.jc(2);y.Mc(n.getText(i))}}var ja=function(e,t){return{"k-virtual-item":e,"k-state-disabled":t}};function Va(e,t){if(1&e&&(y.Xb(0,"li",11),y.Jc(1,Fa,1,4,void 0,5),y.Jc(2,La,1,1,"ng-template",8),y.Wb()),2&e){var i=t.$implicit,n=t.index,r=y.jc(2);y.oc("height",null==r.virtual?null:r.virtual.itemHeight)("index",n+r.startFrom)("multipleSelection",r.multipleSelection)("ngClass",y.sc(8,ja,r.virtual,r.isDisabled(n))),y.Fb("id",r.optionPrefix+"-"+r.getValue(i))("tabIndex",-1),y.Eb(1),y.oc("ngIf",r.template),y.Eb(1),y.oc("ngIf",!r.template)}}function Ba(e,t){if(1&e&&y.Jc(0,Va,3,11,"ng-template",10),2&e){var i=y.jc();y.oc("ngForOf",i.data)}}function Na(e,t){}function Ha(e,t){if(1&e&&y.Jc(0,Na,0,0,"ng-template",9),2&e){var i=y.jc(2).$implicit,n=y.jc(2);y.oc("templateContext",y.sc(1,Ea,n.groupTemplate.templateRef,i.value))}}function Ga(e,t){if(1&e&&(y.Xb(0,"strong"),y.Lc(1),y.Wb()),2&e){var i=y.jc(2).$implicit;y.Eb(1),y.Nc(" ",i.value,"")}}function Wa(e,t){if(1&e&&(y.Xb(0,"li",14),y.Jc(1,Ha,1,4,void 0,5),y.Jc(2,Ga,2,1,"ng-template",8),y.Wb()),2&e){var i=y.jc().$implicit,n=y.jc(2);y.oc("ngClass",y.rc(7,Da,n.virtual))("ngStyle",y.tc(9,Ma,null==n.virtual?null:n.virtual.itemHeight,null==n.virtual?null:n.virtual.itemHeight,n.virtual?"border-box":"inherit")),y.Fb("group-index",i.index)("id",n.optionPrefix+"-"+n.getValue(i.value))("tabIndex",-1),y.Eb(1),y.oc("ngIf",n.groupTemplate),y.Eb(1),y.oc("ngIf",!n.groupTemplate)}}function Ua(e,t){}function qa(e,t){if(1&e&&y.Jc(0,Ua,0,0,"ng-template",9),2&e){var i=y.jc(2).$implicit,n=y.jc(2);y.oc("templateContext",y.sc(1,Ea,n.template.templateRef,i.value))}}function Xa(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc(2).$implicit,n=y.jc(2);y.Mc(n.getText(i.value))}}function Ja(e,t){if(1&e&&(y.Xb(0,"li",11),y.Jc(1,qa,1,4,void 0,5),y.Jc(2,Xa,1,1,"ng-template",8),y.Wb()),2&e){var i=y.jc().$implicit,n=y.jc(2);y.oc("height",null==n.virtual?null:n.virtual.itemHeight)("index",i.offsetIndex)("multipleSelection",n.multipleSelection)("ngClass",y.sc(9,ja,n.virtual,n.isDisabled(i.offsetIndex))),y.Fb("absolute-index",i.index)("id",n.optionPrefix+"-"+n.getValue(i.value))("tabIndex",-1),y.Eb(1),y.oc("ngIf",n.template),y.Eb(1),y.oc("ngIf",!n.template)}}function Ya(e,t){if(1&e&&(y.Jc(0,Wa,3,13,"li",12),y.Jc(1,Ja,3,12,"li",13)),2&e){var i=t.$implicit;y.oc("ngIf",i.header&&i.index>0),y.Eb(1),y.oc("ngIf",!i.header)}}function Ka(e,t){if(1&e&&y.Jc(0,Ya,2,2,"ng-template",10),2&e){var i=y.jc();y.oc("ngForOf",i.data)}}function Za(e,t){if(1&e&&(y.Xb(0,"div",15),y.Sb(1,"div"),y.Wb()),2&e){var i=y.jc();y.Eb(1),y.Ic("height",i.scrollHeight,"px")}}var $a=function(e,t){return{"k-virtual-content":e,"k-list-scroller":t}},Qa=function(e){return{"k-virtual-list":e}},eo=["container"],to=["popupTemplate"],io=["optionsList"],no=["noDataText",$localize(_templateObject()),"clearTitle",$localize(_templateObject2())];function ro(e,t){if(1&e){var i=y.Yb();y.Xb(0,"span",8),y.gc("click",(function(e){return y.Cc(i),y.jc().clearValue(e)}))("mousedown",(function(e){return y.Cc(i),e.preventDefault()})),y.Wb()}if(2&e){var n=y.jc();y.Fb("title",n.clearTitle)}}function ao(e,t){1&e&&y.Sb(0,"span",9)}function oo(e,t){}var so=function(e){return{templateRef:e}};function lo(e,t){if(1&e&&y.Jc(0,oo,0,0,"ng-template",14),2&e){var i=y.jc(2);y.oc("templateContext",y.rc(1,so,i.headerTemplate.templateRef))}}function co(e,t){}function uo(e,t){if(1&e&&(y.Xb(0,"div"),y.Lc(1),y.Wb()),2&e){var i=y.jc(3);y.Eb(1),y.Mc(i.noDataText)}}function ho(e,t){if(1&e&&(y.Xb(0,"div",15),y.Jc(1,co,0,0,"ng-template",16),y.Jc(2,uo,2,1,"ng-template",6),y.Wb()),2&e){var i=y.jc(2);y.Eb(1),y.oc("ngIf",i.noDataTemplate)("templateContext",y.rc(3,so,null==i.noDataTemplate?null:i.noDataTemplate.templateRef)),y.Eb(1),y.oc("ngIf",!i.noDataTemplate)}}function fo(e,t){}function po(e,t){if(1&e&&y.Jc(0,fo,0,0,"ng-template",14),2&e){var i=y.jc(2);y.oc("templateContext",y.rc(1,so,i.footerTemplate.templateRef))}}function vo(e,t){if(1&e){var i=y.Yb();y.Jc(0,lo,1,3,void 0,10),y.Xb(1,"kendo-list",11,12),y.gc("pageChange",(function(e){return y.Cc(i),y.jc().pageChange(e)})),y.Wb(),y.Jc(3,ho,3,5,"div",13),y.Jc(4,po,1,3,void 0,10)}if(2&e){var n=y.jc();y.oc("ngIf",n.headerTemplate),y.Eb(1),y.oc("id",n.listBoxId)("optionPrefix",n.optionPrefix)("data",n.data)("textField",n.valueField)("valueField",n.valueField)("template",n.template)("groupTemplate",n.groupTemplate)("fixedGroupTemplate",n.fixedGroupTemplate)("height",n.listHeight)("show",n.isOpen)("virtual",n.virtual),y.Eb(2),y.oc("ngIf",0===n.data.length),y.Eb(1),y.oc("ngIf",n.footerTemplate)}}function go(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-resize-sensor",17),y.gc("resize",(function(){return y.Cc(i),y.jc().onResize()})),y.Wb()}}$localize(_templateObject3()),$localize(_templateObject4());var mo=["wrapper"],yo=["noDataText",$localize(_templateObject5())];function bo(e,t){}function ko(e,t){if(1&e&&y.Jc(0,bo,0,0,"ng-template",10),2&e){var i=y.jc();y.oc("templateContext",y.sc(1,Ea,i.valueTemplate.templateRef,i.dataItem))}}function Co(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc();y.Mc(i.getText())}}function wo(e,t){if(1&e){var i=y.Yb();y.Xb(0,"span",14),y.gc("click",(function(e){return y.Cc(i),e.stopImmediatePropagation()})),y.Xb(1,"input",15),y.gc("ngModelChange",(function(e){return y.Cc(i),y.jc(2).filterText=e}))("keydown",(function(e){return y.Cc(i),y.jc(2).keydown(e)}))("input",(function(e){return y.Cc(i),y.jc(2).handleFilter(e)}))("focus",(function(){return y.Cc(i),y.jc(2).onFilterFocus()}))("blur",(function(){return y.Cc(i),y.jc(2).blurFilterInput()})),y.Wb(),y.Sb(2,"span",16),y.Wb()}if(2&e){var n=y.jc(2);y.Eb(1),y.oc("filterInput",n.isFocused&&!n.touchEnabled)("dir",n.direction)("ngModel",n.filterText),y.Fb("aria-owns",n.ariaOwns)("aria-activedescendant",n.ariaActivedescendant)("aria-label",n.noDataLabel)}}var _o=function(e){return{"k-state-disabled":e}};function xo(e,t){if(1&e&&(y.Xb(0,"div",17),y.Lc(1),y.Wb()),2&e){var i=y.jc(2);y.oc("ngClass",y.rc(3,_o,i.isDisabledDefaultItem))("index",-1),y.Eb(1),y.Nc(" ",i.getDefaultItemText()," ")}}function So(e,t){}function To(e,t){if(1&e&&(y.Xb(0,"div",17),y.Jc(1,So,0,0,"ng-template",10),y.Wb()),2&e){var i=y.jc(2);y.oc("ngClass",y.rc(3,_o,i.isDisabledDefaultItem))("index",-1),y.Eb(1),y.oc("templateContext",y.sc(5,Ea,i.itemTemplate.templateRef,i.defaultItem))}}function Io(e,t){}function Oo(e,t){if(1&e&&y.Jc(0,Io,0,0,"ng-template",10),2&e){var i=y.jc(2);y.oc("templateContext",y.rc(1,so,i.headerTemplate.templateRef))}}function Eo(e,t){}function Ao(e,t){if(1&e&&(y.Xb(0,"div"),y.Lc(1),y.Wb()),2&e){var i=y.jc(3);y.Eb(1),y.Mc(i.noDataText)}}function Ro(e,t){if(1&e&&(y.Xb(0,"div",18),y.Jc(1,Eo,0,0,"ng-template",19),y.Jc(2,Ao,2,1,"ng-template",5),y.Wb()),2&e){var i=y.jc(2);y.Eb(1),y.oc("ngIf",i.noDataTemplate)("templateContext",y.rc(3,so,i.noDataTemplate?i.noDataTemplate.templateRef:void 0)),y.Eb(1),y.oc("ngIf",!i.noDataTemplate)}}function Do(e,t){}function Mo(e,t){if(1&e&&y.Jc(0,Do,0,0,"ng-template",10),2&e){var i=y.jc(2);y.oc("templateContext",y.rc(1,so,i.footerTemplate.templateRef))}}function zo(e,t){if(1&e){var i=y.Yb();y.Jc(0,wo,3,6,"ng-template",5),y.Jc(1,xo,2,5,"ng-template",5),y.Jc(2,To,2,8,"ng-template",5),y.Jc(3,Oo,1,3,void 0,4),y.Xb(4,"kendo-list",11,12),y.gc("pageChange",(function(e){return y.Cc(i),y.jc().pageChange(e)})),y.Wb(),y.Jc(6,Ro,3,5,"div",13),y.Jc(7,Mo,1,3,void 0,4)}if(2&e){var n=y.jc();y.oc("ngIf",n.filterable),y.Eb(1),y.oc("ngIf",n.defaultItem&&!n.itemTemplate),y.Eb(1),y.oc("ngIf",n.defaultItem&&n.itemTemplate),y.Eb(1),y.oc("ngIf",n.headerTemplate),y.Eb(1),y.oc("id",n.listBoxId)("optionPrefix",n.optionPrefix)("data",n.data)("textField",n.textField)("valueField",n.valueField)("template",n.itemTemplate)("groupTemplate",n.groupTemplate)("fixedGroupTemplate",n.fixedGroupTemplate)("height",n.listHeight)("show",n.isOpen)("virtual",n.virtual),y.Eb(2),y.oc("ngIf",0===n.data.length),y.Eb(1),y.oc("ngIf",n.footerTemplate)}}function Po(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-resize-sensor",20),y.gc("resize",(function(){return y.Cc(i),y.jc().onResize()})),y.Wb()}}var Fo=function(e,t,i){return{"k-dropdown-wrap":!0,"k-state-default":e,"k-state-disabled":t,"k-state-focused":i}};$localize(_templateObject6()),$localize(_templateObject7());var Lo,jo,Vo,Bo,No,Ho,Go,Wo,Uo,qo,Xo,Jo,Yo,Ko,Zo,$o,Qo,es,ts,is,ns,rs,as,os=function(e){return e[e.backspace=8]="backspace",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.shift=16]="shift",e[e.ctrl=17]="ctrl",e[e.alt=18]="alt",e[e["pause/break"]=19]="pause/break",e[e["caps lock"]=20]="caps lock",e[e.esc=27]="esc",e[e.space=32]="space",e[e["page up"]=33]="page up",e[e["page down"]=34]="page down",e[e.end=35]="end",e[e.home=36]="home",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e[e.insert=45]="insert",e[e.delete=46]="delete",e[e.command=91]="command",e[e["left command"]=91]="left command",e[e["right command"]=93]="right command",e[e["numpad *"]=106]="numpad *",e[e["numpad +"]=107]="numpad +",e[e["numpad -"]=109]="numpad -",e[e["numpad ."]=110]="numpad .",e[e["numpad /"]=111]="numpad /",e[e["num lock"]=144]="num lock",e[e["scroll lock"]=145]="scroll lock",e[e["my computer"]=182]="my computer",e[e["my calculator"]=183]="my calculator",e[e[";"]=186]=";",e[e["="]=187]="=",e[e[","]=188]=",",e[e["-"]=189]="-",e[e["."]=190]=".",e[e["/"]=191]="/",e[e["`"]=192]="`",e[e["["]=219]="[",e[e["\\"]=220]="\\",e[e["]"]=221]="]",e[e["'"]=222]="'",e}({}),ss=function(e){return null!=e},ls=function(){var e,t,i="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(i+="-"),i+=(12===e?4:16===e?3&t|8:t).toString(16);return i},cs=function(){return"undefined"!=typeof window},us=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ss(e))return i?t&&ss(e[t])?e[t]:e:t?e[t]:e},hs=function(e,t,i){if(!ss(e))return!1;var n=String(e);return i&&(n=n.toLowerCase()),0===n.indexOf(t)},fs=((Go=function(){function e(t,i){_classCallCheck(this,e),this.localization=t,this.valueChange=new y.o,this.onBlur=new y.o,this.onFocus=new y.o,this.onClick=new y.o,this.onNavigate=new y.o,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=t.rtl?"rtl":"ltr",this.renderer=i}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var i=t.rtl;return e.direction=i?"rtl":"ltr"}))}},{key:"ngOnChanges",value:function(e){var t,i,n;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;var r=this.input.nativeElement.selectionStart,a=t.length===r;this.writeInputValue(this.suggestedText?(i=this.userInput).concat((n=this.suggestedText).substr(n.toLowerCase().indexOf(i.toLowerCase())+i.length)):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):a?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(r,r),this._previousValue=this.userInput}}},{key:"ngOnDestroy",value:function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"writeInputValue",value:function(e){Si()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}},{key:"setInputSelection",value:function(e,t){if(Si()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(i){}}},{key:"handleInput",value:function(e){var t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}},{key:"handleFocus",value:function(e){this.onFocus.emit(e)}},{key:"handleBlur",value:function(e){this.onBlur.emit(e)}},{key:"handleKeydown",value:function(e){[os.up,os.down,os.left,os.right,os.enter,os.esc,os.delete,os.backspace,os.home,os.end].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}},{key:"focus",value:function(){Si()&&this.input.nativeElement.focus()}},{key:"blur",value:function(){Si()&&this.input.nativeElement.blur()}},{key:"setInputSize",value:function(){var e=function(e){return e?e.length:0},t=this.input.nativeElement,i=e(this.placeholder),n=e(this.value),r=Math.max(i,n,1);this.renderer.setAttribute(t,"size",r.toString())}},{key:"userInput",get:function(){return this._userInput},set:function(e){this._userInput=e||""}},{key:"value",get:function(){return this.input.nativeElement.value}},{key:"placeholder",set:function(e){this._placeholder=e||"",this.setInputSize()},get:function(){return this._placeholder}}]),e}()).\u0275fac=function(e){return new(e||Go)(y.Rb(cr),y.Rb(y.F))},Go.\u0275cmp=y.Lb({type:Go,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){var i;1&e&&y.Hc(Sa,!0),2&e&&y.zc(i=y.hc())&&(t.input=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-searchbar",t.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[y.Cb],decls:2,vars:16,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","input","focus","blur","keydown"],["input",""]],template:function(e,t){1&e&&(y.Xb(0,"input",0,1),y.gc("input",(function(e){return t.handleInput(e)}))("focus",(function(e){return t.handleFocus(e)}))("blur",(function(e){return t.handleBlur(e)}))("keydown",(function(e){return t.handleKeydown(e)})),y.Wb()),2&e&&(y.Gb("k-input"),y.oc("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder),y.Fb("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.popupOpen)("aria-owns",t.listId)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-label",t.noDataLabel))},encapsulation:2}),Go),ds=((Ho=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Ho)(y.Rb(y.N))},Ho.\u0275dir=y.Mb({type:Ho,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),Ho),ps=((No=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||No)(y.Rb(y.N))},No.\u0275dir=y.Mb({type:No,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""]]}),No),vs=((Bo=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Bo)(y.Rb(y.N))},Bo.\u0275dir=y.Mb({type:Bo,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""]]}),Bo),gs=((Vo=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Vo)(y.Rb(y.N))},Vo.\u0275dir=y.Mb({type:Vo,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),Vo),ms=((jo=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||jo)(y.Rb(y.N))},jo.\u0275dir=y.Mb({type:jo,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),jo),ys=((Lo=function(){function e(){_classCallCheck(this,e),this.onSelect=new y.o,this.onChange=new y.o,this.onFocus=new y.o,this.total=0,this.selectedIndices=[]}return _createClass(e,[{key:"getTotal",value:function(){return this.total}},{key:"isSelected",value:function(e){return ss(this.selectedIndices.find((function(t){return t===e})))}},{key:"isFocused",value:function(e){return e===this.focused}},{key:"focus",value:function(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}},{key:"select",value:function(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:ss(e)}))}},{key:"add",value:function(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}},{key:"unselect",value:function(e){if(this.isSelected(e)){var t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}}},{key:"change",value:function(e){var t=ss(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}},{key:"resetSelection",value:function(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}},{key:"selected",get:function(){return this.selectedIndices.slice()}},{key:"focused",get:function(){return this.focusedIndex},set:function(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}]),e}()).\u0275fac=function(e){return new(e||Lo)},Lo.\u0275prov=y.Nb({token:Lo,factory:Lo.\u0275fac}),Lo),bs=function(e){return e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Enter=3]="Enter",e[e.Tab=4]="Tab",e[e.Esc=5]="Esc",e[e.Delete=6]="Delete",e[e.Backspace=7]="Backspace",e[e.Home=8]="Home",e[e.End=9]="End",e[e.Up=10]="Up",e[e.Down=11]="Down",e[e.Left=12]="Left",e[e.Right=13]="Right",e}({}),ks=((Uo=function(){function e(){_classCallCheck(this,e),this.grouped=!1,this.groupIndices=[]}return _createClass(e,[{key:"isGrouped",value:function(e){return ss(e)&&0!==e.length&&ss(e[0])&&(i=["aggregates","field","items","value"],!!ss(t=e[0])&&i.every((function(e){return t.hasOwnProperty(e)})));var t,i}},{key:"getGroupIndices",value:function(e){for(var t=[],i=0;i<=e.length-1;i++)t[i]=(t[i-1]||0)+e[i].items.length;return t}},{key:"filter",value:function(e){var t=[];if(this.isGrouped(this.data))for(var i=0;i<=this.groupIndices.length-1;i++){var n=this.data[i].items.filter(e);n&&(t=t.concat(n))}else t=this.data.filter(e);return t}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=function(t){return t===e};return this.grouped&&(i=function(t){return t.value===e}),this.findIndex(i,t)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=-1;if(this.grouped){var n=this._flatData.filter((function(e){return!e.header&&e.offsetIndex>=t}));i=n.findIndex(e),i=n[i]?n[i].offsetIndex:-1}else{var r=this.data.slice(t).findIndex(e);i=-1!==r?r+t:-1}return i}},{key:"closestGroup",value:function(e){for(var t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}},{key:"find",value:function(e){var t=this.findIndex(e);return this.itemAt(t)}},{key:"flatIndex",value:function(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;var t=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));return t?t.index:-1}},{key:"itemAt",value:function(e){var t;if(0===this.itemsCount)return t;if(this.grouped){var i=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));i&&(t=i.value)}else t=this.data[e];return t}},{key:"groupAt",value:function(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find((function(t){return t.header&&t.index===e}))}},{key:"groupField",value:function(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}},{key:"itemGroup",value:function(e){if(e&&0!==this.itemsCount&&this.isGrouped){var t=this.groupField();return t?e[t]:void 0}}},{key:"flatten",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=[];ss(t)&&r.push({header:!0,index:n+i,offsetIndex:n,value:t});for(var a=0;a<e.length;a++){var o=[];e[a].items?(o=this.flatten(e[a].items,e[a].value,i,a),i+=e[a].items.length):o.push({header:!1,index:n+i+a+1,offsetIndex:i+a,value:e[a]}),r=r.concat(o)}return r}},{key:"data",set:function(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))},get:function(){return this.grouped?this._flatData:this._data}},{key:"itemsCount",get:function(){return ss(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter((function(e){return!e.header})):this.data).length:0}}]),e}()).\u0275fac=function(e){return new(e||Uo)},Uo.\u0275prov=y.Nb({token:Uo,factory:Uo.\u0275fac}),Uo),Cs=((Wo=function(){function e(t){_classCallCheck(this,e),this.dataService=t,this.itemDisabled=null}return _createClass(e,[{key:"isIndexDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.itemAt(e);if(ss(t))return this.itemDisabled({dataItem:t,index:e});if(ss(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}},{key:"isItemDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(ss(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}]),e}()).\u0275fac=function(e){return new(e||Wo)(y.cc(ks))},Wo.\u0275prov=y.Nb({token:Wo,factory:Wo.\u0275fac}),Wo),ws=function e(t,i){_classCallCheck(this,e),this.index=t,this.originalEvent=i},_s=((Xo=function(){function e(t,i){_classCallCheck(this,e),this.disabledItemsService=t,this.selectionService=i,this.open=new y.o,this.close=new y.o,this.enter=new y.o,this.tab=new y.o,this.esc=new y.o,this.up=new y.o,this.right=new y.o,this.down=new y.o,this.left=new y.o,this.delete=new y.o,this.backspace=new y.o,this.home=new y.o,this.end=new y.o}return _createClass(e,[{key:"process",value:function(e){var t,i=e.originalEvent.keyCode,n=e.originalEvent.altKey,r=bs.Undefined;n&&i===os.down?r=bs.Open:n&&i===os.up?r=bs.Close:i===os.enter?r=bs.Enter:i===os.esc?r=bs.Esc:i===os.tab?r=bs.Tab:i===os.up?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),r=bs.Up):i===os.left?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),r=bs.Left):i===os.down?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),r=bs.Down):i===os.right?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),r=bs.Right):i===os.home?(t=this.isDisabled(0)?e.current:0,r=bs.Home):i===os.end?(t=this.isDisabled(e.max)?e.current:e.max,r=bs.End):i===os.delete?r=bs.Delete:i===os.backspace&&(r=bs.Backspace);var a=new ws(t,e.originalEvent);return r!==bs.Undefined&&this[bs[r].toLowerCase()].emit(a),r}},{key:"next",value:function(e){var t=e.current,i=e.start,n=e.end,r=e.step,a=ss(t)?this.clampIndex(t+r,i,n):i,o=this.firstFocusableIndex(a,i,n,r);return ss(o)?o:this.selectionService.isSelected(t)&&t>=i?t:this.firstFocusableIndex(a,i,n,-1*r)}},{key:"clampIndex",value:function(e,t,i){return!ss(e)||e<t?t:e>i?i:e}},{key:"firstFocusableIndex",value:function(e,t,i,n){for(;t<=e&&e<=i;){if(!this.isDisabled(e))return e;e+=n}}},{key:"isDisabled",value:function(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}]),e}()).\u0275fac=function(e){return new(e||Xo)(y.cc(Cs),y.cc(ys))},Xo.\u0275prov=y.Nb({token:Xo,factory:Xo.\u0275fac}),Xo),xs=((qo=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||qo)(y.Rb(y.N))},qo.\u0275dir=y.Mb({type:qo,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""]]}),qo),Ss=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),Ts=function e(){_classCallCheck(this,e)},Is=((Yo=function e(t){_classCallCheck(this,e),this.element=t}).\u0275fac=function(e){return new(e||Yo)(y.Rb(y.m))},Yo.\u0275dir=y.Mb({type:Yo,selectors:[["li","role","option"],["li","role","group"]]}),Yo),Os=((Jo=function(){function e(t,i,n,r,a,o,s){_classCallCheck(this,e),this.dataService=t,this.wrapper=i,this.selectionService=n,this.disabledItemsService=r,this.cdr=a,this.zone=o,this.renderer=s,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new y.o,this.pageChange=new y.o,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=Object(pt.a)(this.selectionService.onSelect.pipe(Object(w.a)((function(e){return e.indices[0]}))),this.selectionService.onFocus).subscribe(this.scrollToItem.bind(this))}return _createClass(e,[{key:"ngOnChanges",value:function(e){Ti("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.scrollSubscription=mt(e.content.nativeElement,"scroll").pipe(Vt(100),Object(Ut.a)(e.prefetchData.bind(e)),Object(Ut.a)(e.findCurrentGroup.bind(e))).subscribe((function(){e.lastScrollTop=e.content.nativeElement.scrollTop}))}))}},{key:"ngAfterViewChecked",value:function(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}},{key:"ngOnDestroy",value:function(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}},{key:"firstVisibleItem",value:function(){var e=this.content.nativeElement,t=e.offsetParent;return document.elementFromPoint((t?t.offsetLeft:0)+e.offsetLeft+1,(t?t.offsetTop:0)+e.offsetTop+1)}},{key:"findCurrentGroup",value:function(){if(this.dataService.grouped){var e,t=this.firstVisibleItem();t?"group"===t.getAttribute("role")?(e=parseInt(t.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(e).value):(e=parseInt(t.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(e))):this.currentGroup=void 0,this.cdr.detectChanges()}else this.currentGroup=void 0}},{key:"prefetchData",value:function(){if(this.virtual){var e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,i=Math.trunc(t/this.virtual.itemHeight),n=t>this.lastScrollTop,r=this.lastLoaded-this.pageSize+e>=i-(this.pageSize-(this.lastLoaded-this.startFrom));n&&i+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(i),!n&&r&&this.changePage(i-this.pageSize+e+1)}}},{key:"changePage",value:function(e){var t=this;this.zone.run((function(){var i=t.pageSize+e;i>t.virtual.total&&(e--,i=t.virtual.total),e<0&&(e=0),t.startFrom=e,t.lastLoaded=i,t.pageChange.emit({skip:e,take:t.pageSize})}))}},{key:"index",value:function(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}},{key:"getText",value:function(e){return us(e,this.textField)}},{key:"getValue",value:function(e){return us(e,this.valueField)}},{key:"isDisabled",value:function(e){return this.disabledItemsService.isIndexDisabled(e)}},{key:"scrollToItem",value:function(e){var t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0),this.virtual&&t>-1)this.scrollToIndex(t);else{var i=this.items.toArray();ss(i[t])&&-1!==t&&this.scroll(i[t].element)}}},{key:"scrollToIndex",value:function(e){var t=this.content.nativeElement,i=t.scrollTop,n=e*this.virtual.itemHeight,r=t.clientHeight,a=n+this.virtual.itemHeight;i>n?i=n:a>i+r&&(i=a-r),t.scrollTop=i}},{key:"scroll",value:function(e){if(e){var t=e.nativeElement,i=this.content.nativeElement,n=t.offsetTop,r=i.scrollTop,a=i.clientHeight,o=n+t.offsetHeight;r>n?r=n:o>r+a&&(r=o-a),i.scrollTop=r}}},{key:"positionItems",value:function(){var e=this;this.items.forEach((function(t,i){e.renderer.setStyle(t.element.nativeElement,"transform","translateY(".concat((i+e.startFrom)*e.virtual.itemHeight,"px"))}))}},{key:"firstGroupHeaderInTargetedPage",value:function(e){return!ss(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}},{key:"data",set:function(e){this._data=e[0]&&e[0].header?e.slice(0):e},get:function(){return this._data}},{key:"items",set:function(e){this._items=e},get:function(){return this._items}},{key:"pageSize",get:function(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}},{key:"scrollHeight",get:function(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}}]),e}()).\u0275fac=function(e){return new(e||Jo)(y.Rb(ks),y.Rb(y.m),y.Rb(ys),y.Rb(Cs),y.Rb(y.h),y.Rb(y.A),y.Rb(y.F))},Jo.\u0275cmp=y.Lb({type:Jo,selectors:[["kendo-list"]],viewQuery:function(e,t){var i;1&e&&(y.Qc(Ta,!0),y.Qc(Ia,!0),y.Qc(Is,!0)),2&e&&(y.zc(i=y.hc())&&(t.content=i.first),y.zc(i=y.hc())&&(t.list=i.first),y.zc(i=y.hc())&&(t.items=i))},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange"},features:[y.Cb],decls:8,vars:15,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",1,"k-list","k-reset",3,"ngClass"],["list",""],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","presentation",1,"k-height-container"]],template:function(e,t){1&e&&(y.Jc(0,za,3,10,"div",0),y.Xb(1,"div",1,2),y.Xb(3,"ul",3,4),y.Jc(5,Ba,1,1,void 0,5),y.Jc(6,Ka,1,1,void 0,5),y.Wb(),y.Jc(7,Za,2,2,"div",6),y.Wb()),2&e&&(y.oc("ngIf",t.dataService.grouped),y.Eb(1),y.Ic("max-height",t.height,"px"),y.oc("ngClass",y.sc(10,$a,t.virtual,!t.virtual)),y.Eb(2),y.oc("ngClass",y.rc(13,Qa,t.virtual)),y.Fb("id",t.id)("aria-hidden",!t.show),y.Eb(2),y.oc("ngIf",!t.dataService.grouped&&t.show),y.Eb(1),y.oc("ngIf",t.dataService.grouped),y.Eb(1),y.oc("ngIf",t.virtual))},directives:function(){return[b.j,b.h,b.k,Ls,b.i,Is,js]},encapsulation:2}),Jo),Es={pageSize:50,itemHeight:28},As=function(e){return!0===e?Es:e?Object.assign({pageSize:Es.pageSize},e):null},Rs={multi:!0,provide:A,useExisting:Object(y.W)((function(){return Ds}))},Ds=((Ko=function(){function e(t,i,n,r,a,o,s,l,c,u){_classCallCheck(this,e),this.localization=t,this.dataService=i,this.popupService=n,this.selectionService=r,this.navigationService=a,this.disabledItemsService=o,this._zone=s,this.cdr=l,this.renderer=c,this.highlightFirst=!0,this.focusableId="k-".concat(ls()),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new y.o,this.filterChange=new y.o,this.open=new y.o,this.close=new y.o,this.onFocus=new y.o,this.onBlur=new y.o,this.widgetClasses=!0,this.listBoxId=ls(),this.optionPrefix=ls(),this.onChangeCallback=function(e){},this.onTouchedCallback=function(e){},this.popupMouseDownHandler=function(e){return e.preventDefault()},this._popupSettings={animate:!0},this._open=!1,this._value="",this._previousValue="",this._filtering=!1,this.valueChangeSubject=new yt.a,this._isFocused=!1,this.direction=t.rtl?"rtl":"ltr",this.wrapper=u.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}return _createClass(e,[{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(e)}))}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr",e.setMessages()})),this.setMessages()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),/(value|valueField)/g.test(Object.keys(e).join())&&this.setState(this.value)}},{key:"reset",value:function(){this.setState("")}},{key:"clearValue",value:function(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}},{key:"writeValue",value:function(e){this.setState(e)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){this.disabled||this.searchbar.focus()}},{key:"blur",value:function(){this.disabled||this.searchbar.blur()}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,i=t.min,n=t.max;e.style.minWidth=i,e.style.width=n}}},{key:"emitChange",value:function(){this.value!==this._previousValue&&(this._previousValue=this.value,this.onChangeCallback(this.value),this.valueChange.emit(this.value))}},{key:"verifySettings",value:function(e){if(Object(y.Y)()&&ss(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/#toc-value")}},{key:"search",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),i):-1,this.disabledItemsService.isIndexDisabled(t)?t+1<this.dataService.itemsCount?this.search(e,t+1):this.selectionService.focus(-1):(this.selectionService.focus(t),this.suggest&&(this.suggestedText=us(this.dataService.itemAt(t),this.valueField)))}},{key:"navigate",value:function(e){this.isOpen&&this.selectionService.focus(e)}},{key:"handleNavigate",value:function(e){var t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(!(this.disabled||this.readonly||isNaN(t))){var i=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});i!==bs.Undefined&&i!==bs.Backspace&&i!==bs.Delete&&i!==bs.Home&&i!==bs.End&&i!==bs.Left&&i!==bs.Right&&(i===bs.Enter&&this.isOpen||i!==bs.Enter)&&e.preventDefault()}}},{key:"handleEnter",value:function(e){var t,i=this.selectionService.focused;if(this._filtering=!1,this.isOpen&&e.originalEvent.preventDefault(),i>=0)t=us(this.dataService.itemAt(i),this.valueField);else{var n=this.suggest&&this.suggestedText&&this.data.length&&us(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();t=this.isOpen&&n?this.suggestedText:this.searchbar.value}this.change(t)}},{key:"handleEscape",value:function(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}},{key:"searchBarChange",value:function(e){var t=ss(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this._filtering=!0,this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}},{key:"handleFocus",value:function(){this.isFocused=!0,this.onFocus.emit()}},{key:"handleBlur",value:function(){this._filtering=!1;var e,t,i=this.filterable?this.selectionService.focused:-1;-1!==i?(e=this.dataService.itemAt(i),t=us(e,this.valueField,!0)||""):t=this.searchbar.value;var n=t===this.searchbar.value,r=t.toLowerCase()===this.searchbar.value.toLowerCase();!n&&r&&this.selectionService.resetSelection([]),this.change(this.searchbar.value),this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),this.onTouchedCallback()}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"setState",value:function(e){this._filtering||(this.value=e,this._previousValue=this.value,this.text=this.value)}},{key:"change",value:function(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}},{key:"subscribeEvents",value:function(){var e=this;Si()&&(this.valueChangeSubscription=this.valueChangeSubject.pipe(Object(Wt.a)((function(t){return!(e.value===t&&e.text===t)}))).subscribe((function(t){e.value=t,e.text=t,e.emitChange()})),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=Object(pt.a)(this.navigationService.up,this.navigationService.down).subscribe((function(t){return e.navigate(t.index)})),this.closeSubscription=this.navigationService.close.subscribe((function(){return e.togglePopup(!1)})),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}},{key:"unsubscribeEvents",value:function(){Si()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())}},{key:"handleItemChange",value:function(e){var t=e.indices.length?e.indices[0]:void 0;if(this._filtering=!1,this.selectionService.resetSelection([-1]),ss(t)){var i=us(this.dataService.itemAt(t),this.valueField);this.change(i)}}},{key:"handleItemFocus",value:function(e){var t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=us(this.dataService.itemAt(t),this.valueField))}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:t,vertical:"top"},anchorAlign:{horizontal:t,vertical:"bottom"}});var i=this.popupRef.popupElement,n=this.width,r=n.min,a=n.max;i.addEventListener("mousedown",this.popupMouseDownHandler),i.style.minWidth=r,i.style.width=a,i.style.height=this.height,i.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new Ss;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"firstFocusableIndex",value:function(e){var t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"findIndexPredicate",value:function(e){var t=this;return this.dataService.grouped?function(i){var n=us(i.value,t.valueField);return(n=ss(n)?n.toString().toLowerCase():"").startsWith(e.toLowerCase())}:function(i){var n=us(i,t.valueField);return(n=ss(n)?n.toString().toLowerCase():"").startsWith(e.toLowerCase())}}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"width",get:function(){var e=0;Si()&&(e=this.wrapper.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:"".concat(e,"px"),max:isNaN(t)?t:"".concat(t,"px")}}},{key:"height",get:function(){var e=this.popupSettings.height;return ss(e)?"".concat(e,"px"):"auto"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"suggestion",get:function(){if(this.text&&this.suggestedText){var e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}this.suggestedText=void 0}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"isOpen",get:function(){return this._open}},{key:"activeDescendant",get:function(){if(!this.isOpen||!ss(this.selectionService.focused)||-1===this.selectionService.focused)return null;var e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+us(e,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.data.length)return this.noDataText}},{key:"clearTitle",get:function(){return this.localization.get("clearTitle")}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(this.value),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=us(this.dataService.itemAt(0),this.valueField))},get:function(){var e=this.virtual;if(e){var t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}},{key:"value",set:function(e){this.verifySettings(e),this._value=e||"",this.cdr.markForCheck()},get:function(){return this._value||""}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"virtual",set:function(e){this._virtualSettings=As(e)},get:function(){return this._virtualSettings}},{key:"isFocused",get:function(){return this._isFocused},set:function(e){this._isFocused=e}},{key:"isDisabled",get:function(){return this.disabled}},{key:"dir",get:function(){return this.direction}}]),e}()).\u0275fac=function(e){return new(e||Ko)(y.Rb(cr),y.Rb(ks),y.Rb(ra),y.Rb(ys),y.Rb(_s),y.Rb(Cs),y.Rb(y.A),y.Rb(y.h),y.Rb(y.F),y.Rb(y.m))},Ko.\u0275cmp=y.Lb({type:Ko,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,i){var n;1&e&&(y.Kb(i,ds,!0),y.Kb(i,ps,!0),y.Kb(i,vs,!0),y.Kb(i,xs,!0),y.Kb(i,gs,!0),y.Kb(i,ms,!0)),2&e&&(y.zc(n=y.hc())&&(t.template=n.first),y.zc(n=y.hc())&&(t.headerTemplate=n.first),y.zc(n=y.hc())&&(t.footerTemplate=n.first),y.zc(n=y.hc())&&(t.noDataTemplate=n.first),y.zc(n=y.hc())&&(t.groupTemplate=n.first),y.zc(n=y.hc())&&(t.fixedGroupTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(y.Qc(eo,!0,y.Q),y.Qc(to,!0),y.Qc(fs,!0),y.Qc(io,!0)),2&e&&(y.zc(i=y.hc())&&(t.container=i.first),y.zc(i=y.hc())&&(t.popupTemplate=i.first),y.zc(i=y.hc())&&(t.searchbar=i.first),y.zc(i=y.hc())&&(t.optionsList=i.first))},hostVars:11,hostBindings:function(e,t){2&e&&(y.Fb("dir",t.dir),y.Jb("k-widget",t.widgetClasses)("k-autocomplete",t.widgetClasses)("k-header",t.widgetClasses)("k-state-focused",t.isFocused)("k-state-disabled",t.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[y.Db([Rs,ks,ys,_s,Cs,cr,{provide:lr,useValue:"kendo.autocomplete"},{provide:Ts,useExisting:Object(y.W)((function(){return Ko}))},{provide:Gi,useExisting:Object(y.W)((function(){return Ko}))}]),y.Cb],decls:11,vars:15,consts:[["kendoAutoCompleteLocalizedMessages","",6,"noDataText","clearTitle"],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(y.Vb(0,0),y.bc(1,no),y.Ub(),y.Xb(2,"kendo-searchbar",1,2),y.gc("onNavigate",(function(e){return t.handleNavigate(e)}))("valueChange",(function(e){return t.searchBarChange(e)}))("onBlur",(function(){return t.handleBlur()}))("onFocus",(function(){return t.handleFocus()})),y.Wb(),y.Jc(4,ro,1,1,"span",3),y.Jc(5,ao,1,0,"span",4),y.Jc(6,vo,5,14,"ng-template",null,5,y.Kc),y.Jc(8,go,1,0,"ng-template",6),y.Tb(9,null,7)),2&e&&(y.Eb(2),y.oc("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),y.Eb(2),y.oc("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),y.Eb(1),y.oc("ngIf",t.loading),y.Eb(3),y.oc("ngIf",t.isOpen))},directives:function(){return[Ns,fs,b.j,Os,Ls,Ni]},encapsulation:2}),Ko),Ms=new y.r("dropdowns-touch-enabled"),zs=((Zo=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Zo)(y.Rb(y.N))},Zo.\u0275dir=y.Mb({type:Zo,selectors:[["","kendoDropDownListValueTemplate",""]]}),Zo),Ps={multi:!0,provide:A,useExisting:Object(y.W)((function(){return Fs}))},Fs=((ts=function(){function e(t,i,n,r,a,o,s,l,c,u,h){_classCallCheck(this,e),this.localization=t,this.popupService=i,this.selectionService=n,this.navigationService=r,this.disabledItemsService=a,this.dataService=o,this._zone=s,this.renderer=l,this.hostElement=c,this.cdr=u,this.touchEnabled=h,this.focusableId="k-".concat(ls()),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new y.o,this.filterChange=new y.o,this.selectionChange=new y.o,this.open=new y.o,this.close=new y.o,this.onFocus=new y.o,this.onBlur=new y.o,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=ls(),this.optionPrefix=ls(),this.filterText="",this.isFocused=!1,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.word="",this.last="",this.filterFocused=new y.o,this.filterBlurred=new y.o,this.wrapperFocused=new y.o,this.wrapperBlurred=new y.o,this.selectionSubscription=new bt.a,this._open=!1,this._popupSettings={animate:!0},this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.hostElement=c.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this)}return _createClass(e,[{key:"blurComponent",value:function(){this.wrapperBlurred.emit()}},{key:"blurFilterInput",value:function(){this.filterBlurred.emit()}},{key:"focusComponent",value:function(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,this.onFocus.emit())}},{key:"keydown",value:function(e){var t=ss(this.defaultItem)?-1:0,i=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,n=0;if(!(this.disabled||this.readonly||this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===os.home||e.keyCode===os.end))){var r=ss(this.selectionService.selected[0]),a=ss(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);r&&!a||(e.keyCode===os.down||e.keyCode===os.right?n=-1:e.keyCode!==os.up&&e.keyCode!==os.left||(n=1));var o=e,s=this.navigationService.process({current:i+n,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:o});s===bs.Undefined||s===bs.Tab||s===bs.Backspace||s===bs.Delete||(s===bs.Left||s===bs.Right)&&this.filterable||s===bs.Enter||o.preventDefault()}}},{key:"keypress",value:function(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}},{key:"click",value:function(){this.focus(),this.togglePopup(!this.isOpen)}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,i=t.min,n=t.max;e.style.minWidth=i,e.style.width=n}}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.hostElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr",e.setMessages()})),this.setMessages(),this.assignAriaDescribedBy()}},{key:"isEmpty",value:function(){var e=this.value;return!(0===e||!1===e||e||this.defaultItem)}},{key:"onFilterFocus",value:function(){this.filterFocused.emit()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),e.hasOwnProperty("value")&&(this.verifySettings(e.value.currentValue),ss(this.value)||(this._previousDataItem=void 0)),e.hasOwnProperty("defaultItem")&&(this.disabledItemsService.defaultItem=this.defaultItem),/(value|textField|valueField|valuePrimitive|defaultItem|itemDisabled)/g.test(Object.keys(e).join())&&this.setState()}},{key:"focus",value:function(){this.disabled||this.wrapper.nativeElement.focus()}},{key:"blur",value:function(){this.disabled||this.wrapper.nativeElement.blur()}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(e)}))}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new Ss;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}},{key:"reset",value:function(){this._previousDataItem=void 0,this.value=void 0,this.setState()}},{key:"writeValue",value:function(e){this.verifySettings(e),this.value=null===e?void 0:e,ss(e)||(this._previousDataItem=void 0),this.setState()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"getText",value:function(){return this.text}},{key:"getDefaultItemText",value:function(){return us(this.defaultItem,this.textField)}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});var i=this.popupRef.popupElement,n=this.width,r=n.min,a=n.max;i.addEventListener("mousedown",this.popupMouseDownHandler),i.style.minWidth=r,i.style.width=a,i.style.height=this.height,i.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"updateState",value:function(e){var t=e.dataItem,i=e.confirm,n=void 0!==i&&i;this.dataItem=t,this.text=this.prop(this.textField,this.valuePrimitive)(t),n&&(this._previousDataItem=t)}},{key:"clearState",value:function(){this.text=void 0,this.dataItem=void 0}},{key:"resetSelection",value:function(e){var t=!ss(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}},{key:"onSelectionChange",value:function(e){var t=e.dataItem;this.updateState({dataItem:t}),this.selectionChange.emit(t),this.assignAriaDescribedBy()}},{key:"subscribeEvents",value:function(){var e=this;Si()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(Object(Wt.a)((function(t){return e.isOpen})),Object(w.a)(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(Object(pt.a)(this.selectionService.onSelect.pipe(Object(Wt.a)((function(t){return!e.isOpen}))),this.selectionService.onChange).pipe(Object(w.a)(this.itemFromEvent.bind(this)),Object(Ut.a)((function(t){return e.togglePopup(!1)}))).subscribe((function(t){var i=t.dataItem,n=t.value;t.newSelection&&e.onSelectionChange({dataItem:i});var r=!ss(i)&&e._previousDataItem,a=n!==e.prop(e.valueField,e.valuePrimitive)(e.value);r?(e.updateState({dataItem:e._previousDataItem}),e.resetSelection()):a&&(e.value=e.valuePrimitive?n:i,e._previousDataItem=i,e.emitChange(e.value)),e.clearFilter()}))),this.navigationSubscription=Object(pt.a)(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(Ca((function(){return e.filterable}))),this.navigationService.right.pipe(Ca((function(){return e.filterable}))),this.navigationService.home,this.navigationService.end).pipe(Object(Wt.a)((function(e){return!isNaN(e.index)}))).subscribe((function(t){return e.selectionService.select(t.index)})),this.openSubscription=this.navigationService.open.subscribe((function(){return e.togglePopup(!0)})),this.closeSubscription=this.navigationService.close.subscribe((function(){e.togglePopup(!1),e.focus()})),this.enterSubscription=this.navigationService.enter.pipe(Object(Ut.a)((function(e){return e.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(Object(xa.a)((function(){return Dt(10).pipe(Object(Nt.a)(1),Kt(e.wrapperFocused))}))).subscribe((function(){e.wrapperBlurred.emit()})),this._zone.runOutsideAngular((function(){e.componentBlurredSubscription=Object(pt.a)(e.wrapperBlurred.pipe(Object(xa.a)((function(){return Dt(10).pipe(Object(Nt.a)(1),Kt(e.filterFocused))}))),e.navigationService.tab).pipe(Object(Ut.a)((function(t){return t instanceof ws&&e.focus()})),Object(Wt.a)((function(){return e.isFocused}))).subscribe((function(){return e._zone.run((function(){e.componentBlur()}))}))})))}},{key:"unsubscribeEvents",value:function(){Si()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}},{key:"itemFromEvent",value:function(e){var t=e.indices[0],i=this.dataService.itemAt(t);i=ss(i)?i:this.currentOrDefault(t);var n=this.prop(this.valueField,this.valuePrimitive)(i);return{dataItem:i,index:t,newSelection:e.newSelection,value:n}}},{key:"currentOrDefault",value:function(e){return ss(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}},{key:"firstFocusableIndex",value:function(e){var t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"handleEnter",value:function(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}},{key:"handleEscape",value:function(){ss(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}},{key:"clearFilter",value:function(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}},{key:"verifySettings",value:function(e){var t=!ss(this.valueField)!=!ss(this.textField);if(Object(y.Y)()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&ss(e)&&"object"==typeof e)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&ss(e)&&"object"!=typeof e)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(t)throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}},{key:"componentBlur",value:function(){this.isFocused=!1,ss(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.onBlur.emit(),this.onTouchedCallback()}},{key:"onMouseDown",value:function(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}},{key:"onKeyPress",value:function(e){if(0!==e.which&&e.keyCode!==os.enter){var t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}}},{key:"search",value:function(){var e=this;clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout((function(){e.word=""}),this.delay),this.selectNext())}},{key:"selectNext",value:function(){var e,t,i,n=this,r=this.dataService.filter((function(e){return ss(e)&&!e.header&&!n.disabledItemsService.isItemDisabled(e)})).map((function(e){return n.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:n.dataService.indexOf(e)}})),a=function(e,t){for(var i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0}(this.word,this.last),o=r.length,s=!isNaN(this.selectionService.selected[0]),l=s?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(i={item:this.defaultItem,itemIndex:-1},o+=1,l+=1),r=function(e,t,i){var n=e;return i&&(n=[i].concat(n)),n.slice(t).concat(n.slice(0,t))}(r,l+=a&&s?1:0,i),t=0;t<o;t++){e=us(r[t].item,this.textField);var c=Boolean(a&&hs(e,this.last,this.ignoreCase)),u=Boolean(hs(e,this.word,this.ignoreCase));if(c||u){t=r[t].itemIndex;break}}t!==o&&this.navigate(t)}},{key:"emitChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}},{key:"navigate",value:function(e){this.selectionService.select(e)}},{key:"prop",value:function(e,t){return function(i){return ss(i)?t?e&&ss(n=i)&&"object"==typeof n?i[e]:i:i[e]:null;var n}}},{key:"findDataItem",value:function(e){var t,i=e.primitive,n=e.valueField,r=e.value,a={dataItem:null,index:-1},o=this.prop(n,i);t=this.dataService.grouped?function(e){return o(e.value)===o(r)}:function(e){return o(e)===o(r)};var s=this.dataService.findIndex(t);return a.dataItem=this.dataService.itemAt(s),a.index=s,a}},{key:"setState",value:function(){var e=this.value,t=this.valueField,i=this.textField,n=this.valuePrimitive;if(this.defaultItem){var r=this.prop(t,n)(this.defaultItem),a=this.prop(t,n)(e);if(!ss(e)||a===r)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}var o=this.findDataItem({primitive:n,valueField:t,value:e}),s=!(n&&i);o.dataItem?(this.updateState({dataItem:o.dataItem,confirm:!0}),this.resetSelection(o.index)):ss(e)&&s?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}},{key:"handleFilter",value:function(e){this.filterChange.emit(e.target.value)}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"assignAriaDescribedBy",value:function(){var e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=ls();var t="".concat(this.valueLabelId," ").concat(e).trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}},{key:"width",get:function(){var e=Si()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:"".concat(e,"px"),max:isNaN(t)?t:"".concat(t,"px")}}},{key:"height",get:function(){var e=this.popupSettings.height;return ss(e)?"".concat(e,"px"):"auto"}},{key:"widgetTabIndex",get:function(){if(!this.disabled){var e=Number(this.tabIndex);return isNaN(e)?0:e}}},{key:"ariaExpanded",get:function(){return this.isOpen}},{key:"ariaOwns",get:function(){if(this.isOpen)return this.listBoxId}},{key:"ariaActivedescendant",get:function(){if(ss(this.dataItem))return this.optionPrefix+"-"+us(this.dataItem,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.dataService.itemsCount)return this.noDataText}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()},get:function(){var e=this.virtual;if(e){var t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}},{key:"value",set:function(e){this._value=e,this.cdr.markForCheck()},get:function(){return this._value}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"virtual",set:function(e){this._virtualSettings=As(e)},get:function(){return this._virtualSettings}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"dir",get:function(){return this.direction}},{key:"isOpen",get:function(){return this._open}},{key:"buttonClasses",get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"isDisabledDefaultItem",get:function(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}}]),e}()).\u0275fac=function(e){return new(e||ts)(y.Rb(cr),y.Rb(ra),y.Rb(ys),y.Rb(_s),y.Rb(Cs),y.Rb(ks),y.Rb(y.A),y.Rb(y.F),y.Rb(y.m),y.Rb(y.h),y.Rb(Ms,8))},ts.\u0275cmp=y.Lb({type:ts,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,i){var n;1&e&&(y.Kb(i,ds,!0),y.Kb(i,gs,!0),y.Kb(i,ms,!0),y.Kb(i,zs,!0),y.Kb(i,ps,!0),y.Kb(i,vs,!0),y.Kb(i,xs,!0)),2&e&&(y.zc(n=y.hc())&&(t.itemTemplate=n.first),y.zc(n=y.hc())&&(t.groupTemplate=n.first),y.zc(n=y.hc())&&(t.fixedGroupTemplate=n.first),y.zc(n=y.hc())&&(t.valueTemplate=n.first),y.zc(n=y.hc())&&(t.headerTemplate=n.first),y.zc(n=y.hc())&&(t.footerTemplate=n.first),y.zc(n=y.hc())&&(t.noDataTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(y.Qc(eo,!0,y.Q),y.Qc(to,!0),y.Hc(mo,!0),y.Qc(io,!0)),2&e&&(y.zc(i=y.hc())&&(t.container=i.first),y.zc(i=y.hc())&&(t.popupTemplate=i.first),y.zc(i=y.hc())&&(t.wrapper=i.first),y.zc(i=y.hc())&&(t.optionsList=i.first))},hostVars:7,hostBindings:function(e,t){2&e&&(y.Fb("dir",t.dir),y.Jb("k-widget",t.widgetClasses)("k-dropdown",t.widgetClasses)("k-header",t.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",tabIndex:"tabIndex",valuePrimitive:"valuePrimitive",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[y.Db([Ps,ks,ys,_s,Cs,cr,{provide:lr,useValue:"kendo.dropdownlist"},{provide:Ts,useExisting:Object(y.W)((function(){return ts}))},{provide:Gi,useExisting:Object(y.W)((function(){return ts}))}]),y.Cb],decls:14,vars:20,consts:[["kendoDropDownListLocalizedMessages","",6,"noDataText"],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","focus","blur","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],["unselectable","on",1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(y.Vb(0,0),y.bc(1,yo),y.Ub(),y.Xb(2,"span",1,2),y.gc("focus",(function(){return t.focusComponent()}))("blur",(function(){return t.blurComponent()}))("keydown",(function(e){return t.keydown(e)}))("keypress",(function(e){return t.keypress(e)}))("click",(function(){return t.click()})),y.Xb(4,"span",3),y.Jc(5,ko,1,4,void 0,4),y.Jc(6,Co,1,1,"ng-template",5),y.Wb(),y.Xb(7,"span",6),y.Sb(8,"span",7),y.Wb(),y.Jc(9,zo,8,17,"ng-template",null,8,y.Kc),y.Wb(),y.Jc(11,Po,1,0,"ng-template",5),y.Tb(12,null,9)),2&e&&(y.Eb(2),y.oc("id",t.focusableId)("ngClass",y.tc(16,Fo,!t.disabled,t.disabled,t.isFocused)),y.Fb("dir",t.direction)("readonly",t.readonly)("tabindex",t.widgetTabIndex)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("aria-activedescendant",t.ariaActivedescendant)("aria-label",t.noDataLabel),y.Eb(2),y.oc("id",t.valueLabelId),y.Eb(1),y.oc("ngIf",t.valueTemplate),y.Eb(1),y.oc("ngIf",!t.valueTemplate),y.Eb(2),y.oc("ngClass",t.buttonClasses),y.Eb(3),y.oc("ngIf",t.isOpen))},directives:function(){return[Ns,b.h,b.j,Ls,Os,P,Ks,W,at,js,Ni]},encapsulation:2}),ts),Ls=((es=function(){function e(t){_classCallCheck(this,e),this.viewContainerRef=t}return _createClass(e,[{key:"templateContext",set:function(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}]),e}()).\u0275fac=function(e){return new(e||es)(y.Rb(y.Q))},es.\u0275dir=y.Mb({type:es,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),es),js=((Qo=function(){function e(t){_classCallCheck(this,e),this.multipleSelection=!1,this.selectionService=t}return _createClass(e,[{key:"onClick",value:function(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}},{key:"focusedClassName",get:function(){return this.selectionService.isFocused(this.index)}},{key:"selectedClassName",get:function(){return this.selectionService.isSelected(this.index)}}]),e}()).\u0275fac=function(e){return new(e||Qo)(y.Rb(ys))},Qo.\u0275dir=y.Mb({type:Qo,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&y.gc("click",(function(e){return t.onClick(e)})),2&e&&(y.Fb("index",t.index),y.Ic("height",t.height,"px")("min-height",t.height,"px"),y.Jb("k-state-focused",t.focusedClassName)("k-state-selected",t.selectedClassName))},inputs:{multipleSelection:"multipleSelection",index:"index",height:"height"}}),Qo),Vs=(($o=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(or)).\u0275fac=function(e){return Bs(e||$o)},$o.\u0275dir=y.Mb({type:$o,inputs:{noDataText:"noDataText",clearTitle:"clearTitle"},features:[y.Bb]}),$o),Bs=y.Zb(Vs),Ns=((as=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).service=e,n}return i}(Vs)).\u0275fac=function(e){return new(e||as)(y.Rb(cr))},as.\u0275dir=y.Mb({type:as,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""]],features:[y.Db([{provide:Vs,useExisting:Object(y.W)((function(){return as}))}]),y.Bb]}),as),Hs=((rs=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:rs}),rs.\u0275inj=y.Ob({factory:function(e){return new(e||rs)}}),rs),Gs=((ns=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:ns}),ns.\u0275inj=y.Ob({factory:function(e){return new(e||ns)},imports:[[b.b,ft,aa,Hi,Hs],b.b,ft,aa,Hi,Hs]}),ns),Ws=((is=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:is}),is.\u0275inj=y.Ob({factory:function(e){return new(e||is)},imports:[[Gs],Hs]}),is),Us={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},qs=cs()&&window.navigator?window.navigator.userAgent:null,Xs=qs?function(e){var t=null,i=[];for(var n in Us)if(Us.hasOwnProperty(n)&&(i=e.match(Us[n]))){(t={})[n]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t}(qs):null;cs()&&window,Xs&&!Xs.chrome&&window,Xs&&!Xs.chrome&&window;var Js,Ys,Ks=((Ys=function(){function e(t,i){_classCallCheck(this,e),this.element=t,this.zone=i}return _createClass(e,[{key:"ngOnChanges",value:function(){var e=this;this.focused&&this.nextTick((function(){return e.element.nativeElement.focus()}))}},{key:"nextTick",value:function(e){this.zone.runOutsideAngular((function(){return setTimeout(e)}))}}]),e}()).\u0275fac=function(e){return new(e||Ys)(y.Rb(y.m),y.Rb(y.A))},Ys.\u0275dir=y.Mb({type:Ys,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[y.Cb]}),Ys),Zs=((Js=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Js}),Js.\u0275inj=y.Ob({factory:function(e){return new(e||Js)},imports:[[Gs],Hs]}),Js);i("JX91");var $s=function(){return"undefined"!=typeof window},Qs={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},el={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},tl={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},il={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},nl=function(e,t,i){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return void 0!==i?i:e},rl=$s()&&window.navigator?window.navigator.userAgent:null,al=rl?function(e){var t=null,i=[];for(var n in tl)if(tl.hasOwnProperty(n)&&(i=e.match(tl[n]))){(t={})[n]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t}(rl):null,ol=rl?function(e){var t,i=[];for(var n in Qs)if(Qs.hasOwnProperty(n)){if(!(i=e.match(Qs[n])))continue;if("windows"===n&&"plugins"in window.navigator)return null;var r={};return r.device=n,r.browser=nl(e,il,"default"),r.name=nl(n,el),r[r.name]=!0,r.majorVersion=i[2],r.minorVersion=i[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(rl):null;$s()&&window,al&&!al.chrome&&window,al&&!al.chrome&&window;var sl={extend:function(e){for(var t in this)"extend"!==t&&(e[t]=this[t])},observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(e){return this._observers?this._observers.push(e):this._observers=[e],this},removeObserver:function(e){var t=this.observers(),i=t.indexOf(e);return-1!==i&&t.splice(i,1),this},trigger:function(e,t){var i=this._observers;if(i&&!this._suspended)for(var n=0;n<i.length;n++){var r=i[n];r[e]&&r[e](t)}return this},optionsChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.element=this,this.trigger("optionsChange",e)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},_observerField:function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}},ll="undefined"!=typeof window?window:{},cl=ll.requestAnimationFrame||ll.webkitRequestAnimationFrame||ll.mozRequestAnimationFrame||ll.oRequestAnimationFrame||ll.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};function ul(e){cl.call(ll,e)}var hl=function e(){_classCallCheck(this,e)},fl=/&/g,dl=/</g,pl=/"/g,vl=/'/g,gl=/>/g;function ml(e){return String(e).replace(fl,"&amp;").replace(dl,"&lt;").replace(gl,"&gt;").replace(pl,"&quot;").replace(vl,"&#39;")}function yl(e){var t=window.console;void 0!==t&&t.log&&t.log(e)}function bl(e){return"function"==typeof e}function kl(e){return"string"==typeof e?[e]:e}function Cl(){this._defaultPrevented=!0}function wl(){return!0===this._defaultPrevented}var _l=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._events={},e}return _createClass(i,[{key:"bind",value:function(e,t,i){var n=arguments,r=this,a=kl(e),o=bl(t),s=a.length;if(void 0===t){for(var l in e)this.bind(l,e[l]);return this}for(var c=function(e){var s=a[e],l=o?t:t[s];if(l){if(i){var c=l;(l=function(){r.unbind(s,l),c.apply(r,n)}).original=c}(r._events[s]=r._events[s]||[]).push(l)}},u=0;u<s;u++)c(u);return this}},{key:"one",value:function(e,t){return this.bind(e,t,!0)}},{key:"first",value:function(e,t){for(var i=kl(e),n=bl(t),r=0,a=i.length;r<a;r++){var o=i[r],s=n?t:t[o];s&&(this._events[o]=this._events[o]||[]).unshift(s)}return this}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._events[e];if(i){var n=i.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=Cl,t.isDefaultPrevented=wl,i=i.slice();for(var r=0;r<n;r++)i[r].call(this,t);return!0===t._defaultPrevented}return!1}},{key:"unbind",value:function(e,t){var i=this._events[e];if(void 0===e)this._events={};else if(i)if(t)for(var n=i.length-1;n>=0;n--)i[n]!==t&&i[n].original!==t||i.splice(n,1);else this._events[e]=[];return this}}]),i}(hl),xl={};"undefined"!=typeof window&&(xl.browser=function(e){var t,i={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var n in i)if(i.hasOwnProperty(n)){var r=e.match(i[n]);if(r){(t={})[n]=!0,t[r[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||r[2],10);break}}return t}(window.navigator.userAgent));var Sl=xl;function Tl(){return(new Date).getTime()}function Il(e,t){var i,n=0;if(!t||t<=0)return e;var r=function(){var r=Tl()-n,a=arguments,o=function(){e.apply(null,a),n=Tl()};if(!n)return o();i&&clearTimeout(i),r>t?o():i=setTimeout(o,t-r)};return r.cancel=function(){clearTimeout(i)},r}var Ol={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},El=Sl.browser,Al=function(e){var t=Object.keys(Ol);t.push("transparent");var i=new RegExp("^("+t.join("|")+")(\\W|$)","i");return Al=function(e){return i.exec(e)},i.exec(e)},Rl=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.call(this)}return _createClass(i,[{key:"toHSV",value:function(){return this}},{key:"toRGB",value:function(){return this}},{key:"toHex",value:function(){return this.toBytes().toHex()}},{key:"toBytes",value:function(){return this}},{key:"toCss",value:function(){return"#"+this.toHex()}},{key:"toCssRgba",value:function(){var e=this.toBytes();return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(parseFloat(Number(this.a).toFixed(3)),")")}},{key:"toDisplay",value:function(){return El.msie&&El.version<9?this.toCss():this.toCssRgba()}},{key:"equals",value:function(e){return e===this||null!==e&&this.toCssRgba()===jl(e).toCssRgba()}},{key:"diff",value:function(e){if(null===e)return NaN;var t=this.toBytes(),i=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-i.r),2)+Math.pow(.59*(t.g-i.g),2)+Math.pow(.11*(t.b-i.b),2))}},{key:"clone",value:function(){var e=this.toBytes();return e===this&&(e=new Ml(e.r,e.g,e.b,e.a)),e}}]),i}(hl),Dl=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;return _classCallCheck(this,i),(o=t.call(this)).r=e,o.g=n,o.b=r,o.a=a,o}return _createClass(i,[{key:"toHSV",value:function(){var e,t,i=this.r,n=this.g,r=this.b,a=Math.min(i,n,r),o=Math.max(i,n,r),s=o-a,l=o;return 0===s?new Pl(0,0,l,this.a):(0!==o?(t=s/o,e=i===o?(n-r)/s:n===o?2+(r-i)/s:4+(i-n)/s,(e*=60)<0&&(e+=360)):(t=0,e=-1),new Pl(e,t,l,this.a))}},{key:"toHSL",value:function(){var e,t,i=this.r,n=this.g,r=this.b,a=Math.max(i,n,r),o=Math.min(i,n,r),s=(a+o)/2;if(a===o)e=t=0;else{var l=a-o;switch(t=s>.5?l/(2-a-o):l/(a+o),a){case i:e=(n-r)/l+(n<r?6:0);break;case n:e=(r-i)/l+2;break;case r:e=(i-n)/l+4}}return new Fl(60*e,100*t,100*s,this.a)}},{key:"toBytes",value:function(){return new Ml(255*this.r,255*this.g,255*this.b,this.a)}}]),i}(Rl),Ml=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){return _classCallCheck(this,i),t.call(this,Math.round(e),Math.round(n),Math.round(r),a)}return _createClass(i,[{key:"toRGB",value:function(){return new Dl(this.r/255,this.g/255,this.b/255,this.a)}},{key:"toHSV",value:function(){return this.toRGB().toHSV()}},{key:"toHSL",value:function(){return this.toRGB().toHSL()}},{key:"toHex",value:function(){return zl(this.r,2)+zl(this.g,2)+zl(this.b,2)}},{key:"toBytes",value:function(){return this}}]),i}(Dl);function zl(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",n=e.toString(16);t>n.length;)n=i+n;return n}var Pl=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;return _classCallCheck(this,i),(o=t.call(this)).h=e,o.s=n,o.v=r,o.a=a,o}return _createClass(i,[{key:"toRGB",value:function(){var e,t,i,n=this.h,r=this.s,a=this.v;if(0===r)e=t=i=a;else{n/=60;var o=Math.floor(n),s=n-o,l=a*(1-r),c=a*(1-r*s),u=a*(1-r*(1-s));switch(o){case 0:e=a,t=u,i=l;break;case 1:e=c,t=a,i=l;break;case 2:e=l,t=a,i=u;break;case 3:e=l,t=c,i=a;break;case 4:e=u,t=l,i=a;break;default:e=a,t=l,i=c}}return new Dl(e,t,i,this.a)}},{key:"toHSL",value:function(){return this.toRGB().toHSL()}},{key:"toBytes",value:function(){return this.toRGB().toBytes()}}]),i}(Rl),Fl=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;return _classCallCheck(this,i),(o=t.call(this)).h=e,o.s=n,o.l=r,o.a=a,o}return _createClass(i,[{key:"toRGB",value:function(){var e,t,i,n=this.h/360,r=this.s/100,a=this.l/100;if(0===r)e=t=i=a;else{var o=a<.5?a*(1+r):a+r-a*r,s=2*a-o;e=Ll(s,o,n+1/3),t=Ll(s,o,n),i=Ll(s,o,n-1/3)}return new Dl(e,t,i,this.a)}},{key:"toHSV",value:function(){return this.toRGB().toHSV()}},{key:"toBytes",value:function(){return this.toRGB().toBytes()}}]),i}(Rl);function Ll(e,t,i){var n=i;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function jl(e,t){var i,n;if(null==e||"none"===e)return null;if(e instanceof Rl)return e;var r=e.toLowerCase();if(i=Al(r))return(r="transparent"===i[1]?new Dl(1,1,1,0):jl(Ol[i[1]],t)).match=[i[1]],r;if((i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(r))?n=new Ml(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1):(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(r))?n=new Ml(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),1):(i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(r))?n=new Ml(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),1):(i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(r))?n=new Ml(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4])):(i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(r))?n=new Dl(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1):(i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(r))&&(n=new Dl(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]))),n)n.match=i;else if(!t)throw new Error("Cannot parse color: "+r);return n}var Vl,Bl=((Vl=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;if(_classCallCheck(this,i),n=t.call(this),1===arguments.length)for(var r=i.formats,a=n.resolveColor(e),o=0;o<r.length;o++){var s=r[o].process,l=r[o].re.exec(a);if(l){var c=s(l);n.r=c[0],n.g=c[1],n.b=c[2]}}else n.r=arguments[0],n.g=arguments[1],n.b=arguments[2];return n.r=n.normalizeByte(n.r),n.g=n.normalizeByte(n.g),n.b=n.normalizeByte(n.b),_possibleConstructorReturn(n)}return _createClass(i,[{key:"toHex",value:function(){var e=this.padDigit,t=this.r.toString(16),i=this.g.toString(16),n=this.b.toString(16);return"#"+e(t)+e(i)+e(n)}},{key:"resolveColor",value:function(e){var t=e||"black";return"#"===t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase(),t=i.namedColors[t]||t}},{key:"normalizeByte",value:function(e){return e<0||isNaN(e)?0:e>255?255:e}},{key:"padDigit",value:function(e){return 1===e.length?"0"+e:e}},{key:"brightness",value:function(e){var t=Math.round;return this.r=t(this.normalizeByte(this.r*e)),this.g=t(this.normalizeByte(this.g*e)),this.b=t(this.normalizeByte(this.b*e)),this}},{key:"percBrightness",value:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}},{key:"isDark",value:function(){return this.percBrightness()<180}}],[{key:"fromBytes",value:function(e,t,i,n){return new Ml(e,t,i,null!=n?n:1)}},{key:"fromRGB",value:function(e,t,i,n){return new Dl(e,t,i,null!=n?n:1)}},{key:"fromHSV",value:function(e,t,i,n){return new Pl(e,t,i,null!=n?n:1)}},{key:"fromHSL",value:function(e,t,i,n){return new Fl(e,t,i,null!=n?n:1)}}]),i}(hl)).formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],Vl.namedColors=Ol,Vl);function Nl(e,t){return e.push.apply(e,t),e}var Hl={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function Gl(e){for(var t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],i="";e>0;)e<t[0]?t.shift():(i+=Hl[t[0]],e-=t[0]);return i}function Wl(){var e,t,i=new Promise((function(n,r){e=function(e){return i._state="resolved",n(e),i},t=function(e){return i._state="rejected",r(e),i}}));return i._state="pending",i.resolve=e,i.reject=t,i.state=function(){return i._state},i}function Ul(e){return void 0!==e}var ql=1;function Xl(){return"kdef"+ql++}var Jl=Math.PI/180,Yl=Number.MAX_VALUE,Kl=-Number.MAX_VALUE;function Zl(e){return e/Jl}var $l=String.fromCharCode;function Ql(e){return $l(e>>8)+$l(255&e)}var ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function tc(e){for(var t="",i=0,n=function(e){for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=$l(n):n<2048?(t+=$l(192|n>>>6),t+=$l(128|63&n)):n<65536&&(t+=$l(224|n>>>12),t+=$l(128|n>>>6&63),t+=$l(128|63&n))}return t}(e);i<n.length;){var r=n.charCodeAt(i++),a=n.charCodeAt(i++),o=n.charCodeAt(i++),s=r>>2,l=(3&r)<<4|a>>4,c=(15&a)<<2|o>>6,u=63&o;isNaN(a)?c=u=64:isNaN(o)&&(u=64),t=t+ec.charAt(s)+ec.charAt(l)+ec.charAt(c)+ec.charAt(u)}return t}function ic(e){return Ul((e.x||{}).location)?{x:e.x.location,y:e.y.location}:{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.touch?e.touch.initialTouch:e.target}function rc(e){return""===e||null===e||"none"===e||"transparent"===e||!Ul(e)}function ac(e){if(e)return e[e.length-1]}function oc(e,t,i){return Math.max(Math.min(e,i),t)}function sc(e,t){return e.length<2?e.slice():function e(i){if(i.length<=1)return i;var n=Math.floor(i.length/2),r=i.slice(0,n),a=i.slice(n);return function(e,i){for(var n=[],r=0,a=0,o=0;r<e.length&&a<i.length;)t(e[r],i[a])<=0?n[o++]=e[r++]:n[o++]=i[a++];return r<e.length&&n.push.apply(n,e.slice(r)),a<i.length&&n.push.apply(n,i.slice(a)),n}(r=e(r),a=e(a))}(e)}function lc(e){return Promise.all(e)}function cc(e){return e*Jl}function uc(e,t){var i,n=(i=t)?Math.pow(10,i):1;return Math.round(e*n)/n}function hc(e,t){return Ul(e)?e:t}function fc(e,t){for(var i in t)for(var n=i.trim().split(" "),r=0;r<n.length;r++)e.addEventListener(n[r],t[i],!1)}function dc(e){var t=e.getBoundingClientRect(),i=document.documentElement;return{top:t.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||0),left:t.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}function pc(e,t){for(var i={},n=window.getComputedStyle(e)||{},r=Array.isArray(t)?t:[t],a=0;a<r.length;a++){var o=r[a];i[o]=n[o]}return i}function vc(e){return isNaN(e)?e:e+"px"}function gc(e,t){if(!t){var i=pc(e,["width","height"]);return{width:parseInt(i.width,10),height:parseInt(i.height,10)}}var n=t.width,r=t.height;Ul(n)&&(e.style.width=vc(n)),Ul(r)&&(e.style.height=vc(r))}function mc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in t)for(var n=i.trim().split(" "),r=0;r<n.length;r++)e.removeEventListener(n[r],t[i],!1)}var yc=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._size=e,n._length=0,n._map={},n}return _createClass(i,[{key:"put",value:function(e,t){var i=this._map,n={key:e,value:t};i[e]=n,this._head?(this._tail.newer=n,n.older=this._tail,this._tail=n):this._head=this._tail=n,this._length>=this._size?(i[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}},{key:"get",value:function(e){var t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}}]),i}(hl),bc=/\r?\n|\r|\t/g;function kc(e){return String(e).replace(bc," ")}function Cc(e){var t=[];for(var i in e)t.push(i+e[i]);return t.sort().join("")}function wc(e){for(var t=2166136261,i=0;i<e.length;++i)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=e.charCodeAt(i);return t>>>0}var _c,xc={baselineMarkerSize:1};"undefined"!=typeof document&&((_c=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var Sc,Tc=((Sc=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._cache=new yc(1e3),n.options=Object.assign({},xc,e),n}return _createClass(i,[{key:"measure",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{width:0,height:0,baseline:0};var n=wc(e+Cc(t)),r=this._cache.get(n);if(r)return r;var a={width:0,height:0,baseline:0},o=i.box||_c,s=this._baselineMarker().cloneNode(!1);for(var l in t){var c=t[l];void 0!==c&&(o.style[l]=c)}var u=!1!==i.normalizeText?kc(e):String(e);return o.textContent=u,o.appendChild(s),document.body.appendChild(o),u.length&&(a.width=o.offsetWidth-this.options.baselineMarkerSize,a.height=o.offsetHeight,a.baseline=s.offsetTop+this.options.baselineMarkerSize),a.width>0&&a.height>0&&this._cache.put(n,a),o.parentNode.removeChild(o),a}},{key:"_baselineMarker",value:function(){var e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}}]),i}(hl)).current=new Sc,Sc);function Ic(e,t,i){return Tc.current.measure(e,t,i)}var Oc={}.toString,Ec=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var a in _classCallCheck(this,i),(n=t.call(this)).prefix=r,e){var o=e[a];o=n._wrap(o,a),n[a]=o}return n}return _createClass(i,[{key:"get",value:function(e){for(var t=e.split("."),i=this;t.length&&i;)i=i[t.shift()];return i}},{key:"set",value:function(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}},{key:"_set",value:function(e,t){var n=e.indexOf(".")>=0,r=this,a=e;if(n){for(var o=a.split("."),s=this.prefix;o.length>1;){s+=(a=o.shift())+".";var l=r[a];l||((l=new i({},s)).addObserver(this),r[a]=l),r=l}a=o[0]}r._clear(a),r[a]=t}},{key:"_clear",value:function(e){var t=this[e];t&&t.removeObserver&&t.removeObserver(this)}},{key:"_wrap",value:function(e,t){var n=Oc.call(e),r=e;return null!==r&&Ul(r)&&"[object Object]"===n&&(e instanceof i||e instanceof hl||(r=new i(r,this.prefix+t+".")),r.addObserver(this)),r}}]),i}(hl);sl.extend(Ec.prototype);var Ac=Ec;function Rc(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function Dc(e){return function(){return this[e]}}function Mc(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.charAt(0).toUpperCase()+n.substring(1,n.length);e["set"+r]=Rc(n),e["get"+r]=Dc(n)}}var zc,Pc=((zc=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return _classCallCheck(this,i),(e=t.call(this)).a=n,e.b=r,e.c=a,e.d=o,e.e=s,e.f=l,e}return _createClass(i,[{key:"multiplyCopy",value:function(e){return new i(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}},{key:"invert",value:function(){var e=this.a,t=this.b,n=this.c,r=this.d,a=this.e,o=this.f,s=e*r-t*n;return 0===s?null:new i(r/s,-t/s,-n/s,e/s,(n*o-r*a)/s,(t*a-e*o)/s)}},{key:"clone",value:function(){return new i(this.a,this.b,this.c,this.d,this.e,this.f)}},{key:"equals",value:function(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}},{key:"round",value:function(e){return this.a=uc(this.a,e),this.b=uc(this.b,e),this.c=uc(this.c,e),this.d=uc(this.d,e),this.e=uc(this.e,e),this.f=uc(this.f,e),this}},{key:"toArray",value:function(e){var t=[this.a,this.b,this.c,this.d,this.e,this.f];if(Ul(e))for(var i=0;i<t.length;i++)t[i]=uc(t[i],e);return t}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return this.toArray(e).join(t)}}],[{key:"translate",value:function(e,t){return new i(1,0,0,1,e,t)}},{key:"unit",value:function(){return new i(1,0,0,1,0,0)}},{key:"rotate",value:function(e,t,n){var r=new i;return r.a=Math.cos(cc(e)),r.b=Math.sin(cc(e)),r.c=-r.b,r.d=r.a,r.e=t-t*r.a+n*r.b||0,r.f=n-n*r.a-t*r.b||0,r}},{key:"scale",value:function(e,t){return new i(e,0,0,t,0,0)}}]),i}(hl)).IDENTITY=zc.unit(),zc);function Fc(e){return e&&"function"==typeof e.matrix?e.matrix():e}var Lc=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).x=e||0,r.y=n||0,r}return _createClass(i,[{key:"equals",value:function(e){return e&&e.x===this.x&&e.y===this.y}},{key:"clone",value:function(){return new i(this.x,this.y)}},{key:"rotate",value:function(e,t){var n=i.create(t)||i.ZERO;return this.transform(Pc.rotate(e,n.x,n.y))}},{key:"translate",value:function(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}},{key:"translateWith",value:function(e){return this.translate(e.x,e.y)}},{key:"move",value:function(e,t){return this.x=this.y=0,this.translate(e,t)}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x*=e,this.y*=t,this.geometryChange(),this}},{key:"scaleCopy",value:function(e,t){return this.clone().scale(e,t)}},{key:"transform",value:function(e){var t=Fc(e),i=this.x,n=this.y;return this.x=t.a*i+t.c*n+t.e,this.y=t.b*i+t.d*n+t.f,this.geometryChange(),this}},{key:"transformCopy",value:function(e){var t=this.clone();return e&&t.transform(e),t}},{key:"distanceTo",value:function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}},{key:"round",value:function(e){return this.x=uc(this.x,e),this.y=uc(this.y,e),this.geometryChange(),this}},{key:"toArray",value:function(e){var t=Ul(e);return[t?uc(this.x,e):this.x,t?uc(this.y,e):this.y]}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",i=this.x,n=this.y;return Ul(e)&&(i=uc(i,e),n=uc(n,e)),i+t+n}}],[{key:"create",value:function(e,t){if(Ul(e))return e instanceof i?e:1===arguments.length&&2===e.length?new i(e[0],e[1]):new i(e,t)}},{key:"min",value:function(){for(var e=Yl,t=Yl,n=0;n<arguments.length;n++){var r=arguments[n];e=Math.min(r.x,e),t=Math.min(r.y,t)}return new i(e,t)}},{key:"max",value:function(){for(var e=Kl,t=Kl,n=0;n<arguments.length;n++){var r=arguments[n];e=Math.max(r.x,e),t=Math.max(r.y,t)}return new i(e,t)}},{key:"minPoint",value:function(){return new i(Kl,Kl)}},{key:"maxPoint",value:function(){return new i(Yl,Yl)}},{key:"ZERO",get:function(){return new i(0,0)}}]),i}(hl);Mc(Lc.prototype,["x","y"]),sl.extend(Lc.prototype);var jc=Lc,Vc=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).width=e||0,r.height=n||0,r}return _createClass(i,[{key:"equals",value:function(e){return e&&e.width===this.width&&e.height===this.height}},{key:"clone",value:function(){return new i(this.width,this.height)}},{key:"toArray",value:function(e){var t=Ul(e);return[t?uc(this.width,e):this.width,t?uc(this.height,e):this.height]}}],[{key:"create",value:function(e,t){if(Ul(e))return e instanceof i?e:1===arguments.length&&2===e.length?new i(e[0],e[1]):new i(e,t)}},{key:"ZERO",get:function(){return new i(0,0)}}]),i}(hl);Mc(Vc.prototype,["width","height"]),sl.extend(Vc.prototype);var Bc=Vc,Nc=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new jc,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Bc;return _classCallCheck(this,i),(e=t.call(this)).setOrigin(n),e.setSize(r),e}return _createClass(i,[{key:"clone",value:function(){return new i(this.origin.clone(),this.size.clone())}},{key:"equals",value:function(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}},{key:"setOrigin",value:function(e){return this._observerField("origin",jc.create(e)),this.geometryChange(),this}},{key:"getOrigin",value:function(){return this.origin}},{key:"setSize",value:function(e){return this._observerField("size",Bc.create(e)),this.geometryChange(),this}},{key:"getSize",value:function(){return this.size}},{key:"width",value:function(){return this.size.width}},{key:"height",value:function(){return this.size.height}},{key:"topLeft",value:function(){return this.origin.clone()}},{key:"bottomRight",value:function(){return this.origin.clone().translate(this.width(),this.height())}},{key:"topRight",value:function(){return this.origin.clone().translate(this.width(),0)}},{key:"bottomLeft",value:function(){return this.origin.clone().translate(0,this.height())}},{key:"center",value:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)}},{key:"bbox",value:function(e){var t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),r=this.bottomRight().transformCopy(e),a=this.bottomLeft().transformCopy(e);return i.fromPoints(t,n,r,a)}},{key:"transformCopy",value:function(e){return i.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}},{key:"expandCopy",value:function(e,t){return this.clone().expand(e,t)}},{key:"containsPoint",value:function(e){var t=this.origin,i=this.bottomRight();return!(e.x<t.x||e.y<t.y||i.x<e.x||i.y<e.y)}},{key:"_isOnPath",value:function(e,t){var i=this.expandCopy(t,t),n=this.expandCopy(-t,-t);return i.containsPoint(e)&&!n.containsPoint(e)}}],[{key:"fromPoints",value:function(){var e=jc.min.apply(null,arguments),t=jc.max.apply(null,arguments),n=new Bc(t.x-e.x,t.y-e.y);return new i(e,n)}},{key:"union",value:function(e,t){return i.fromPoints(jc.min(e.topLeft(),t.topLeft()),jc.max(e.bottomRight(),t.bottomRight()))}},{key:"intersect",value:function(e,t){var n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},r={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(n.left<=r.right&&r.left<=n.right&&n.top<=r.bottom&&r.top<=n.bottom)return i.fromPoints(new jc(Math.max(n.left,r.left),Math.max(n.top,r.top)),new jc(Math.min(n.right,r.right),Math.min(n.bottom,r.bottom)))}}]),i}(hl);sl.extend(Nc.prototype);var Hc=Nc,Gc=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc.unit();return _classCallCheck(this,i),(e=t.call(this))._matrix=n,e}return _createClass(i,[{key:"clone",value:function(){return new i(this._matrix.clone())}},{key:"equals",value:function(e){return e&&e._matrix.equals(this._matrix)}},{key:"translate",value:function(e,t){return this._matrix=this._matrix.multiplyCopy(Pc.translate(e,t)),this._optionsChange(),this}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=i;return n&&(n=jc.create(n),this._matrix=this._matrix.multiplyCopy(Pc.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(Pc.scale(e,t)),n&&(this._matrix=this._matrix.multiplyCopy(Pc.translate(-n.x,-n.y))),this._optionsChange(),this}},{key:"rotate",value:function(e,t){var i=jc.create(t)||jc.ZERO;return this._matrix=this._matrix.multiplyCopy(Pc.rotate(e,i.x,i.y)),this._optionsChange(),this}},{key:"multiply",value:function(e){var t=Fc(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}},{key:"matrix",value:function(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}},{key:"_optionsChange",value:function(){this.optionsChange({field:"transform",value:this})}}]),i}(hl);sl.extend(Gc.prototype);var Wc=Gc;function Uc(e){return null===e?null:e instanceof Wc?e:new Wc(e)}var qc=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._initOptions(e),n}return _createClass(i,[{key:"_initOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clip,i=e.transform;i&&(e.transform=Uc(i)),t&&!t.id&&(t.id=Xl()),this.options=new Ac(e),this.options.addObserver(this)}},{key:"transform",value:function(e){if(!Ul(e))return this.options.get("transform");this.options.set("transform",Uc(e))}},{key:"parentTransform",value:function(){for(var e,t=this;t.parent;){var i=(t=t.parent).transform();i&&(e=i.matrix().multiplyCopy(e||Pc.unit()))}if(e)return Uc(e)}},{key:"currentTransform",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parentTransform(),i=Fc(this.transform()),n=Fc(t);if(e=i&&n?n.multiplyCopy(i):i||n)return Uc(e)}},{key:"visible",value:function(e){return Ul(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}},{key:"clip",value:function(e){var t=this.options;return Ul(e)?(e&&!e.id&&(e.id=Xl()),t.set("clip",e),this):t.get("clip")}},{key:"opacity",value:function(e){return Ul(e)?(this.options.set("opacity",e),this):hc(this.options.get("opacity"),1)}},{key:"clippedBBox",value:function(e){var t=this._clippedBBox(e);if(t){var i=this.clip();return i?Hc.intersect(t,i.bbox(e)):t}}},{key:"containsPoint",value:function(e,t){if(this.visible()){var i=this.currentTransform(t),n=e;return i&&(n=e.transformCopy(i.matrix().invert())),this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return!1}},{key:"_hasFill",value:function(){var e=this.options.fill;return e&&!rc(e.color)}},{key:"_hasStroke",value:function(){var e=this.options.stroke;return e&&e.width>0&&!rc(e.color)}},{key:"_clippedBBox",value:function(e){return this.bbox(e)}}]),i}(hl);qc.prototype.nodeType="Element",sl.extend(qc.prototype);var Xc=qc;function Jc(e,t,i,n){var r=0,a=0;return n&&(r=Math.atan2(n.c*i,n.a*t),0!==n.b&&(a=Math.atan2(n.d*i,n.b*t))),{x:r,y:a}}var Yc=Math.PI/2,Kc=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new jc,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,i),(e=t.call(this)).setCenter(n),e.setRadius(r),e}return _createClass(i,[{key:"setCenter",value:function(e){return this._observerField("center",jc.create(e)),this.geometryChange(),this}},{key:"getCenter",value:function(){return this.center}},{key:"equals",value:function(e){return e&&e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return new i(this.center.clone(),this.radius)}},{key:"pointAt",value:function(e){return this._pointAt(cc(e))}},{key:"bbox",value:function(e){for(var t=Jc(0,this.radius,this.radius,e),i=jc.maxPoint(),n=jc.minPoint(),r=0;r<4;r++){var a=this._pointAt(t.x+r*Yc).transformCopy(e),o=this._pointAt(t.y+r*Yc).transformCopy(e),s=new jc(a.x,o.y);i=jc.min(i,s),n=jc.max(n,s)}return Hc.fromPoints(i,n)}},{key:"_pointAt",value:function(e){var t=this.center,i=this.radius;return new jc(t.x+i*Math.cos(e),t.y+i*Math.sin(e))}},{key:"containsPoint",value:function(e){var t=this.center,i=this.radius;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(i,2)}},{key:"_isOnPath",value:function(e,t){var i=this.center,n=this.radius,r=i.distanceTo(e);return n-t<=r&&r<=n+t}}]),i}(hl);Mc(Kc.prototype,["radius"]),sl.extend(Kc.prototype);var Zc=Kc,$c={extend:function(e){e.fill=this.fill,e.stroke=this.stroke},fill:function(e,t){var i=this.options;if(Ul(e)){if(e&&"Gradient"!==e.nodeType){var n={color:e};Ul(t)&&(n.opacity=t),i.set("fill",n)}else i.set("fill",e);return this}return i.get("fill")},stroke:function(e,t,i){return Ul(e)?(this.options.set("stroke.color",e),Ul(t)&&this.options.set("stroke.width",t),Ul(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke")}},Qc=Pc.IDENTITY.toString(),eu={extend:function(e){e.bbox=this.bbox,e.geometryChange=this.geometryChange},bbox:function(e){var t,i=Fc(this.currentTransform(e)),n=i?i.toString():Qc;this._bboxCache&&this._matrixHash===n?t=this._bboxCache.clone():(t=this._bbox(i),this._bboxCache=t?t.clone():null,this._matrixHash=n);var r=this.options.get("stroke.width");return r&&t&&t.expand(r/2),t},geometryChange:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function tu(e){var t="_"+e;return function(e){return Ul(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}function iu(e,t){for(var i=0;i<t.length;i++)e[t[i]]=tu(t[i])}var nu=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zc,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(e=t.call(this,r)).geometry(n),Ul(e.options.stroke)||e.stroke("#000"),e}return _createClass(i,[{key:"rawBBox",value:function(){return this._geometry.bbox()}},{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"_containsPoint",value:function(e){return this.geometry().containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),i}(Xc);nu.prototype.nodeType="Circle",$c.extend(nu.prototype),eu.extend(nu.prototype),iu(nu.prototype,["geometry"]);var ru=nu;function au(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return 0===uc(Math.abs(e-t),i)}function ou(e,t,i){return e<t||au(e,t,i)}var su=Math.pow,lu=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new jc,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(e=t.call(this)).setCenter(n),e.radiusX=r.radiusX,e.radiusY=r.radiusY||r.radiusX,e.startAngle=r.startAngle,e.endAngle=r.endAngle,e.anticlockwise=r.anticlockwise||!1,e.xRotation=r.xRotation,e}return _createClass(i,[{key:"clone",value:function(){return new i(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}},{key:"setCenter",value:function(e){return this._observerField("center",jc.create(e)),this.geometryChange(),this}},{key:"getCenter",value:function(){return this.center}},{key:"pointAt",value:function(e){var t=this.center,i=cc(e);return new jc(t.x+this.radiusX*Math.cos(i),t.y+this.radiusY*Math.sin(i))}},{key:"curvePoints",value:function(){var e,t=this.startAngle,i=this.anticlockwise?-1:1,n=[this.pointAt(t)],r=this._arcInterval(),a=r.endAngle-r.startAngle,o=Math.ceil(a/45),s=a/o,l=t;this.xRotation&&(e=Uc().rotate(this.xRotation,this.center));for(var c=1;c<=o;c++){var u=l+i*s,h=this._intervalCurvePoints(l,u,e);n.push(h.cp1,h.cp2,h.p2),l=u}return n}},{key:"bbox",value:function(e){for(var t=this._arcInterval(),i=t.startAngle,n=t.endAngle,r=Jc(0,this.radiusX,this.radiusY,e),a=Zl(r.x),o=Zl(r.y),s=this.pointAt(n).transformCopy(e),l=uu(a,i),c=uu(o,i),u=this.pointAt(i).transformCopy(e),h=jc.min(u,s),f=jc.max(u,s);l<n||c<n;){var d=void 0,p=void 0;l<n&&(d=this.pointAt(l).transformCopy(e),l+=90),c<n&&(p=this.pointAt(c).transformCopy(e),c+=90),u=new jc(d.x,p.y),h=jc.min(h,u),f=jc.max(f,u)}return Hc.fromPoints(h,f)}},{key:"_arcInterval",value:function(){var e=this.startAngle,t=this.endAngle,i=this.anticlockwise;if(i){var n=e;e=t,t=n}return(e>t||i&&e===t)&&(t+=360),{startAngle:e,endAngle:t}}},{key:"_intervalCurvePoints",value:function(e,t,i){var n=this.pointAt(e),r=this.pointAt(t),a=this._derivativeAt(e),o=this._derivativeAt(t),s=(cc(t)-cc(e))/3,l=new jc(n.x+s*a.x,n.y+s*a.y),c=new jc(r.x-s*o.x,r.y-s*o.y);return i&&(n.transform(i),r.transform(i),l.transform(i),c.transform(i)),{p1:n,cp1:l,cp2:c,p2:r}}},{key:"_derivativeAt",value:function(e){var t=cc(e);return new jc(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))}},{key:"containsPoint",value:function(e){var t,i=this._arcInterval(),n=i.endAngle-i.startAngle,r=this.center,a=this.radiusX,o=this.radiusY,s=r.distanceTo(e),l=Math.atan2(e.y-r.y,e.x-r.x),c=a*o/Math.sqrt(su(a,2)*su(Math.sin(l),2)+su(o,2)*su(Math.cos(l),2)),u=this.pointAt(this.startAngle).round(10),h=this.pointAt(this.endAngle).round(10),f=function(e,t,i,n){var r=t.x-e.x,a=n.x-i.x,o=t.y-e.y,s=n.y-i.y,l=e.x-i.x,c=e.y-i.y,u=r*s-a*o,h=(r*c-o*l)/u,f=(a*c-s*l)/u;if(h>=0&&h<=1&&f>=0&&f<=1)return new jc(e.x+f*r,e.y+f*o)}(r,e.round(10),u,h);if(n<180)t=f&&ou(r.distanceTo(f),s)&&ou(s,c);else{var d=cu(r.x,r.y,a,o,e.x,e.y);360!==d&&(d=(360+d)%360);var p=i.startAngle<=d&&d<=i.endAngle;t=p&&ou(s,c)||!p&&(!f||f.equals(e))}return t}},{key:"_isOnPath",value:function(e,t){var i=this._arcInterval(),n=this.center,r=cu(n.x,n.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==r&&(r=(360+r)%360),i.startAngle<=r&&r<=i.endAngle&&this.pointAt(r).distanceTo(e)<=t}}],[{key:"fromPoints",value:function(e,t,n,r,a,o,s){var l=function(e){var t=e.x1,i=e.y1,n=e.x2,r=e.y2,a=e.rx,o=e.ry,s=e.largeArc,l=e.swipe,c=e.rotation,u=void 0===c?0:c,h=cc(u),f=Math.cos(h),d=Math.sin(h),p=f*(t-n)/2+d*(i-r)/2,v=-d*(t-n)/2+f*(i-r)/2,g=s!==l?1:-1,m=Math.pow(p,2),y=Math.pow(v,2),b=Math.pow(a,2),k=Math.pow(o,2),C=m/b+y/k;C>1&&(a*=C=Math.sqrt(m/b+y/k),b=Math.pow(a,2),o*=C,k=Math.pow(o,2));var w=g*Math.sqrt((b*k-b*y-k*m)/(b*y+k*m));isNaN(w)&&(w=0);var _=w*(a*v)/o,x=o*p*-w/a,S=f*_-d*x+(t+n)/2,T=d*_+f*x+(i+r)/2,I=(p-_)/a,O=(v-x)/o,E=-(p+_)/a,A=-(v+x)/o,R=(O>=0?1:-1)*Zl(Math.acos(I/Math.sqrt(I*I+O*O))),D=uc((I*E+O*A)/(Math.sqrt(I*I+O*O)*Math.sqrt(E*E+A*A)),10),M=(I*A-O*E>=0?1:-1)*Zl(Math.acos(D));!l&&M>0&&(M-=360),l&&M<0&&(M+=360);var z=R+M,P=z>=0?1:-1;return z=Math.abs(z)%360*P,{center:new jc(S,T),startAngle:R,endAngle:z,radiusX:a,radiusY:o,xRotation:u}}({x1:e.x,y1:e.y,x2:t.x,y2:t.y,rx:n,ry:r,largeArc:a,swipe:o,rotation:s});return new i(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===o})}}]),i}(hl);function cu(e,t,i,n,r,a){var o=uc((r-e)/i,3),s=uc((a-t)/n,3);return uc(Zl(Math.atan2(s,o)))}function uu(e,t){for(var i=e;i<t;)i+=90;return i}Mc(lu.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),sl.extend(lu.prototype);var hu=lu,fu=[].push,du=[].pop,pu=[].splice,vu=[].shift,gu=[].slice,mu=[].unshift,yu=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,i),(e=t.call(this)).length=0,e._splice(0,n.length,n),e}return _createClass(i,[{key:"elements",value:function(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}},{key:"push",value:function(){var e=arguments,t=fu.apply(this,e);return this._add(e),t}},{key:"slice",value:function(){return gu.call(this)}},{key:"pop",value:function(){var e=this.length,t=du.apply(this);return e&&this._remove([t]),t}},{key:"splice",value:function(e,t){var i=gu.call(arguments,2),n=this._splice(e,t,i);return this._change(),n}},{key:"shift",value:function(){var e=this.length,t=vu.apply(this);return e&&this._remove([t]),t}},{key:"unshift",value:function(){var e=arguments,t=mu.apply(this,e);return this._add(e),t}},{key:"indexOf",value:function(e){for(var t=this.length,i=0;i<t;i++)if(this[i]===e)return i;return-1}},{key:"_splice",value:function(e,t,i){var n=pu.apply(this,[e,t].concat(i));return this._clearObserver(n),this._setObserver(i),n}},{key:"_add",value:function(e){this._setObserver(e),this._change()}},{key:"_remove",value:function(e){this._clearObserver(e),this._change()}},{key:"_setObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].addObserver(this)}},{key:"_clearObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].removeObserver(this)}},{key:"_change",value:function(){}}]),i}(hl);sl.extend(yu.prototype);var bu=yu,ku=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"_change",value:function(){this.geometryChange()}}]),i}(bu);function Cu(e){var t="_"+e;return function(e){return Ul(e)?(this._observerField(t,jc.create(e)),this.geometryChange(),this):this[t]}}function wu(e,t){for(var i=0;i<t.length;i++)e[t[i]]=Cu(t[i])}function _u(e,t,i){var n=Zl(Math.atan2(t.y-e.y,t.x-e.x));return i.transformCopy(Uc().rotate(-n,e)).x<e.x}function xu(e,t,i){var n=1-e;return Math.pow(n,3)*i[0][t]+3*Math.pow(n,2)*e*i[1][t]+3*Math.pow(e,2)*n*i[2][t]+Math.pow(e,3)*i[3][t]}function Su(e,t){return[3*e[1][t]-e[0][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}var Tu=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,i),(e=t.call(this)).real=n,e.img=r,e}return _createClass(i,[{key:"add",value:function(e){return new i(uc(this.real+e.real,10),uc(this.img+e.img,10))}},{key:"addConstant",value:function(e){return new i(this.real+e,this.img)}},{key:"negate",value:function(){return new i(-this.real,-this.img)}},{key:"multiply",value:function(e){return new i(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)}},{key:"multiplyConstant",value:function(e){return new i(this.real*e,this.img*e)}},{key:"nthRoot",value:function(e){var t=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),r=Math.pow(n,1/e);return new i(r*Math.cos(t/e),r*Math.sin(t/e))}},{key:"equals",value:function(e){return this.real===e.real&&this.img===e.img}},{key:"isReal",value:function(){return 0===this.img}}]),i}(hl);function Iu(e){return e<0?-1:1}function Ou(e,t,i,n){if(0===e)return function(e,t,i){var n=Math.sqrt(Math.pow(t,2)-4*e*i);return[(-t+n)/(2*e),(-t-n)/(2*e)]}(t,i,n);var r,a,o,s,l,c,u,h=(3*e*i-Math.pow(t,2))/(3*Math.pow(e,2)),f=(2*Math.pow(t,3)-9*e*t*i+27*Math.pow(e,2)*n)/(27*Math.pow(e,3)),d=Math.pow(h/3,3)+Math.pow(f/2,2),p=new Tu(0,1),v=-t/(3*e);d<0?(r=new Tu(-f/2,Math.sqrt(-d)).nthRoot(3),a=new Tu(-f/2,-Math.sqrt(-d)).nthRoot(3)):(r=-f/2+Math.sqrt(d),r=new Tu(Iu(r)*Math.pow(Math.abs(r),1/3)),a=-f/2-Math.sqrt(d),a=new Tu(Iu(a)*Math.pow(Math.abs(a),1/3))),o=r.add(a),c=r.add(a).multiplyConstant(-.5),u=r.add(a.negate()).multiplyConstant(Math.sqrt(3)/2),s=c.add(p.multiply(u)),l=c.add(p.negate().multiply(u));var g=[];return o.isReal()&&g.push(uc(o.real+v,10)),s.isReal()&&g.push(uc(s.real+v,10)),l.isReal()&&g.push(uc(l.real+v,10)),g}function Eu(e,t,i,n,r){for(var a,o=Su(e,n),s=Ou(o[0],o[1],o[2],o[3]-t[n]),l=0;l<s.length;l++)if(0<=s[l]&&s[l]<=1&&(a=xu(s[l],i,e),Math.abs(a-t[i])<=r))return!0}function Au(e,t,i){var n;if(e.x!==t.x){var r=Math.min(e.x,t.x),a=Math.max(e.x,t.x),o=Math.min(e.y,t.y),s=Math.max(e.y,t.y),l=r<=i.x&&i.x<a;n=o===s?i.y<=o&&l:l&&(s-o)*((e.x-t.x)*(e.y-t.y)>0?i.x-r:a-i.x)/(a-r)+o-i.y>=0}return n?1:0}var Ru=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this)).anchor(e||new jc),a.controlIn(n),a.controlOut(r),a}return _createClass(i,[{key:"bboxTo",value:function(e,t){var i=this.anchor().transformCopy(t),n=e.anchor().transformCopy(t);return this.controlOut()&&e.controlIn()?this._curveBoundingBox(i,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),n):this._lineBoundingBox(i,n)}},{key:"_lineBoundingBox",value:function(e,t){return Hc.fromPoints(e,t)}},{key:"_curveBoundingBox",value:function(e,t,i,n){var r=[e,t,i,n],a=this._curveExtremesFor(r,"x"),o=this._curveExtremesFor(r,"y"),s=Du([a.min,a.max,e.x,n.x]),l=Du([o.min,o.max,e.y,n.y]);return Hc.fromPoints(new jc(s.min,l.min),new jc(s.max,l.max))}},{key:"_curveExtremesFor",value:function(e,t){var i=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:xu(i.min,t,e),max:xu(i.max,t,e)}}},{key:"_curveExtremes",value:function(e,t,i,n){var r=e-3*t+3*i-n,a=-2*(e-2*t+i),o=e-t,s=Math.sqrt(a*a-4*r*o),l=0,c=1;0===r?0!==a&&(l=c=-o/a):isNaN(s)||(l=(-a+s)/(2*r),c=(-a-s)/(2*r));var u=Math.max(Math.min(l,c),0);(u<0||u>1)&&(u=0);var h=Math.min(Math.max(l,c),1);return(h>1||h<0)&&(h=1),{min:u,max:h}}},{key:"_intersectionsTo",value:function(e,t){return this.controlOut()&&e.controlIn()?function(e,t,i){for(var n,r=Su(e,"x"),a=Ou(r[0],r[1],r[2],r[3]-t.x),o=0,s=0;s<a.length;s++)(au(n=xu(a[s],"y",e),t.y)||n>t.y)&&((0===a[s]||1===a[s])&&i.bottomRight().x>t.x||0<a[s]&&a[s]<1)&&o++;return o}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):Au(this.anchor(),e.anchor(),t)}},{key:"_isOnCurveTo",value:function(e,t,i,n){if(this.bboxTo(e).expand(i,i).containsPoint(t)){var r=this.anchor(),a=this.controlOut(),o=e.controlIn(),s=e.anchor();if("start"===n&&r.distanceTo(t)<=i)return!_u(r,a,t);if("end"===n&&s.distanceTo(t)<=i)return!_u(s,o,t);var l=[r,a,o,s];if(Eu(l,t,"x","y",i)||Eu(l,t,"y","x",i))return!0;var c=Uc().rotate(45,t),u=[r.transformCopy(c),a.transformCopy(c),o.transformCopy(c),s.transformCopy(c)];return Eu(u,t,"x","y",i)||Eu(u,t,"y","x",i)}}},{key:"_isOnLineTo",value:function(e,t,i){var n=this.anchor(),r=e.anchor(),a=Zl(Math.atan2(r.y-n.y,r.x-n.x));return new Hc([n.x,n.y-i/2],[n.distanceTo(r),i]).containsPoint(t.transformCopy(Uc().rotate(-a,n)))}},{key:"_isOnPathTo",value:function(e,t,i,n){return this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,i/2,n):this._isOnLineTo(e,t,i)}}]),i}(hl);function Du(e){for(var t=e.length,i=Yl,n=Kl,r=0;r<t;r++)n=Math.max(n,e[r]),i=Math.min(i,e[r]);return{min:i,max:n}}wu(Ru.prototype,["anchor","controlIn","controlOut"]),sl.extend(Ru.prototype);var Mu=Ru;function zu(e,t,i){for(var n,r=0;r<e.length;r++){var a=e[r];if(a.visible()){var o=t?a.bbox(i):a.rawBBox();o&&(n=n?Hc.union(n,o):o)}}return n}function Pu(e,t){for(var i,n=0;n<e.length;n++){var r=e[n];if(r.visible()){var a=r.clippedBBox(t);a&&(i=i?Hc.union(i,a):a)}}return i}var Fu=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).paths=new ku,n.paths.addObserver(_assertThisInitialized(n)),Ul(n.options.stroke)||n.stroke("#000"),n}return _createClass(i,[{key:"moveTo",value:function(e,t){var i=new Xu;return i.moveTo(e,t),this.paths.push(i),this}},{key:"lineTo",value:function(e,t){return this.paths.length>0&&ac(this.paths).lineTo(e,t),this}},{key:"curveTo",value:function(e,t,i){return this.paths.length>0&&ac(this.paths).curveTo(e,t,i),this}},{key:"arc",value:function(e,t,i,n,r){return this.paths.length>0&&ac(this.paths).arc(e,t,i,n,r),this}},{key:"arcTo",value:function(e,t,i,n,r,a){return this.paths.length>0&&ac(this.paths).arcTo(e,t,i,n,r,a),this}},{key:"close",value:function(){return this.paths.length>0&&ac(this.paths).close(),this}},{key:"_bbox",value:function(e){return zu(this.paths,!0,e)}},{key:"rawBBox",value:function(){return zu(this.paths,!1)}},{key:"_containsPoint",value:function(e){for(var t=this.paths,i=0;i<t.length;i++)if(t[i]._containsPoint(e))return!0;return!1}},{key:"_isOnPath",value:function(e){for(var t=this.paths,i=this.options.stroke.width,n=0;n<t.length;n++)if(t[n]._isOnPath(e,i))return!0;return!1}},{key:"_clippedBBox",value:function(e){return Pu(this.paths,this.currentTransform(e))}}]),i}(Xc);Fu.prototype.nodeType="MultiPath",$c.extend(Fu.prototype),eu.extend(Fu.prototype);var Lu=Fu;function ju(e,t,i){for(var n=t?0:1,r=0;r<e.length;r+=2)e.splice(r+n,0,i)}function Vu(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}function Bu(e,t,i){var n=t.clone().scale(2/3);return{controlOut:n.clone().translateWith(e.scaleCopy(1/3)),controlIn:n.translateWith(i.scaleCopy(1/3))}}var Nu,Hu={l:function(e,t){for(var i=t.parameters,n=t.position,r=0;r<i.length;r+=2){var a=new jc(i[r],i[r+1]);t.isRelative&&a.translateWith(n),e.lineTo(a.x,a.y),n.x=a.x,n.y=a.y}},c:function(e,t){for(var i=t.parameters,n=t.position,r=0;r<i.length;r+=6){var a=new jc(i[r],i[r+1]),o=new jc(i[r+2],i[r+3]),s=new jc(i[r+4],i[r+5]);t.isRelative&&(o.translateWith(n),a.translateWith(n),s.translateWith(n)),e.curveTo(a,o,s),n.x=s.x,n.y=s.y}},v:function(e,t){ju(t.parameters,!0,t.isRelative?0:t.position.x),this.l(e,t)},h:function(e,t){ju(t.parameters,!1,t.isRelative?0:t.position.y),this.l(e,t)},a:function(e,t){for(var i=t.parameters,n=t.position,r=0;r<i.length;r+=7){var a=i[r],o=i[r+1],s=i[r+2],l=i[r+3],c=i[r+4],u=new jc(i[r+5],i[r+6]);t.isRelative&&u.translateWith(n),n.x===u.x&&n.y===u.y||(e.arcTo(u,a,o,l,c,s),n.x=u.x,n.y=u.y)}},s:function(e,t){var i,n=t.parameters,r=t.position,a=t.previousCommand;"s"!==a&&"c"!==a||(i=ac(ac(e.paths).segments).controlIn());for(var o=0;o<n.length;o+=4){var s,l=new jc(n[o],n[o+1]),c=new jc(n[o+2],n[o+3]);t.isRelative&&(l.translateWith(r),c.translateWith(r)),s=i?Vu(i,r):r.clone(),i=l,e.curveTo(s,l,c),r.x=c.x,r.y=c.y}},q:function(e,t){for(var i=t.parameters,n=t.position,r=0;r<i.length;r+=4){var a=new jc(i[r],i[r+1]),o=new jc(i[r+2],i[r+3]);t.isRelative&&(a.translateWith(n),o.translateWith(n));var s=Bu(n,a,o);e.curveTo(s.controlOut,s.controlIn,o),n.x=o.x,n.y=o.y}},t:function(e,t){var i,n=t.parameters,r=t.position,a=t.previousCommand;"q"!==a&&"t"!==a||(i=ac(ac(e.paths).segments).controlIn().clone().translateWith(r.scaleCopy(-1/3)).scale(1.5));for(var o=0;o<n.length;o+=2){var s=new jc(n[o],n[o+1]);t.isRelative&&s.translateWith(r),i=i?Vu(i,r):r.clone();var l=Bu(r,i,s);e.curveTo(l.controlOut,l.controlIn,s),r.x=s.x,r.y=s.y}}},Gu=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,Wu=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,Uu=((Nu=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"parse",value:function(e,t){var i,n=new Lu(t),r=new jc;return e.replace(Gu,(function(e,t,a,o){var s=t.toLowerCase(),l=s===t,c=function(e){var t=[];return e.replace(Wu,(function(e,i){t.push(parseFloat(i))})),t}(a.trim());if("m"===s&&(l?(r.x+=c[0],r.y+=c[1]):(r.x=c[0],r.y=c[1]),n.moveTo(r.x,r.y),c.length>2&&(s="l",c.splice(0,2))),Hu[s])Hu[s](n,{parameters:c,position:r,isRelative:l,previousCommand:i}),o&&"z"===o.toLowerCase()&&n.close();else if("m"!==s)throw new Error("Error while parsing SVG path. Unsupported command: "+s);i=s})),n}}]),i}(hl)).current=new Nu,Nu),qu=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).segments=new ku,n.segments.addObserver(_assertThisInitialized(n)),Ul(n.options.stroke)||(n.stroke("#000"),Ul(n.options.stroke.lineJoin)||n.options.set("stroke.lineJoin","miter")),n}return _createClass(i,[{key:"moveTo",value:function(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this}},{key:"lineTo",value:function(e,t){var i=Ul(t)?new jc(e,t):e,n=new Mu(i);return this.segments.push(n),this}},{key:"curveTo",value:function(e,t,i){if(this.segments.length>0){var n=ac(this.segments),r=new Mu(i,t);this.suspend(),n.controlOut(e),this.resume(),this.segments.push(r)}return this}},{key:"arc",value:function(e,t,i,n,r){if(this.segments.length>0){var a=ac(this.segments).anchor(),o=cc(e),s=new jc(a.x-i*Math.cos(o),a.y-n*Math.sin(o)),l=new hu(s,{startAngle:e,endAngle:t,radiusX:i,radiusY:n,anticlockwise:r});this._addArcSegments(l)}return this}},{key:"arcTo",value:function(e,t,i,n,r,a){if(this.segments.length>0){var o=ac(this.segments).anchor(),s=hu.fromPoints(o,e,t,i,n,r,a);this._addArcSegments(s)}return this}},{key:"_addArcSegments",value:function(e){this.suspend();for(var t=e.curvePoints(),i=1;i<t.length;i+=3)this.curveTo(t[i],t[i+1],t[i+2]);this.resume(),this.geometryChange()}},{key:"close",value:function(){return this.options.closed=!0,this.geometryChange(),this}},{key:"rawBBox",value:function(){return this._bbox()}},{key:"_containsPoint",value:function(e){for(var t,i,n=this.segments,r=n.length,a=0,o=1;o<r;o++)t=n[o-1],i=n[o],a+=t._intersectionsTo(i,e);return!this.options.closed&&n[0].anchor().equals(n[r-1].anchor())||(a+=Au(n[0].anchor(),n[r-1].anchor(),e)),a%2!=0}},{key:"_isOnPath",value:function(e,t){var i=this.segments,n=i.length,r=t||this.options.stroke.width;if(n>1){if(i[0]._isOnPathTo(i[1],e,r,"start"))return!0;for(var a=2;a<=n-2;a++)if(i[a-1]._isOnPathTo(i[a],e,r))return!0;if(i[n-2]._isOnPathTo(i[n-1],e,r,"end"))return!0}return!1}},{key:"_bbox",value:function(e){var t,i=this.segments,n=i.length;if(1===n){var r=i[0].anchor().transformCopy(e);t=new Hc(r,Bc.ZERO)}else if(n>0)for(var a=1;a<n;a++){var o=i[a-1].bboxTo(i[a],e);t=t?Hc.union(t,o):o}return t}}],[{key:"fromRect",value:function(e,t){return new i(t).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close()}},{key:"fromPoints",value:function(e,t){if(e){for(var n=new i(t),r=0;r<e.length;r++){var a=jc.create(e[r]);a&&(0===r?n.moveTo(a):n.lineTo(a))}return n}}},{key:"fromArc",value:function(e,t){var n=new i(t),r=e.startAngle,a=e.pointAt(r);return n.moveTo(a.x,a.y),n.arc(r,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),n}}]),i}(Xc);qu.prototype.nodeType="Path",$c.extend(qu.prototype),eu.extend(qu.prototype),qu.parse=function(e,t){return Uu.current.parse(e,t)};var Xu=qu,Ju=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hu,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(e=t.call(this,r)).geometry(n),Ul(e.options.stroke)||e.stroke("#000"),e}return _createClass(i,[{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"rawBBox",value:function(){return this.geometry().bbox()}},{key:"toPath",value:function(){var e=new Xu,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;i+=3)e.curveTo(t[i],t[i+1],t[i+2])}return e}},{key:"_containsPoint",value:function(e){return this.geometry().containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),i}(Xc);Ju.prototype.nodeType="Arc",$c.extend(Ju.prototype),eu.extend(Ju.prototype),iu(Ju.prototype,["geometry"]);var Yu=Ju,Ku=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new jc,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,i),(n=t.call(this,a)).content(e),n.position(r),n.options.font||(n.options.font="12px sans-serif"),Ul(n.options.fill)||n.fill("#000"),n}return _createClass(i,[{key:"content",value:function(e){return Ul(e)?(this.options.set("content",e),this):this.options.get("content")}},{key:"measure",value:function(){return Ic(this.content(),{font:this.options.get("font")})}},{key:"rect",value:function(){var e=this.measure(),t=this.position().clone();return new Hc(t,[e.width,e.height])}},{key:"bbox",value:function(e){var t=Fc(this.currentTransform(e));return this.rect().bbox(t)}},{key:"rawBBox",value:function(){return this.rect().bbox()}},{key:"_containsPoint",value:function(e){return this.rect().containsPoint(e)}}]),i}(Xc);Ku.prototype.nodeType="Text",$c.extend(Ku.prototype),wu(Ku.prototype,["position"]);var Zu=Ku,$u=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hc,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,i),(n=t.call(this,a)).src(e),n.rect(r),n}return _createClass(i,[{key:"src",value:function(e){return Ul(e)?(this.options.set("src",e),this):this.options.get("src")}},{key:"bbox",value:function(e){var t=Fc(this.currentTransform(e));return this._rect.bbox(t)}},{key:"rawBBox",value:function(){return this._rect.bbox()}},{key:"_containsPoint",value:function(e){return this._rect.containsPoint(e)}},{key:"_hasFill",value:function(){return this.src()}}]),i}(Xc);$u.prototype.nodeType="Image",iu($u.prototype,["rect"]);var Qu=$u,eh=function(e,t){e.traverse=function(e){for(var i=this[t],n=0;n<i.length;n++){var r=i[n];r.traverse?r.traverse(e):e(r)}return this}},th=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).children=[],n}return _createClass(i,[{key:"childrenChange",value:function(e,t,i){this.trigger("childrenChange",{action:e,items:t,index:i})}},{key:"append",value:function(){return Nl(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}},{key:"insert",value:function(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this}},{key:"insertAt",value:function(e,t){return this.insert(t,e)}},{key:"remove",value:function(e){var t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this}},{key:"removeAt",value:function(e){if(0<=e&&e<this.children.length){var t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this}},{key:"clear",value:function(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this}},{key:"bbox",value:function(e){return zu(this.children,!0,this.currentTransform(e))}},{key:"rawBBox",value:function(){return zu(this.children,!1)}},{key:"_clippedBBox",value:function(e){return Pu(this.children,this.currentTransform(e))}},{key:"currentTransform",value:function(e){return Xc.prototype.currentTransform.call(this,e)||null}},{key:"containsPoint",value:function(e,t){if(this.visible())for(var i=this.children,n=this.currentTransform(t),r=0;r<i.length;r++)if(i[r].containsPoint(e,n))return!0;return!1}},{key:"_reparent",value:function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=n.parent;r&&r!==this&&r.remove&&r.remove(n),n.parent=t}}}]),i}(Xc);th.prototype.nodeType="Group",eh(th.prototype,"children");var ih=th;function nh(e,t,i){var n=i.transform()||Uc(),r=n.matrix();r.e+=e.x-t.origin.x,r.f+=e.y-t.origin.y,n.matrix(r),i.transform(n)}function rh(e,t,i,n,r){return"start"===i?t.origin[n]:"end"===i?t.origin[n]+t.size[r]-e:t.origin[n]+(t.size[r]-e)/2}function ah(e,t,i,n,r){return"start"===i?t.origin[n]+t.size[r]-e:"end"===i?t.origin[n]:t.origin[n]+(t.size[r]-e)/2}var oh={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},sh=function(e,t){e.forEach(t)},lh=function(e,t){for(var i=e.length-1;i>=0;i--)t(e[i],i)},ch=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,Object.assign({},oh,n)))._rect=e,r._fieldMap={},r}return _createClass(i,[{key:"rect",value:function(e){return e?(this._rect=e,this):this._rect}},{key:"_initMap",value:function(){var e=this.options,t=this._fieldMap;"horizontal"===e.orientation?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x"),e.reverse?(this.forEach=lh,this.justifyAlign=ah):(this.forEach=sh,this.justifyAlign=rh)}},{key:"reflow",value:function(){if(this._rect&&0!==this.children.length){this._initMap(),this.options.transform&&this.transform(null);for(var e,t,i,n=this.options,r=this._rect,a=this._initGroups(),o=a.groups,s=a.groupsSize,l=this._fieldMap,c=l.sizeField,u=l.groupsSizeField,h=l.groupAxis,f=l.groupsAxis,d=new jc,p=new jc,v=new Bc,g=rh(s,r,n.alignContent,f,u),m=function(r,a){var o=t.elements[a];p[h]=e,p[f]=rh(r.size[u],i,n.alignItems,f,u),nh(p,r,o),e+=r.size[c]+n.spacing},y=0;y<o.length;y++)t=o[y],d[h]=e=this.justifyAlign(t.size,r,n.justifyContent,h,c),d[f]=g,v[c]=t.size,v[u]=t.lineSize,i=new Hc(d,v),this.forEach(t.bboxes,m),g+=t.lineSize+n.lineSpacing;if(!n.wrap&&t.size>r.size[c]){var b=r.size[c]/i.size[c],k=i.topLeft().scale(b,b),C=rh(i.size[u]*b,r,n.alignContent,f,u),w=Uc();"x"===h?w.translate(r.origin.x-k.x,C-k.y):w.translate(C-k.x,r.origin.y-k.y),w.scale(b,b),this.transform(w)}}}},{key:"_initGroups",value:function(){for(var e=this.options,t=this.children,i=e.lineSpacing,n=e.wrap,r=e.spacing,a=this._fieldMap.sizeField,o=this._newGroup(),s=[],l=function(){s.push(o),c+=o.lineSize+i},c=-i,u=0;u<t.length;u++){var h=t[u],f=t[u].clippedBBox();h.visible()&&f&&(n&&o.size+f.size[a]+r>this._rect.size[a]?0===o.bboxes.length?(this._addToGroup(o,f,h),l(),o=this._newGroup()):(l(),o=this._newGroup(),this._addToGroup(o,f,h)):this._addToGroup(o,f,h))}return o.bboxes.length&&l(),{groups:s,groupsSize:c}}},{key:"_addToGroup",value:function(e,t,i){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(i)}},{key:"_newGroup",value:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}}]),i}(ih),uh=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hc,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(e=t.call(this,r)).geometry(n),Ul(e.options.stroke)||e.stroke("#000"),e}return _createClass(i,[{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"rawBBox",value:function(){return this._geometry.bbox()}},{key:"_containsPoint",value:function(e){return this._geometry.containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),i}(Xc);uh.prototype.nodeType="Rect",$c.extend(uh.prototype),eu.extend(uh.prototype),iu(uh.prototype,["geometry"]);var hh=uh;function fh(e,t,i,n,r){for(var a=0;a<e.length;a++){var o=e[a].clippedBBox();if(o){var s=o.origin.clone();s[n]=rh(o.size[r],t,i||"start",n,r),nh(s,o,e[a])}}}function dh(e,t,i){fh(e,t,i,"x","width")}function ph(e,t,i){fh(e,t,i,"y","height")}function vh(e,t,i,n){if(e.length>1)for(var r=new jc,a=e[0].bbox,o=1;o<e.length;o++){var s=e[o].element,l=e[o].bbox;r[t]=a.origin[t]+a.size[n],r[i]=l.origin[i],nh(r,l,s),l.origin[t]=r[t],a=l}}function gh(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=n.clippedBBox();r&&t.push({element:n,bbox:r})}return t}function mh(e){vh(gh(e),"x","y","width")}function yh(e){vh(gh(e),"y","x","height")}function bh(e,t,i,n,r){for(var a=function(e,t,i){for(var n,r,a=t.size[i],o=[],s=[],l=0,c=function(){s.push({element:n,bbox:r})},u=0;u<e.length;u++)if(n=e[u],r=n.clippedBBox()){var h=r.size[i];l+h>a?s.length?(o.push(s),s=[],c(),l=h):(c(),o.push(s),s=[],l=0):(c(),l+=h)}return s.length&&o.push(s),o}(e,t,r),o=t.origin.clone(),s=[],l=0;l<a.length;l++){var c=a[l],u=c[0];o[n]=u.bbox.origin[n],nh(o,u.bbox,u.element),u.bbox.origin[i]=o[i],vh(c,i,n,r),s.push([]);for(var h=0;h<c.length;h++)s[l].push(c[h].element)}return s}function kh(e,t){return bh(e,t,"x","y","width")}function Ch(e,t){return bh(e,t,"y","x","height")}function wh(e,t){var i=e.clippedBBox();if(i){var n=i.size,r=t.size;if(r.width<n.width||r.height<n.height){var a=Math.min(r.width/n.width,r.height/n.height),o=e.transform()||Uc();o.scale(a,a),e.transform(o)}}}var _h=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"_change",value:function(){this.optionsChange({field:"stops"})}}]),i}(bu);function xh(e){return function(t){return Ul(t)?(this.options.set(e,t),this):this.options.get(e)}}var Sh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this)).options=new Ac({offset:e,color:n,opacity:Ul(r)?r:1}),a.options.addObserver(_assertThisInitialized(a)),a}return _createClass(i,null,[{key:"create",value:function(e){if(Ul(e))return e instanceof i?e:e.length>1?new i(e[0],e[1],e[2]):new i(e.offset,e.color,e.opacity)}}]),i}(hl);!function(e,t){for(var i=0;i<t.length;i++)e[t[i]]=xh(t[i])}(Sh.prototype,["offset","color","opacity"]),sl.extend(Sh.prototype);var Th=Sh,Ih=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,i),(e=t.call(this)).stops=new _h(e._createStops(n.stops)),e.stops.addObserver(_assertThisInitialized(e)),e._userSpace=n.userSpace,e.id=Xl(),e}return _createClass(i,[{key:"userSpace",value:function(e){return Ul(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}},{key:"_createStops",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],i=0;i<e.length;i++)t.push(Th.create(e[i]));return t}},{key:"addStop",value:function(e,t,i){this.stops.push(new Th(e,t,i))}},{key:"removeStop",value:function(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}}]),i}(hl);Ih.prototype.nodeType="Gradient",sl.extend(Ih.prototype),Object.assign(Ih.prototype,{optionsChange:function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var Oh=Ih,Eh=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,i),(e=t.call(this,n)).start(n.start||new jc),e.end(n.end||new jc(1,0)),e}return i}(Oh);wu(Eh.prototype,["start","end"]);var Ah=Eh,Rh=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,i),(e=t.call(this,n)).center(n.center||new jc),e._radius=Ul(n.radius)?n.radius:1,e._fallbackFill=n.fallbackFill,e}return _createClass(i,[{key:"radius",value:function(e){return Ul(e)?(this._radius=e,this.geometryChange(),this):this._radius}},{key:"fallbackFill",value:function(e){return Ul(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}]),i}(Oh);wu(Rh.prototype,["center"]);var Dh=Rh;function Mh(e){return.5-Math.cos(e*Math.PI)/2}function zh(e){return e}function Ph(e,t,i,n){var r=1.70158,a=0,o=n;return 0===e?i:1===e?i+n:(a||(a=.5),o<Math.abs(n)?(o=n,r=a/4):r=a/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((Number(e)-r)*(1.1*Math.PI)/a)+n+i)}var Fh,Lh=((Fh=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._items=[],e}return _createClass(i,[{key:"register",value:function(e,t){this._items.push({name:e,type:t})}},{key:"create",value:function(e,t){var i,n=this._items;if(t&&t.type)for(var r=t.type.toLowerCase(),a=0;a<n.length;a++)if(n[a].name.toLowerCase()===r){i=n[a];break}if(i)return new i.type(e,t)}}]),i}(hl)).current=new Fh,Fh),jh=Date.now||function(){return(new Date).getTime()},Vh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).options=Object.assign({},r.options,n),r.element=e,r}return _createClass(i,[{key:"setup",value:function(){}},{key:"step",value:function(){}},{key:"play",value:function(){var e=this,t=this.options,i=t.duration,n=t.delay,r=void 0===n?0:n,a=d[t.easing],o=jh()+r,s=o+i;0===i?(this.step(1),this.abort()):setTimeout((function(){!function t(){if(!e._stopped){var n=jh(),r=oc(n-o,0,i),l=a(r/i,r,0,1,i);e.step(l),n<s?ul(t):e.abort()}}()}),r)}},{key:"abort",value:function(){this._stopped=!0}},{key:"destroy",value:function(){this.abort()}}]),i}(hl);Vh.prototype.options={duration:500,easing:"swing"},Vh.create=function(e,t,i){return Lh.current.create(e,t,i)};var Bh,Nh,Hh=Vh,Gh=((Bh=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._items=[],e}return _createClass(i,[{key:"register",value:function(e,t,i){var n=this._items,r=n[0],a={name:e,type:t,order:i};!r||i<r.order?n.unshift(a):n.push(a)}},{key:"create",value:function(e,t){var i=this._items,n=i[0];if(t&&t.type)for(var r=t.type.toLowerCase(),a=0;a<i.length;a++)if(i[a].name===r){n=i[a];break}if(n)return new n.type(e,t);yl("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n"+"- The browser does not support SVG and Canvas. User agent: ".concat(navigator.userAgent))}}]),i}(hl)).current=new Bh,Bh),Wh=["click","mouseenter","mouseleave","mousemove","resize"],Uh=((Nh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).options=Object.assign({},n),r.element=e,r.element._kendoExportVisual=r.exportVisual.bind(_assertThisInitialized(r)),r._click=r._handler("click"),r._mouseenter=r._handler("mouseenter"),r._mouseleave=r._handler("mouseleave"),r._mousemove=r._handler("mousemove"),r._visual=new ih,gc(e,r.options),r.bind(Wh,r.options),r._enableTracking(),r}return _createClass(i,[{key:"draw",value:function(e){this._visual.children.push(e)}},{key:"clear",value:function(){this._visual.children=[]}},{key:"destroy",value:function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}},{key:"eventTarget",value:function(e){for(var t,i=nc(e);!t&&i&&(t=i._kendoNode,i!==this.element);)i=i.parentElement;if(t)return t.srcElement}},{key:"exportVisual",value:function(){return this._visual}},{key:"getSize",value:function(){return gc(this.element)}},{key:"currentSize",value:function(e){if(!e)return this._size;this._size=e}},{key:"setSize",value:function(e){gc(this.element,e),this.currentSize(e),this._resize()}},{key:"resize",value:function(e){var t=this.getSize(),i=this.currentSize();(e||(t.width>0||t.height>0)&&(!i||t.width!==i.width||t.height!==i.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))}},{key:"size",value:function(e){if(!e)return this.getSize();this.setSize(e)}},{key:"suspendTracking",value:function(){this._suspendedTracking=!0}},{key:"resumeTracking",value:function(){this._suspendedTracking=!1}},{key:"_enableTracking",value:function(){}},{key:"_resize",value:function(){}},{key:"_handler",value:function(e){var t=this;return function(i){var n=t.eventTarget(i);n&&!t._suspendedTracking&&t.trigger(e,{element:n,originalEvent:i,type:e})}}},{key:"_elementOffset",value:function(){var e=this.element,t=pc(e,["paddingLeft","paddingTop"]),i=t.paddingLeft,n=t.paddingTop,r=dc(e),a=r.left,o=r.top;return{left:a+parseInt(i,10),top:o+parseInt(n,10)}}},{key:"_surfacePoint",value:function(e){var t=this._elementOffset(),i=ic(e);return new jc(i.x-t.left,i.y-t.top)}}]),i}(_l)).create=function(e,t){return Gh.current.create(e,t)},Nh.support={},Nh),qh=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).childNodes=[],n.parent=null,e&&(n.srcElement=e,n.observe()),n}return _createClass(i,[{key:"destroy",value:function(){this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null}},{key:"load",value:function(){}},{key:"observe",value:function(){this.srcElement&&this.srcElement.addObserver(this)}},{key:"append",value:function(e){this.childNodes.push(e),e.parent=this}},{key:"insertAt",value:function(e,t){this.childNodes.splice(t,0,e),e.parent=this}},{key:"remove",value:function(e,t){for(var i=e+t,n=e;n<i;n++)this.childNodes[n].removeSelf();this.childNodes.splice(e,t)}},{key:"removeSelf",value:function(){this.clear(),this.destroy()}},{key:"clear",value:function(){this.remove(0,this.childNodes.length)}},{key:"invalidate",value:function(){this.parent&&this.parent.invalidate()}},{key:"geometryChange",value:function(){this.invalidate()}},{key:"optionsChange",value:function(){this.invalidate()}},{key:"childrenChange",value:function(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}}]),i}(hl);function Xh(e,t){return Ul(t)&&null!==t?" ".concat(e,'="').concat(t,'" '):""}function Jh(e){for(var t="",i=0;i<e.length;i++)t+=Xh(e[i][0],e[i][1]);return t}function Yh(e){for(var t="",i=0;i<e.length;i++){var n=e[i][1];Ul(n)&&(t+=e[i][0]+":"+n+";")}if(""!==t)return t}var Kh={},Zh="http://www.w3.org/2000/svg",$h=function(e,t){e.innerHTML=t};if("undefined"!=typeof document){var Qh=document.createElement("div"),ef="undefined"!=typeof DOMParser;Qh.innerHTML="<svg xmlns='http://www.w3.org/2000/svg'></svg>",ef&&Qh.firstChild.namespaceURI!==Zh&&($h=function(e,t){var i=(new DOMParser).parseFromString(t,"text/xml"),n=document.adoptNode(i.documentElement);e.innerHTML="",e.appendChild(n)})}var tf=$h,nf={clip:"clip-path",fill:"fill"};function rf(e,t){return"clip"===e||"fill"===e&&(!t||"Gradient"===t.nodeType)}var af=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).definitions={},r.options=n,r}return _createClass(i,[{key:"destroy",value:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),_get(_getPrototypeOf(i.prototype),"destroy",this).call(this)}},{key:"load",value:function(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=n.children,a=new Kh[n.nodeType](n,this.options);Ul(t)?this.insertAt(a,t):this.append(a),a.createDefinitions(),r&&r.length>0&&a.load(r);var o=this.element;o&&a.attachTo(o,t)}}},{key:"root",value:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"attachTo",value:function(e,t){var i=document.createElement("div");tf(i,"<svg xmlns='"+Zh+"' version='1.1'>"+this.render()+"</svg>");var n=i.firstChild.firstChild;n&&(Ul(t)?e.insertBefore(n,e.childNodes[t]||null):e.appendChild(n),this.setElement(n))}},{key:"setElement",value:function(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;for(var t=this.childNodes,i=0;i<t.length;i++)t[i].setElement(e.childNodes[i])}},{key:"clear",value:function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var e=this.childNodes,t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]}},{key:"removeSelf",value:function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}_get(_getPrototypeOf(i.prototype),"removeSelf",this).call(this)}},{key:"template",value:function(){return this.renderChildren()}},{key:"render",value:function(){return this.template()}},{key:"renderChildren",value:function(){for(var e=this.childNodes,t="",i=0;i<e.length;i++)t+=e[i].render();return t}},{key:"optionsChange",value:function(e){var t=e.field,n=e.value;"visible"===t?this.css("display",n?"":"none"):nf[t]&&rf(t,n)?this.updateDefinition(t,n):"opacity"===t?this.attr("opacity",n):"cursor"===t?this.css("cursor",n):"id"===t&&(n?this.attr("id",n):this.removeAttr("id")),_get(_getPrototypeOf(i.prototype),"optionsChange",this).call(this,e)}},{key:"attr",value:function(e,t){this.element&&this.element.setAttribute(e,t)}},{key:"allAttr",value:function(e){for(var t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])}},{key:"css",value:function(e,t){this.element&&(this.element.style[e]=t)}},{key:"allCss",value:function(e){for(var t=0;t<e.length;t++)this.css(e[t][0],e[t][1])}},{key:"removeAttr",value:function(e){this.element&&this.element.removeAttribute(e)}},{key:"mapTransform",value:function(e){var t=[];return e&&t.push(["transform","matrix("+e.matrix().toString(6)+")"]),t}},{key:"renderTransform",value:function(){return Jh(this.mapTransform(this.srcElement.transform()))}},{key:"transformChange",value:function(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr("transform")}},{key:"mapStyle",value:function(){var e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display","none"]),t}},{key:"renderStyle",value:function(){return Xh("style",Yh(this.mapStyle(!0)))}},{key:"renderOpacity",value:function(){return Xh("opacity",this.srcElement.options.opacity)}},{key:"renderId",value:function(){return Xh("id",this.srcElement.options.id)}},{key:"createDefinitions",value:function(){var e=this.srcElement,t=this.definitions;if(e){var i,n=e.options;for(var r in nf){var a=n.get(r);a&&rf(r,a)&&(t[r]=a,i=!0)}i&&this.definitionChange({action:"add",definitions:t})}}},{key:"definitionChange",value:function(e){this.parent&&this.parent.definitionChange(e)}},{key:"updateDefinition",value:function(e,t){var i=this.definitions,n=i[e],r=nf[e],a={};n&&(a[e]=n,this.definitionChange({action:"remove",definitions:a}),delete i[e]),t?(a[e]=t,this.definitionChange({action:"add",definitions:a}),i[e]=t,this.attr(r,this.refUrl(t.id))):n&&this.removeAttr(r)}},{key:"clearDefinitions",value:function(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}},{key:"renderDefinitions",value:function(){return Jh(this.mapDefinitions())}},{key:"mapDefinitions",value:function(){var e=this.definitions,t=[];for(var i in e)t.push([nf[i],this.refUrl(e[i].id)]);return t}},{key:"refUrl",value:function(e){var t=(this.options||{}).skipBaseHref,i=this.baseUrl().replace(/'/g,"\\'");return"url(".concat(t?"":i,"#").concat(e,")")}},{key:"baseUrl",value:function(){return function(){var e=document.getElementsByTagName("base")[0],t=document.location.href,i="";if(e&&!(Sl.browser||{}).msie){var n=t.indexOf("#");-1!==n&&(t=t.substring(0,n)),i=t}return i}()}}]),i}(qh),of=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"template",value:function(){return"<stop ".concat(this.renderOffset()," ").concat(this.renderStyle()," />")}},{key:"renderOffset",value:function(){return Xh("offset",this.srcElement.offset())}},{key:"mapStyle",value:function(){var e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]}},{key:"optionsChange",value:function(e){"offset"===e.field?this.attr(e.field,e.value):"color"!==e.field&&"opacity"!==e.field||this.css("stop-"+e.field,e.value)}}]),i}(af),sf=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).id=e.id,n.loadStops(),n}return _createClass(i,[{key:"loadStops",value:function(){for(var e=this.srcElement.stops,t=this.element,i=0;i<e.length;i++){var n=new of(e[i]);this.append(n),t&&n.attachTo(t)}}},{key:"optionsChange",value:function(e){"gradient.stops"===e.field?(qh.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())}},{key:"renderCoordinates",value:function(){return Jh(this.mapCoordinates())}},{key:"mapSpace",value:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}]),i}(af),lf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"template",value:function(){return"<linearGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</linearGradient>")}},{key:"mapCoordinates",value:function(){var e=this.srcElement,t=e.start(),i=e.end();return[["x1",t.x],["y1",t.y],["x2",i.x],["y2",i.y],this.mapSpace()]}}]),i}(sf),cf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"template",value:function(){return"<radialGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</radialGradient>")}},{key:"mapCoordinates",value:function(){var e=this.srcElement,t=e.center(),i=e.radius();return[["cx",t.x],["cy",t.y],["r",i],this.mapSpace()]}}]),i}(sf),uf=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).srcElement=e,n.id=e.id,n.load([e]),n}return _createClass(i,[{key:"template",value:function(){return"<clipPath id='".concat(this.id,"'>").concat(this.renderChildren(),"</clipPath>")}}]),i}(af),hf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).definitionMap={},e}return _createClass(i,[{key:"attachTo",value:function(e){this.element=e}},{key:"template",value:function(){return"<defs>".concat(this.renderChildren(),"</defs>")}},{key:"definitionChange",value:function(e){var t=e.definitions,i=e.action;"add"===i?this.addDefinitions(t):"remove"===i&&this.removeDefinitions(t)}},{key:"createDefinition",value:function(e,t){var i;return"clip"===e?i=uf:"fill"===e&&(t instanceof Ah?i=lf:t instanceof Dh&&(i=cf)),new i(t)}},{key:"addDefinitions",value:function(e){for(var t in e)this.addDefinition(t,e[t])}},{key:"addDefinition",value:function(e,t){var i=this.element,n=this.definitionMap,r=t.id,a=n[r];if(a)a.count++;else{var o=this.createDefinition(e,t);n[r]={element:o,count:1},this.append(o),i&&o.attachTo(this.element)}}},{key:"removeDefinitions",value:function(e){for(var t in e)this.removeDefinition(e[t])}},{key:"removeDefinition",value:function(e){var t=this.definitionMap,i=e.id,n=t[i];n&&(n.count--,0===n.count&&(this.remove(this.childNodes.indexOf(n.element),1),delete t[i]))}}]),i}(af),ff=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).options=e,n.defs=new hf,n}return _createClass(i,[{key:"attachTo",value:function(e){this.element=e,this.defs.attachTo(e.firstElementChild)}},{key:"clear",value:function(){qh.prototype.clear.call(this)}},{key:"template",value:function(){return this.defs.render()+this.renderChildren()}},{key:"definitionChange",value:function(e){this.defs.definitionChange(e)}}]),i}(af),df=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n))._root=new ff(Object.assign({rtl:"rtl"===pc(e,"direction").direction},r.options)),tf(r.element,r._template()),r._rootElement=r.element.firstElementChild,function(e){var t;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(a){}if(t){var i=-t.e%1,n=-t.f%1,r=e.style;0===i&&0===n||(r.left=i+"px",r.top=n+"px")}}(r._rootElement),r._root.attachTo(r._rootElement),fc(r.element,{click:r._click,mouseover:r._mouseenter,mouseout:r._mouseleave,mousemove:r._mousemove}),r.resize(),r}return _createClass(i,[{key:"destroy",value:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,mc(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),_get(_getPrototypeOf(i.prototype),"destroy",this).call(this)}},{key:"translate",value:function(e){var t="".concat(Math.round(e.x)," ").concat(Math.round(e.y)," ").concat(this._size.width," ").concat(this._size.height);this._offset=e,this._rootElement.setAttribute("viewBox",t)}},{key:"draw",value:function(e){_get(_getPrototypeOf(i.prototype),"draw",this).call(this,e),this._root.load([e])}},{key:"clear",value:function(){_get(_getPrototypeOf(i.prototype),"clear",this).call(this),this._root.clear()}},{key:"svg",value:function(){return"<?xml version='1.0' ?>"+this._template()}},{key:"exportVisual",value:function(){var e=this._visual,t=this._offset;if(t){var i=new ih;i.children.push(e),i.transform(Uc().translate(-t.x,-t.y)),e=i}return e}},{key:"_resize",value:function(){this._offset&&this.translate(this._offset)}},{key:"_template",value:function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='".concat(Zh,"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>").concat(this._root.render(),"</svg>")}}]),i}(Uh);df.prototype.type="svg","undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(Uh.support.svg=!0,Gh.current.register("svg",df,10));var pf=df,vf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"template",value:function(){return"<g".concat(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions(),">").concat(this.renderChildren(),"</g>")}},{key:"optionsChange",value:function(e){"transform"===e.field&&this.transformChange(e.value),_get(_getPrototypeOf(i.prototype),"optionsChange",this).call(this,e)}}]),i}(af);Kh.Group=vf;var gf=vf,mf={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},yf={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},bf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"geometryChange",value:function(){this.attr("d",this.renderData()),this.invalidate()}},{key:"optionsChange",value:function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var t=yf[e.field];t&&this.attr(t,e.value)}_get(_getPrototypeOf(i.prototype),"optionsChange",this).call(this,e)}},{key:"content",value:function(){this.element&&(this.element.textContent=this.srcElement.content())}},{key:"renderData",value:function(){return this.printPath(this.srcElement)}},{key:"printPath",value:function(e){var t=e.segments,i=t.length;if(i>0){for(var n,r,a=[],o=1;o<i;o++){var s=this.segmentType(t[o-1],t[o]);s!==r&&(r=s,a.push(s)),a.push("L"===s?this.printPoints(t[o].anchor()):this.printPoints(t[o-1].controlOut(),t[o].controlIn(),t[o].anchor()))}return n="M"+this.printPoints(t[0].anchor())+" "+a.join(" "),e.options.closed&&(n+="Z"),n}}},{key:"printPoints",value:function(){for(var e=arguments,t=e.length,i=[],n=0;n<t;n++)i.push(e[n].toString(3));return i.join(" ")}},{key:"segmentType",value:function(e,t){return e.controlOut()&&t.controlIn()?"C":"L"}},{key:"mapStroke",value:function(e){var t=[];return e&&!rc(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),Ul(e.opacity)&&t.push(["stroke-opacity",e.opacity]),Ul(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke","none"]),t}},{key:"renderStroke",value:function(){return Jh(this.mapStroke(this.srcElement.options.stroke))}},{key:"renderDashType",value:function(e){var t=e.dashType,i=e.width,n=void 0===i?1:i;if(t&&"solid"!==t){for(var r=mf[t.toLowerCase()],a=[],o=0;o<r.length;o++)a.push(r[o]*n);return a.join(" ")}}},{key:"renderLinecap",value:function(e){var t=e.dashType,i=e.lineCap;return t&&"solid"!==t?"butt":i}},{key:"mapFill",value:function(e){var t=[];return e&&"Gradient"===e.nodeType||(e&&!rc(e.color)?(t.push(["fill",e.color]),Ul(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill","none"])),t}},{key:"renderFill",value:function(){return Jh(this.mapFill(this.srcElement.options.fill))}},{key:"template",value:function(){return"<path ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," ").concat(Xh("d",this.renderData()))+"".concat(this.renderStroke()).concat(this.renderFill()).concat(this.renderDefinitions()).concat(this.renderTransform(),"></path>")}}]),i}(af);Kh.Path=bf;var kf=bf,Cf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderData",value:function(){return this.printPath(this.srcElement.toPath())}}]),i}(kf);Kh.Arc=Cf;var wf=Cf,_f=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"geometryChange",value:function(){var e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()}},{key:"center",value:function(){return this.srcElement.geometry().center}},{key:"radius",value:function(){return this.srcElement.geometry().radius}},{key:"template",value:function(){return"<circle ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity())+"cx='".concat(this.center().x,"' cy='").concat(this.center().y,"' r='").concat(this.radius(),"'")+"".concat(this.renderStroke()," ").concat(this.renderFill()," ").concat(this.renderDefinitions())+"".concat(this.renderTransform()," ></circle>")}}]),i}(kf);Kh.Circle=_f;var xf=_f,Sf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"geometryChange",value:function(){var e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.invalidate()}},{key:"size",value:function(){return this.srcElement.geometry().size}},{key:"origin",value:function(){return this.srcElement.geometry().origin}},{key:"template",value:function(){return"<rect ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," x='").concat(this.origin().x,"' y='").concat(this.origin().y,"' ")+"width='".concat(this.size().width,"' height='").concat(this.size().height,"' ").concat(this.renderStroke()," ")+"".concat(this.renderFill()," ").concat(this.renderDefinitions()," ").concat(this.renderTransform()," />")}}]),i}(kf);Kh.Rect=Sf;var Tf=Sf,If=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"geometryChange",value:function(){this.allAttr(this.mapPosition()),this.invalidate()}},{key:"optionsChange",value:function(e){"src"===e.field&&this.allAttr(this.mapSource()),_get(_getPrototypeOf(i.prototype),"optionsChange",this).call(this,e)}},{key:"mapPosition",value:function(){var e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]}},{key:"renderPosition",value:function(){return Jh(this.mapPosition())}},{key:"mapSource",value:function(e){var t=this.srcElement.src();return e&&(t=ml(t)),[["xlink:href",t]]}},{key:"renderSource",value:function(){return Jh(this.mapSource(!0))}},{key:"template",value:function(){return"<image preserveAspectRatio='none' ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderTransform()," ").concat(this.renderOpacity())+"".concat(this.renderPosition()," ").concat(this.renderSource()," ").concat(this.renderDefinitions(),">")+"</image>"}}]),i}(kf);Kh.Image=If;var Of=If,Ef=/&(?:[a-zA-Z]+|#\d+);/g;function Af(e){if(!e||"string"!=typeof e||!Ef.test(e))return e;var t=Af._element;return Ef.lastIndex=0,e.replace(Ef,(function(e){return t.innerHTML=e,t.textContent||t.innerText}))}"undefined"!=typeof document&&(Af._element=document.createElement("span"));var Rf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"geometryChange",value:function(){var e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()}},{key:"optionsChange",value:function(e){"font"===e.field?(this.attr("style",Yh(this.mapStyle())),this.geometryChange()):"content"===e.field&&_get(_getPrototypeOf(i.prototype),"content",this).call(this,this.srcElement.content()),_get(_getPrototypeOf(i.prototype),"optionsChange",this).call(this,e)}},{key:"mapStyle",value:function(e){var t=_get(_getPrototypeOf(i.prototype),"mapStyle",this).call(this,e),n=this.srcElement.options.font;return e&&(n=ml(n)),t.push(["font",n],["white-space","pre"]),t}},{key:"pos",value:function(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)}},{key:"renderContent",value:function(){var e=this.srcElement.content();return kc(e=ml(e=Af(e)))}},{key:"renderTextAnchor",value:function(){var e;return!(this.options||{}).rtl||Sl.browser.msie||Sl.browser.edge||(e="end"),Xh("text-anchor",e)}},{key:"template",value:function(){return"<text ".concat(this.renderId()," ").concat(this.renderTextAnchor()," ").concat(this.renderStyle()," ").concat(this.renderOpacity())+"x='".concat(this.pos().x,"' y='").concat(this.pos().y,"' ").concat(this.renderStroke()," ").concat(this.renderTransform()," ").concat(this.renderDefinitions())+"".concat(this.renderFill(),">").concat(this.renderContent(),"</text>")}}]),i}(kf);Kh.Text=Rf;var Df=Rf,Mf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderData",value:function(){var e=this.srcElement.paths;if(e.length>0){for(var t=[],i=0;i<e.length;i++)t.push(this.printPath(e[i]));return t.join(" ")}}}]),i}(kf);Kh.MultiPath=Mf;var zf=Mf;function Pf(e){var t=new ff({skipBaseHref:!0}),i=e.clippedBBox(),n=e;if(i){var r=i.getOrigin(),a=new ih;a.transform(Uc().translate(-r.x,-r.y)),a.children.push(e),n=a}t.load([n]);var o="<?xml version='1.0' ?><svg xmlns='".concat(Zh,"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>").concat(t.render(),"</svg>");return t.destroy(),o}var Ff={};function Lf(e,t){var i=t.segments;if(0!==i.length){var n=i[0],r=n.anchor();e.moveTo(r.x,r.y);for(var a=1;a<i.length;a++){r=(n=i[a]).anchor();var o=i[a-1].controlOut(),s=n.controlIn();o&&s?e.bezierCurveTo(o.x,o.y,s.x,s.y,r.x,r.y):e.lineTo(r.x,r.y)}t.options.closed&&e.closePath()}}var jf=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),n=t.call(this,e),e&&n.initClip(),n}return _createClass(i,[{key:"initClip",value:function(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))}},{key:"clear",value:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),_get(_getPrototypeOf(i.prototype),"clear",this).call(this)}},{key:"clearClip",value:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}},{key:"setClip",value:function(e){this.clip&&(e.beginPath(),Lf(e,this.clip),e.clip())}},{key:"optionsChange",value:function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),_get(_getPrototypeOf(i.prototype),"optionsChange",this).call(this,e)}},{key:"setTransform",value:function(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}}},{key:"loadElements",value:function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n],a=r.children,o=new Ff[r.nodeType](r,i);a&&a.length>0&&o.load(a,t,i),Ul(t)?this.insertAt(o,t):this.append(o)}}},{key:"load",value:function(e,t,i){this.loadElements(e,t,i),this.invalidate()}},{key:"setOpacity",value:function(e){if(this.srcElement){var t=this.srcElement.opacity();Ul(t)&&this.globalAlpha(e,t)}}},{key:"globalAlpha",value:function(e,t){var i=t;i&&e.globalAlpha&&(i*=e.globalAlpha),e.globalAlpha=i}},{key:"visible",value:function(){var e=this.srcElement;return!e||e&&!1!==e.options.visible}}]),i}(qh),Vf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderTo",value:function(e){if(this.visible()){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);for(var t=this.childNodes,i=0;i<t.length;i++){var n=t[i];n.visible()&&n.renderTo(e)}e.restore()}}}]),i}(jf);eh(Vf.prototype,"childNodes"),Ff.Group=Vf;var Bf=Vf,Nf=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;_classCallCheck(this,i),(r=t.call(this)).canvas=e,r.size=n,r.ctx=e.getContext("2d");var a=r._invalidate.bind(_assertThisInitialized(r));return r.invalidate=Il((function(){ul(a)}),1e3/60),r}return _createClass(i,[{key:"destroy",value:function(){_get(_getPrototypeOf(i.prototype),"destroy",this).call(this),this.canvas=null,this.ctx=null}},{key:"load",value:function(e,t,i){this.loadElements(e,t,i),this._invalidate()}},{key:"_rescale",value:function(){var e=this.canvas,t=this.size,i=1;"number"==typeof window.devicePixelRatio&&(i=window.devicePixelRatio),e.width=t.width*i,e.height=t.height*i,this.ctx.scale(i,i)}},{key:"_invalidate",value:function(){this.ctx&&(this._rescale(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}}]),i}(Bf);eh(Nf.prototype,"childNodes");var Hf=Nf,Gf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).shapes=[],e}return _createClass(i,[{key:"_add",value:function(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this}},{key:"pointShapes",value:function(e){for(var t=this.shapes,i=t.length,n=[],r=0;r<i;r++)t[r].bbox.containsPoint(e)&&n.push(t[r].shape);return n}},{key:"insert",value:function(e,t){this._add(e,t)}},{key:"remove",value:function(e){for(var t=this.shapes,i=t.length,n=0;n<i;n++)if(t[n].shape===e){t.splice(n,1);break}}}]),i}(hl),Wf=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).children=[],n.rect=e,n}return _createClass(i,[{key:"inBounds",value:function(e){var t=this.rect,i=t.bottomRight(),n=e.bottomRight();return t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&n.x<=i.x&&n.y<=i.y}},{key:"pointShapes",value:function(e){for(var t=this.children,n=t.length,r=_get(_getPrototypeOf(i.prototype),"pointShapes",this).call(this,e),a=0;a<n;a++)Nl(r,t[a].pointShapes(e));return r}},{key:"insert",value:function(e,t){var i=this.children,n=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{i.length||this._initChildren();for(var r=0;r<i.length;r++)if(i[r].insert(e,t)){n=!0;break}n||this._add(e,t)}n=!0}return n}},{key:"_initChildren",value:function(){var e=this.rect,t=this.children,n=e.center(),r=e.width()/2,a=e.height()/2;t.push(new i(new Hc([e.origin.x,e.origin.y],[r,a])),new i(new Hc([n.x,e.origin.y],[r,a])),new i(new Hc([e.origin.x,n.y],[r,a])),new i(new Hc([n.x,n.y],[r,a])))}}]),i}(Gf);function Uf(e,t){return e._zIndex<t._zIndex?1:e._zIndex>t._zIndex?-1:0}var qf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).initRoots(),e}return _createClass(i,[{key:"initRoots",value:function(){this.rootMap={},this.root=new Gf,this.rootElements=[]}},{key:"clear",value:function(){for(var e=this.rootElements,t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()}},{key:"pointShape",value:function(e){var t=(this.rootMap[Math.floor(e.x/3e3)]||{})[Math.floor(e.y/3e3)],i=this.root.pointShapes(e);t&&(i=i.concat(t.pointShapes(e))),this.assignZindex(i),i.sort(Uf);for(var n=0;n<i.length;n++)if(i[n].containsPoint(e))return i[n]}},{key:"assignZindex",value:function(e){for(var t=0;t<e.length;t++){for(var i=e[t],n=0,r=Math.pow(1e4,75),a=[];i;)a.push(i),i=i.parent;for(;a.length;)n+=(((i=a.pop()).parent?i.parent.children:this.rootElements).indexOf(i)+1)*r,r/=1e4;e[t]._zIndex=n}}},{key:"optionsChange",value:function(e){"transform"!==e.field&&"stroke.width"!==e.field||this.bboxChange(e.element)}},{key:"geometryChange",value:function(e){this.bboxChange(e.element)}},{key:"bboxChange",value:function(e){if("Group"===e.nodeType)for(var t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)}},{key:"add",value:function(e){var t=Array.isArray(e)?e.slice(0):[e];Nl(this.rootElements,t),this._insert(t)}},{key:"childrenChange",value:function(e){if("remove"===e.action)for(var t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))}},{key:"_insert",value:function(e){for(var t;e.length>0;)(t=e.pop()).addObserver(this),"Group"===t.nodeType?Nl(e,t.children):this._insertShape(t)}},{key:"_insertShape",value:function(e){var t=e.bbox();if(t){var i=this.getSectors(t),n=i[0][0],r=i[1][0];if(this.inRoot(i))this.root.insert(e,t);else{var a=this.rootMap;a[n]||(a[n]={}),a[n][r]||(a[n][r]=new Wf(new Hc([3e3*n,3e3*r],[3e3,3e3]))),a[n][r].insert(e,t)}}}},{key:"remove",value:function(e){if(e.removeObserver(this),"Group"===e.nodeType)for(var t=e.children,i=0;i<t.length;i++)this.remove(t[i]);else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)}},{key:"inRoot",value:function(e){return e[0].length>1||e[1].length>1}},{key:"getSectors",value:function(e){for(var t=e.bottomRight(),i=Math.floor(t.x/3e3),n=Math.floor(t.y/3e3),r=[[],[]],a=Math.floor(e.origin.x/3e3);a<=i;a++)r[0].push(a);for(var o=Math.floor(e.origin.y/3e3);o<=n;o++)r[1].push(o);return r}}]),i}(hl),Xf=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;_classCallCheck(this,i),(r=t.call(this,e,n)).element.innerHTML=r._template(_assertThisInitialized(r));var a=r.element.firstElementChild,o=gc(e);return a.width=o.width,a.height=o.height,r._rootElement=a,r._root=new Hf(a,o),r._mouseTrackHandler=r._trackMouse.bind(_assertThisInitialized(r)),fc(r.element,{click:r._mouseTrackHandler,mousemove:r._mouseTrackHandler}),r}return _createClass(i,[{key:"destroy",value:function(){_get(_getPrototypeOf(i.prototype),"destroy",this).call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),mc(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}},{key:"draw",value:function(e){_get(_getPrototypeOf(i.prototype),"draw",this).call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])}},{key:"clear",value:function(){_get(_getPrototypeOf(i.prototype),"clear",this).call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}},{key:"eventTarget",value:function(e){if(this._searchTree){var t=this._surfacePoint(e);return this._searchTree.pointShape(t)}}},{key:"image",value:function(){var e=this._root,t=this._rootElement,i=[];e.traverse((function(e){e.loading&&i.push(e.loading)}));var n=Wl(),r=function(){e._invalidate();try{var i=t.toDataURL();n.resolve(i)}catch(r){n.reject(r)}};return lc(i).then(r,r),n}},{key:"suspendTracking",value:function(){_get(_getPrototypeOf(i.prototype),"suspendTracking",this).call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}},{key:"resumeTracking",value:function(){if(_get(_getPrototypeOf(i.prototype),"resumeTracking",this).call(this),!this._searchTree){this._searchTree=new qf;for(var e=this._root.childNodes,t=[],n=0;n<e.length;n++)t.push(e[n].srcElement);this._searchTree.add(t)}}},{key:"_resize",value:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}},{key:"_template",value:function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"}},{key:"_enableTracking",value:function(){this._searchTree=new qf,this._cursor=new(function(){function e(t){_classCallCheck(this,e),t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element}return _createClass(e,[{key:"clear",value:function(){this._resetCursor()}},{key:"destroy",value:function(){this._resetCursor(),delete this.element}},{key:"_mouseenter",value:function(e){var t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()}},{key:"_mouseleave",value:function(){this._resetCursor()}},{key:"_shapeCursor",value:function(e){for(var t=e.element;t&&!Ul(t.options.cursor);)t=t.parent;if(t)return t.options.cursor}},{key:"_getCursor",value:function(){if(this.element)return this.element.style.cursor}},{key:"_setCursor",value:function(e){this.element&&(this.element.style.cursor=e,this._current=e)}},{key:"_resetCursor",value:function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}]),e}())(this),_get(_getPrototypeOf(i.prototype),"_enableTracking",this).call(this)}},{key:"_trackMouse",value:function(e){if(!this._suspendedTracking){var t=this.eventTarget(e);if("click"!==e.type){var i=this._currentShape;i&&i!==t&&this.trigger("mouseleave",{element:i,originalEvent:e,type:"mouseleave"}),t&&i!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}}}]),i}(Uh);Xf.prototype.type="canvas","undefined"!=typeof document&&document.createElement("canvas").getContext&&(Uh.support.canvas=!0,Gh.current.register("canvas",Xf,20));var Jf=Xf,Yf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderTo",value:function(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()}},{key:"setFill",value:function(e){var t=this.srcElement.options.fill,i=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),i=!0):rc(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),i=!0)),i}},{key:"setGradientFill",value:function(e,t){var i,n=this.srcElement.rawBBox();if(t instanceof Ah){var r=t.start(),a=t.end();i=e.createLinearGradient(r.x,r.y,a.x,a.y)}else if(t instanceof Dh){var o=t.center();i=e.createRadialGradient(o.x,o.y,0,o.x,o.y,t.radius())}!function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=jl(n.color());r.a*=n.opacity(),e.addColorStop(n.offset(),r.toCssRgba())}}(i,t.stops),e.save(),t.userSpace()||e.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),e.fillStyle=i,e.fill(),e.restore()}},{key:"setStroke",value:function(e){var t=this.srcElement.options.stroke;if(t&&!rc(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=hc(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0}},{key:"dashType",value:function(){var e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()}},{key:"setLineDash",value:function(e){var t=this.dashType();if(t&&"solid"!==t){var i=mf[t];e.setLineDash?e.setLineDash(i):(e.mozDash=i,e.webkitLineDash=i)}}},{key:"setLineCap",value:function(e){var t=this.dashType(),i=this.srcElement.options.stroke;t&&"solid"!==t?e.lineCap="butt":i&&i.lineCap&&(e.lineCap=i.lineCap)}},{key:"setLineJoin",value:function(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)}},{key:"renderPoints",value:function(e,t){Lf(e,t)}}]),i}(jf);Ff.Path=Yf;var Kf=Yf,Zf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderPoints",value:function(e){Lf(e,this.srcElement.toPath())}}]),i}(Kf);Ff.Arc=Zf;var $f=Zf,Qf=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderPoints",value:function(e){var t=this.srcElement.geometry(),i=t.center,n=t.radius;e.arc(i.x,i.y,n,0,2*Math.PI)}}]),i}(Kf);Ff.Circle=Qf;var ed=Qf,td=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderPoints",value:function(e){var t=this.srcElement.geometry(),i=t.origin,n=t.size;e.rect(i.x,i.y,n.width,n.height)}}]),i}(Kf);Ff.Rect=td;var id=td,nd=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;_classCallCheck(this,i),(r=t.call(this,e)).onLoad=r.onLoad.bind(_assertThisInitialized(r)),r.onError=r.onError.bind(_assertThisInitialized(r)),r.loading=Wl();var a=r.img=new Image;return n&&!/^data:/i.test(e.src())&&(a.crossOrigin=n),a.src=e.src(),a.complete?r.onLoad():(a.onload=r.onLoad,a.onerror=r.onError),r}return _createClass(i,[{key:"renderTo",value:function(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())}},{key:"optionsChange",value:function(e){"src"===e.field?(this.loading=Wl(),this.img.src=this.srcElement.src()):_get(_getPrototypeOf(i.prototype),"optionsChange",this).call(this,e)}},{key:"onLoad",value:function(){this.loading.resolve(),this.invalidate()}},{key:"onError",value:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}},{key:"drawImage",value:function(e){var t=this.srcElement.rect(),i=t.topLeft();e.drawImage(this.img,i.x,i.y,t.width(),t.height())}}]),i}(Kf);Ff.Image=nd;var rd=nd,ad=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderTo",value:function(e){var t=this.srcElement,i=t.position(),n=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left",this.setFill(e)&&e.fillText(t.content(),i.x,i.y+n.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),i.x,i.y+n.baseline)),e.restore()}}]),i}(Kf);Ff.Text=ad;var od=ad,sd=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"renderPoints",value:function(e){for(var t=this.srcElement.paths,i=0;i<t.length;i++)Lf(e,t[i])}}]),i}(Kf);Ff.MultiPath=sd;var ld=sd;function cd(e,t){var i={width:"800px",height:"600px",cors:"Anonymous"},n=e,r=e.clippedBBox();if(r){var a=r.getOrigin();(n=new ih).transform(Uc().translate(-a.x,-a.y)),n.children.push(e);var o=r.getSize();i.width=o.width+"px",i.height=o.height+"px"}var s=Object.assign(i,t),l=document.createElement("div"),c=l.style;c.display="none",c.width=s.width,c.height=s.height,document.body.appendChild(l);var u=new Jf(l,s);u.suspendTracking(),u.draw(n);var h=u.image(),f=function(){u.destroy(),document.body.removeChild(l)};return h.then(f,f),h}function ud(e,t){var i=Pf(e);return t&&t.raw||(i="data:image/svg+xml;base64,"+tc(i)),Wl().resolve(i)}var hd,fd="undefined"!=typeof Uint8Array&&Sl.browser&&(!Sl.browser.msie||Sl.browser.version>9),dd=(hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(e){for(var t=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),i=0,n=t.length,r=[];i<n;){var a=hd.indexOf(t.charAt(i++)),o=hd.indexOf(t.charAt(i++)),s=hd.indexOf(t.charAt(i++)),l=hd.indexOf(t.charAt(i++)),c=(15&o)<<4|s>>>2,u=(3&s)<<6|l;r.push(a<<2|o>>>4),64!=s&&r.push(c),64!=l&&r.push(u)}return r},encode:function(e){for(var t=0,i=e.length,n="";t<i;){var r=e[t++],a=e[t++],o=e[t++],s=(3&r)<<4|a>>>4,l=(15&a)<<2|o>>>6,c=63&o;t-i==2?l=c=64:t-i==1&&(c=64),n+=hd.charAt(r>>>2)+hd.charAt(s)+hd.charAt(l)+hd.charAt(c)}return n}});function pd(e){var t=0,i=0;null==e?e=fd?new Uint8Array(256):[]:i=e.length;var n=fd?function(t){if(t>=e.length){var i=new Uint8Array(Math.max(t+256,2*e.length));i.set(e,0),e=i}}:function(){},r=fd?function(){return new Uint8Array(e.buffer,0,i)}:function(){return e},a=fd?function(r){if("string"==typeof r)return v(r);var a=r.length;n(t+a),e.set(r,t),(t+=a)>i&&(i=t)}:function(e){if("string"==typeof e)return v(e);for(var t=0;t<e.length;++t)s(e[t])};function o(){return t<i?e[t++]:0}function s(r){n(t),e[t++]=255&r,t>i&&(i=t)}function l(){return o()<<8|o()}function c(e){s(e>>8),s(e)}function u(){return 65536*l()+l()}function h(e){c(e>>>16&65535),c(65535&e)}function f(){var e=u();return e>=2147483648?e-4294967296:e}function d(e){h(e<0?e+4294967296:e)}function p(e){return g(e,o)}function v(e){for(var t=0;t<e.length;++t)s(e.charCodeAt(t))}function g(e,t){for(var i=new Array(e),n=0;n<e;++n)i[n]=t();return i}var m={eof:function(){return t>=i},readByte:o,writeByte:s,readShort:l,writeShort:c,readLong:u,writeLong:h,readFixed:function(){return u()/65536},writeFixed:function(e){h(Math.round(65536*e))},readShort_:function(){var e=l();return e>=32768?e-65536:e},writeShort_:function(e){c(e<0?e+65536:e)},readLong_:f,writeLong_:d,readFixed_:function(){return f()/65536},writeFixed_:function(e){d(Math.round(65536*e))},read:p,write:a,readString:function(e){return String.fromCharCode.apply(String,p(e))},writeString:v,times:g,get:r,slice:fd?function(t,i){if(e.buffer.slice)return new Uint8Array(e.buffer.slice(t,t+i));var n=new Uint8Array(i);return n.set(new Uint8Array(e.buffer,t,i)),n}:function(t,i){return e.slice(t,t+i)},offset:function(e){return null!=e?(t=e,m):t},skip:function(e){t+=e},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return i})),saveExcursion:function(e){var i=t;try{return e()}finally{t=i}},writeBase64:function(e){window.atob?v(window.atob(e)):a(dd.decode(e))},base64:function(){return dd.encode(r())}};return m}function vd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gd(e){return Object.keys(e).sort((function(e,t){return e-t})).map(parseFloat)}function md(e){this.raw=e,this.scalerType=e.readLong(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort();for(var t=this.tables={},i=0;i<this.tableCount;++i){var n={tag:e.readString(4),checksum:e.readLong(),offset:e.readLong(),length:e.readLong()};t[n.tag]=n}}function yd(e){function t(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw)}for(var i in t.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)},e)vd(e,i)&&(t[i]=t.prototype[i]=e[i]);return t}md.prototype={readTable:function(e,t){var i=this.tables[e];if(!i)throw new Error("Table "+e+" not found in directory");return this[e]=i.table=new t(this,i)},render:function(e){var t=Object.keys(e).length,i=Math.pow(2,Math.floor(Math.log(t)/Math.LN2)),n=16*i,r=Math.floor(Math.log(i)/Math.LN2),a=16*t-n,o=pd();o.writeLong(this.scalerType),o.writeShort(t),o.writeShort(n),o.writeShort(r),o.writeShort(a);var s=16*t,l=o.offset()+s,c=null,u=pd();for(var h in e)if(vd(e,h)){var f=e[h];for(o.writeString(h),o.writeLong(this.checksum(f)),o.writeLong(l),o.writeLong(f.length),u.write(f),"head"==h&&(c=l),l+=f.length;l%4;)u.writeByte(0),l++}o.write(u.get());var d=2981146554-this.checksum(o.get());return o.offset(c+8),o.writeLong(d),o.get()},checksum:function(e){e=pd(e);for(var t=0;!e.eof();)t+=e.readLong();return 4294967295&t}};yd({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.revision=e.readLong(),this.checkSumAdjustment=e.readLong(),this.magicNumber=e.readLong(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.read(8),this.modified=e.read(8),this.xMin=e.readShort_(),this.yMin=e.readShort_(),this.xMax=e.readShort_(),this.yMax=e.readShort_(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort_(),this.indexToLocFormat=e.readShort_(),this.glyphDataFormat=e.readShort_()},render:function(e){var t=pd();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(e),t.writeShort_(this.glyphDataFormat),t.get()}}),yd({parse:function(e){e.offset(this.offset),this.offsets=0===this.file.head.indexToLocFormat?e.times(this.length/2,(function(){return 2*e.readShort()})):e.times(this.length/4,e.readLong)},offsetOf:function(e){return this.offsets[e]},lengthOf:function(e){return this.offsets[e+1]-this.offsets[e]},render:function(e){for(var t=pd(),i=e[e.length-1]>65535,n=0;n<e.length;++n)i?t.writeLong(e[n]):t.writeShort(e[n]/2);return{format:i?1:0,table:t.get()}}}),yd({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort_(),this.minRightSideBearing=e.readShort_(),this.xMaxExtent=e.readShort_(),this.caretSlopeRise=e.readShort_(),this.caretSlopeRun=e.readShort_(),this.caretOffset=e.readShort_(),e.skip(8),this.metricDataFormat=e.readShort_(),this.numOfLongHorMetrics=e.readShort()},render:function(e){var t=pd();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(e.length),t.get()}}),yd({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.numGlyphs=e.readShort(),this.maxPoints=e.readShort(),this.maxContours=e.readShort(),this.maxComponentPoints=e.readShort(),this.maxComponentContours=e.readShort(),this.maxZones=e.readShort(),this.maxTwilightPoints=e.readShort(),this.maxStorage=e.readShort(),this.maxFunctionDefs=e.readShort(),this.maxInstructionDefs=e.readShort(),this.maxStackElements=e.readShort(),this.maxSizeOfInstructions=e.readShort(),this.maxComponentElements=e.readShort(),this.maxComponentDepth=e.readShort()},render:function(e){var t=pd();return t.writeLong(this.version),t.writeShort(e.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get()}}),yd({parse:function(e){e.offset(this.offset);var t=this.file;this.metrics=e.times(t.hhea.numOfLongHorMetrics,(function(){return{advance:e.readShort(),lsb:e.readShort_()}})),this.leftSideBearings=e.times(t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics,e.readShort_)},forGlyph:function(e){var t=this.metrics,i=t.length;return e<i?t[e]:{advance:t[i-1].advance,lsb:this.leftSideBearings[e-i]}},render:function(e){for(var t=pd(),i=0;i<e.length;++i){var n=this.forGlyph(e[i]);t.writeShort(n.advance),t.writeShort_(n.lsb)}return t.get()}}),function(){function e(e){this.raw=e}function t(e){this.raw=e;for(var t=this.glyphIds=[],i=this.idOffsets=[];;){var n=e.readShort();if(i.push(e.offset()),t.push(e.readShort()),!(32&n))break;e.skip(1&n?4:2),128&n?e.skip(8):64&n?e.skip(4):8&n&&e.skip(2)}}e.prototype={compound:!1,render:function(){return this.raw.get()}},t.prototype={compound:!0,render:function(e){for(var t=pd(this.raw.get()),i=0;i<this.glyphIds.length;++i){var n=this.glyphIds[i];t.offset(this.idOffsets[i]),t.writeShort(e[n])}return t.get()}},yd({parse:function(){this.cache={}},glyphFor:function(i){var n=this.cache;if(vd(n,i))return n[i];var r=this.file.loca,a=r.lengthOf(i);if(0===a)return n[i]=null;var o=this.rawData,s=this.offset+r.offsetOf(i),l=pd(o.slice(s,a)),c=l.readShort_(),u=l.readShort_(),h=l.readShort_(),f=l.readShort_(),d=l.readShort_(),p=n[i]=-1==c?new t(l):new e(l);return p.numberOfContours=c,p.xMin=u,p.yMin=h,p.xMax=f,p.yMax=d,p},render:function(e,t,i){for(var n=pd(),r=[],a=0;a<t.length;++a){var o=e[t[a]];r.push(n.offset()),o&&n.write(o.render(i))}return r.push(n.offset()),{table:n.get(),offsets:r}}})}(),function(){function e(e,t){this.text=e,this.length=e.length,this.platformID=t.platformID,this.platformSpecificID=t.platformSpecificID,this.languageID=t.languageID,this.nameID=t.nameID}yd({parse:function(t){t.offset(this.offset),t.readShort();for(var i=t.readShort(),n=this.offset+t.readShort(),r=t.times(i,(function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+n}})),a=this.strings={},o=0;o<r.length;++o){var s=r[o];t.offset(s.offset);var l=t.readString(s.length);a[s.nameID]||(a[s.nameID]=[]),a[s.nameID].push(new e(l,s))}this.postscriptEntry=a[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(t){var i=this.strings,n=0;for(var r in i)vd(i,r)&&(n+=i[r].length);var a=pd(),o=pd();for(r in a.writeShort(0),a.writeShort(n),a.writeShort(6+12*n),i)if(vd(i,r))for(var s=6==r?[new e(t,this.postscriptEntry)]:i[r],l=0;l<s.length;++l){var c=s[l];a.writeShort(c.platformID),a.writeShort(c.platformSpecificID),a.writeShort(c.languageID),a.writeShort(c.nameID),a.writeShort(c.length),a.writeShort(o.offset()),o.writeString(c.text)}return a.write(o.get()),a.get()}})}(),bd=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g),yd({parse:function(e){var t;switch(e.offset(this.offset),this.format=e.readLong(),this.italicAngle=e.readFixed_(),this.underlinePosition=e.readShort_(),this.underlineThickness=e.readShort_(),this.isFixedPitch=e.readLong(),this.minMemType42=e.readLong(),this.maxMemType42=e.readLong(),this.minMemType1=e.readLong(),this.maxMemType1=e.readLong(),this.format){case 65536:case 196608:break;case 131072:t=e.readShort(),this.glyphNameIndex=e.times(t,e.readShort),this.names=[];for(var i=this.offset+this.length;e.offset()<i;)this.names.push(e.readString(e.readByte()));break;case 151552:t=e.readShort(),this.offsets=e.read(t);break;case 262144:this.map=e.times(this.file.maxp.numGlyphs,e.readShort)}},glyphFor:function(e){switch(this.format){case 65536:return bd[e]||".notdef";case 131072:var t=this.glyphNameIndex[e];return t<bd.length?bd[t]:this.names[t-bd.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[e]||65535}},render:function(e){if(196608==this.format)return this.raw();var t=pd(this.rawData.slice(this.offset,32));t.writeLong(131072),t.offset(32);for(var i=[],n=[],r=0;r<e.length;++r){var a=this.glyphFor(e[r]),o=bd.indexOf(a);o>=0?i.push(o):(i.push(bd.length+n.length),n.push(a))}for(t.writeShort(e.length),r=0;r<i.length;++r)t.writeShort(i[r]);for(r=0;r<n.length;++r)t.writeByte(n[r].length),t.writeString(n[r]);return t.get()}});var bd,kd=function(){function e(e,t,i){var n=this;n.platformID=e.readShort(),n.platformSpecificID=e.readShort(),n.offset=t+e.readLong(),e.saveExcursion((function(){var t;switch(e.offset(n.offset),n.format=e.readShort(),n.format){case 0:n.length=e.readShort(),n.language=e.readShort();for(var r=0;r<256;++r)i[r]=e.readByte();break;case 4:n.length=e.readShort(),n.language=e.readShort();var a=e.readShort()/2;e.skip(6);var o=e.times(a,e.readShort);e.skip(2);var s=e.times(a,e.readShort),l=e.times(a,e.readShort_),c=e.times(a,e.readShort),u=(n.length+n.offset-e.offset())/2,h=e.times(u,e.readShort);for(r=0;r<a;++r){var f=s[r],d=o[r];for(t=f;t<=d;++t){var p;0===c[r]?p=t+l[r]:0!==(p=h[c[r]/2-(a-r)+(t-f)]||0)&&(p+=l[r]),i[t]=65535&p}}break;case 6:n.length=e.readShort(),n.language=e.readShort(),t=e.readShort();for(var v=e.readShort();v-- >0;)i[t++]=e.readShort();break;case 12:e.readShort(),n.length=e.readLong(),n.language=e.readLong();for(var g=e.readLong();g-- >0;){t=e.readLong();for(var m=e.readLong(),y=e.readLong();t<=m;)i[t++]=y++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+n.format)}}))}return yd({parse:function(t){var i=this,n=i.offset;t.offset(n),i.codeMap={},i.version=t.readShort();var r=t.readShort();i.tables=t.times(r,(function(){return new e(t,n,i.codeMap)}))},render:function(e,t){var i=pd();return i.writeShort(0),i.writeShort(1),i.write(function(e,t){var i=gd(e),n=[],r=[],a=null,o=null;function s(i){return t[e[i]]}for(var l=0;l<i.length;++l){var c=i[l],u=s(c)-c;null!=a&&u===o||(a&&r.push(a),n.push(c),o=u),a=c}a&&r.push(a),r.push(65535),n.push(65535);var h=n.length,f=2*h,d=2*Math.pow(2,Math.floor(Math.log(h)/Math.LN2)),p=Math.log(d/2)/Math.LN2,v=f-d,g=[],m=[],y=[];for(l=0;l<h;++l){var b=n[l],k=r[l];if(65535==b){g.push(0),m.push(0);break}var C=s(b);if(b-C>=32768){g.push(0),m.push(2*(y.length+h-l));for(var w=b;w<=k;++w)y.push(s(w))}else g.push(C-b),m.push(0)}var _=pd();return _.writeShort(3),_.writeShort(1),_.writeLong(12),_.writeShort(4),_.writeShort(16+8*h+2*y.length),_.writeShort(0),_.writeShort(f),_.writeShort(d),_.writeShort(p),_.writeShort(v),r.forEach(_.writeShort),_.writeShort(0),n.forEach(_.writeShort),g.forEach(_.writeShort_),m.forEach(_.writeShort),y.forEach(_.writeShort),_.get()}(e,t)),i.get()}})}(),Cd=(yd({parse:function(e){e.offset(this.offset),this.version=e.readShort(),this.averageCharWidth=e.readShort_(),this.weightClass=e.readShort(),this.widthClass=e.readShort(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort_(),this.ySubscriptYSize=e.readShort_(),this.ySubscriptXOffset=e.readShort_(),this.ySubscriptYOffset=e.readShort_(),this.ySuperscriptXSize=e.readShort_(),this.ySuperscriptYSize=e.readShort_(),this.ySuperscriptXOffset=e.readShort_(),this.ySuperscriptYOffset=e.readShort_(),this.yStrikeoutSize=e.readShort_(),this.yStrikeoutPosition=e.readShort_(),this.familyClass=e.readShort_(),this.panose=e.times(10,e.readByte),this.charRange=e.times(4,e.readLong),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=e.times(2,e.readLong),this.version>1&&(this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()))},render:function(){return this.raw()}}),1e5);function wd(e){this.font=e,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=function(){for(var e="",t=String(Cd),i=0;i<t.length;++i)e+=String.fromCharCode(t.charCodeAt(i)-48+65);return++Cd,e}()+"+"+this.font.psName}wd.prototype={use:function(e){var t=this;if("string"==typeof e)return function(e){for(var t,i,n=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}(e).reduce((function(e,i){return e+String.fromCharCode(t.use(i))}),"");var i=t.unicodes[e];if(!i){i=t.next++,t.subset[i]=e,t.unicodes[e]=i;var n=t.font.cmap.codeMap[e];if(n&&(t.ncid2ogid[i]=n,null==t.ogid2ngid[n])){var r=t.nextGid++;t.ogid2ngid[n]=r,t.ngid2ogid[r]=n}}return i},encodeText:function(e){return this.use(e)},glyphIds:function(){return gd(this.ogid2ngid)},glyphsFor:function(e,t){t||(t={});for(var i=0;i<e.length;++i){var n=e[i];if(!t[n]){var r=t[n]=this.font.glyf.glyphFor(n);r&&r.compound&&this.glyphsFor(r.glyphIds,t)}}return t},render:function(){var e=this.glyphsFor(this.glyphIds());for(var t in e)if(vd(e,t)&&(t=parseInt(t,10),null==this.ogid2ngid[t])){var i=this.nextGid++;this.ogid2ngid[t]=i,this.ngid2ogid[i]=t}var n=gd(this.ngid2ogid).map((function(e){return this.ngid2ogid[e]}),this),r=this.font,a=r.glyf.render(e,n,this.ogid2ngid),o=r.loca.render(a.offsets);this.lastChar=this.next-1;var s={cmap:kd.render(this.ncid2ogid,this.ogid2ngid),glyf:a.table,loca:o.table,hmtx:r.hmtx.render(n),hhea:r.hhea.render(n),maxp:r.maxp.render(n),post:r.post.render(n),name:r.name.render(this.psName),head:r.head.render(o.format),"OS/2":r.os2.render()};return this.font.directory.render(s)},cidToGidMap:function(){for(var e=pd(),t=0,i=this.firstChar;i<this.next;++i){for(;t<i;)e.writeShort(0),t++;var n=this.ncid2ogid[i];e.writeShort(n?this.ogid2ngid[n]:0),t++}return e.get()}};var _d=i("wSl+").deflate,xd=(Sl.browser,"\n"),Sd=0,Td={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function Id(e,t,i){for(;e.length<t;)e=i+e;return e}function Od(e,t){return Id(String(e),t,"0")}function Ed(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ad=Array.isArray||function(e){return e instanceof Array};function Rd(e){return e instanceof Date}function Dd(e,t){t("["),e.length>0&&t.withIndent((function(){for(var i=0;i<e.length;++i)i>0&&i%8==0?t.indent(e[i]):t(" ",e[i])})),t(" ]")}function Md(e,t){t("(D:",Od(e.getUTCFullYear(),4),Od(e.getUTCMonth()+1,2),Od(e.getUTCDate(),2),Od(e.getUTCHours(),2),Od(e.getUTCMinutes(),2),Od(e.getUTCSeconds(),2),"Z)")}function zd(e){return e*(72/25.4)}function Pd(e){return zd(10*e)}function Fd(e){return 72*e}function Ld(e,t){if("number"==typeof e)return e;var i;if("string"==typeof e&&(i=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(e))){var n=parseFloat(i[1]);if(!isNaN(n))return"pt"==i[2]?n:{mm:zd,cm:Pd,in:Fd}[i[2]](n)}if(null!=t)return t;throw new Error("Can't parse unit: "+e)}function jd(){}function Vd(e,t,i){for(var n in i||(i=jd),e.prototype=new i,t)Ed(t,n)&&(e.prototype[n]=t[n]);return e}jd.prototype.beforeRender=function(){};var Bd=Vd((function(e,t){this.value=e,this.utf16be=Boolean(t)}),{render:function(e){var t=this.value;t.length>0&&(t=this.value.replace(/([\(\)\\])/g,"\\$1"),this.utf16be&&(t="\xfe\xff"+function(e){for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n<65535)t+=Ql(n);else{var r=56320+(n-65536&1023);t+=Ql(55296+(n-65536>>10)),t+=Ql(r)}}return t}(t))),e("(",t,")")},toString:function(){return this.value}}),Nd=Vd((function(e){this.value=e}),{render:function(e){e("<");for(var t=0;t<this.value.length;++t)e(Od(this.value.charCodeAt(t).toString(16),4));e(">")}},Bd),Hd=Vd((function(e){this.name=e}),{render:function(e){e("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,(function(e){return"#"+Od(e.charCodeAt(0).toString(16),2)}))},toString:function(){return this.name}}),Gd={};function Wd(e){return Ed(Gd,e)?Gd[e]:Gd[e]=new Hd(e)}Hd.get=Wd;var Ud=Vd((function(e){this.props=e}),{render:function(e){var t=this.props,i=!0;e("<<"),e.withIndent((function(){for(var n in t)Ed(t,n)&&!/^_/.test(n)&&(i=!1,e.indent(Wd(n)," ",t[n]))})),i||e.indent(),e(">>")}}),qd=Vd((function(e,t,i){if("string"==typeof e){var n=pd();n.write(e),e=n}this.data=e,this.props=t||{},this.compress=i}),{render:function(e){var t=this.data.get(),i=this.props;this.compress&&(i.Filter?i.Filter instanceof Array||(i.Filter=[i.Filter]):i.Filter=[],i.Filter.unshift(Wd("FlateDecode")),t=_d(t)),i.Length=t.length,e(new Ud(i)," stream",xd),e.writeData(t),e(xd,"endstream")}});Vd((function(){this.props={Type:Wd("Catalog")}}),{setPages:function(e){this.props.Pages=e}},Ud),Vd((function(){this.props={Type:Wd("Pages"),Kids:[],Count:0}}),{addPage:function(e){this.props.Kids.push(e),this.props.Count++}},Ud),Vd((function(e){this.props={Type:Wd("Font"),Subtype:Wd("Type1"),BaseFont:Wd(e)},this._resourceName=Wd("F"+ ++Sd)}),{encodeText:function(e){return new Bd(String(e))}},Ud);var Xd=Vd((function(e,t,i){(i=this.props=i||{}).Type=Wd("Font"),i.Subtype=Wd("Type0"),i.Encoding=Wd("Identity-H"),this._pdf=e,this._font=t,this._sub=t.makeSubset(),this._resourceName=Wd("F"+ ++Sd);var n=t.head;this.name=t.psName;var r=this.scale=t.scale;this.bbox=[n.xMin*r,n.yMin*r,n.xMax*r,n.yMax*r],this.italicAngle=t.post.italicAngle,this.ascent=t.ascent*r,this.descent=t.descent*r,this.lineGap=t.lineGap*r,this.capHeight=t.os2.capHeight||this.ascent,this.xHeight=t.os2.xHeight||0,this.stemV=0,this.familyClass=(t.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32}),{encodeText:function(e){return new Nd(this._sub.encodeText(String(e)))},getTextWidth:function(e,t){for(var i=0,n=this._font.cmap.codeMap,r=0;r<t.length;++r){var a=n[t.charCodeAt(r)];i+=this._font.widthOfGlyph(a||0)}return i*e/1e3},beforeRender:function(){var e=this,t=e._sub,i=t.render(),n=new qd(pd(i),{Length1:i.length},!0),r=e._pdf.attach(new Ud({Type:Wd("FontDescriptor"),FontName:Wd(e._sub.psName),FontBBox:e.bbox,Flags:e.flags,StemV:e.stemV,ItalicAngle:e.italicAngle,Ascent:e.ascent,Descent:e.descent,CapHeight:e.capHeight,XHeight:e.xHeight,FontFile2:e._pdf.attach(n)})),a=t.ncid2ogid,o=t.firstChar,s=t.lastChar,l=[];!function t(i,n){if(i<=s){var r=a[i];null==r?t(i+1):(n||l.push(i,n=[]),n.push(e._font.widthOfGlyph(r)),t(i+1,n))}}(o);var c=new Ud({Type:Wd("Font"),Subtype:Wd("CIDFontType2"),BaseFont:Wd(e._sub.psName),CIDSystemInfo:new Ud({Registry:new Bd("Adobe"),Ordering:new Bd("Identity"),Supplement:0}),FontDescriptor:r,FirstChar:o,LastChar:s,DW:Math.round(e._font.widthOfGlyph(0)),W:l,CIDToGIDMap:e._pdf.attach(e._makeCidToGidMap())}),u=e.props;u.BaseFont=Wd(e._sub.psName),u.DescendantFonts=[e._pdf.attach(c)];var h=new Jd(o,s,t.subset),f=new qd(function(){var e=0,t=pd();function i(){for(var e=0;e<arguments.length;++e){var n=arguments[e];if(void 0===n)throw new Error("Cannot output undefined to PDF");if(n instanceof jd)n.beforeRender(i),n.render(i);else if(Ad(n))Dd(n,i);else if(Rd(n))Md(n,i);else if("number"==typeof n){if(isNaN(n))throw new Error("Cannot output NaN to PDF");var r=n.toFixed(7);r.indexOf(".")>=0&&(r=r.replace(/\.?0+$/,"")),"-0"==r&&(r="0"),t.writeString(r)}else/string|boolean/.test(typeof n)?t.writeString(String(n)):"function"==typeof n.get?t.write(n.get()):"object"==typeof n&&(n?i(new Ud(n)):t.writeString("null"))}}return i.writeData=function(e){t.write(e)},i.withIndent=function(t){++e,t(i),--e},i.indent=function(){i(xd,Id("",2*e,"  ")),i.apply(null,arguments)},i.offset=function(){return t.offset()},i.toString=function(){throw new Error("FIX CALLER")},i.get=function(){return t.get()},i.stream=function(){return t},i}(),null,!0);f.data(h),u.ToUnicode=e._pdf.attach(f)},_makeCidToGidMap:function(){return new qd(pd(this._sub.cidToGidMap()),null,!0)}},Ud),Jd=Vd((function(e,t,i){this.firstChar=e,this.lastChar=t,this.map=i}),{render:function(e){e.indent("/CIDInit /ProcSet findresource begin"),e.indent("12 dict begin"),e.indent("begincmap"),e.indent("/CIDSystemInfo <<"),e.indent("  /Registry (Adobe)"),e.indent("  /Ordering (UCS)"),e.indent("  /Supplement 0"),e.indent(">> def"),e.indent("/CMapName /Adobe-Identity-UCS def"),e.indent("/CMapType 2 def"),e.indent("1 begincodespacerange"),e.indent("  <0000><ffff>"),e.indent("endcodespacerange");var t=this;e.indent(t.lastChar-t.firstChar+1," beginbfchar"),e.withIndent((function(){for(var i=t.firstChar;i<=t.lastChar;++i){var n=[t.map[i]].map((function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)})).join("");e.indent("<",Od(i.toString(16),4),">","<");for(var r=0;r<n.length;++r)e(Od(n.charCodeAt(r).toString(16),4));e(">")}})),e.indent("endbfchar"),e.indent("endcmap"),e.indent("CMapName currentdict /CMap defineresource pop"),e.indent("end"),e.indent("end")}});function Yd(e){return e.map((function(e){return Ad(e)?Yd(e):"number"==typeof e?(Math.round(1e3*e)/1e3).toFixed(3):e})).join(" ")}function Kd(e,t,i,n,r,a,o){var s=Yd([t,i,n,r,a,o]),l=e.GRAD_COL_FUNCTIONS[s];return l||(l=e.GRAD_COL_FUNCTIONS[s]=e.attach(new Ud({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,i,n],C1:[r,a,o]}))),l}function Zd(e,t,i){var n=Yd([t,i]),r=e.GRAD_OPC_FUNCTIONS[n];return r||(r=e.GRAD_OPC_FUNCTIONS[n]=e.attach(new Ud({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[i]}))),r}Vd((function(e,t){this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],(t=this.props=t||{}).Type=Wd("Page"),t.ProcSet=[Wd("PDF"),Wd("Text"),Wd("ImageB"),Wd("ImageC"),Wd("ImageI")],t.Resources=new Ud({Font:new Ud(this._fontResources),ExtGState:new Ud(this._gsResources),XObject:new Ud(this._xResources),Pattern:new Ud(this._patResources),Shading:new Ud(this._shResources)}),t.Annots=this._annotations}),{_out:function(){this._content.data.apply(null,arguments)},transform:function(e,t,i,n,r,a){tp(arguments)||(this._matrix=ep(arguments,this._matrix),this._out(e," ",t," ",i," ",n," ",r," ",a," cm"),this._out(xd))},translate:function(e,t){this.transform(1,0,0,1,e,t)},scale:function(e,t){this.transform(e,0,0,t,0,0)},rotate:function(e){var t=Math.cos(e),i=Math.sin(e);this.transform(t,i,-i,t,0,0)},beginText:function(){this._textMode=!0,this._out("BT",xd)},endText:function(){this._textMode=!1,this._out("ET",xd)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(e,t){this._requireTextMode(),null==e?e=this._font:e instanceof Xd||(e=this._pdf.getFont(e)),null==t&&(t=this._fontSize),this._fontResources[e._resourceName]=e,this._font=e,this._fontSize=t,this._out(e._resourceName," ",t," Tf",xd)},setTextLeading:function(e){this._requireTextMode(),this._out(e," TL",xd)},setTextRenderingMode:function(e){this._requireTextMode(),this._out(e," Tr",xd)},showText:function(e,t){if(this._requireFont(),e.length>1&&t&&this._font instanceof Xd){var i=this._font.getTextWidth(this._fontSize,e);this._out(t/i*100," Tz ")}this._out(this._font.encodeText(e)," Tj",xd)},showTextNL:function(e){this._requireFont(),this._out(this._font.encodeText(e)," '",xd)},addLink:function(e,t){var i=this._toPage({x:t.left,y:t.bottom}),n=this._toPage({x:t.right,y:t.top});this._annotations.push(new Ud({Type:Wd("Annot"),Subtype:Wd("Link"),Rect:[i.x,i.y,n.x,n.y],Border:[0,0,0],A:new Ud({Type:Wd("Action"),S:Wd("URI"),URI:new Bd(e)})}))},setStrokeColor:function(e,t,i){this._out(e," ",t," ",i," RG",xd)},setOpacity:function(e){this.setFillOpacity(e),this.setStrokeOpacity(e),this._opacity*=e},setStrokeOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!0);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",xd)}},setFillColor:function(e,t,i){this._out(e," ",t," ",i," rg",xd)},setFillOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!1);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",xd)}},gradient:function(e,t){this.save(),this.rect(t.left,t.top,t.width,t.height),this.clip(),e.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top);var i,n=function(e,t,i){var n="radial"==t.type,r=function(e,t){var i,n,r,a,o=!1,s=[],l=[],c=[],u=[];for(i=1;i<t.length;++i)l.push(Kd(e,(r=t[i-1].color).r,r.g,r.b,(a=(n=t[i]).color).r,a.g,a.b)),(r.a<1||a.a<1)&&(o=!0),c.push(n.offset),u.push(0,1);if(o)for(i=1;i<t.length;++i)s.push(Zd(e,(r=t[i-1].color).a,(a=(n=t[i]).color).a));return c.pop(),{hasAlpha:o,colors:h(l),opacities:o?h(s):null};function h(e){return 1==e.length?e[0]:{FunctionType:3,Functions:e,Domain:[0,1],Bounds:c,Encode:u}}}(e,t.stops),a=n?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],o=function(e,t,i,n,r,a){var o,s;if(!a){var l=[t].concat(n);i.forEach((function(e){l.push(e.offset,e.color.r,e.color.g,e.color.b)})),s=Yd(l),o=e.GRAD_COL[s]}return o||(o=new Ud({Type:Wd("Shading"),ShadingType:t?3:2,ColorSpace:Wd("DeviceRGB"),Coords:n,Domain:[0,1],Function:r,Extend:[!0,!0]}),e.attach(o),o._resourceName="S"+ ++Sd,s&&(e.GRAD_COL[s]=o)),o}(e,n,t.stops,a,r.colors,t.userSpace&&i),s=r.hasAlpha?function(e,t,i,n,r,a){var o,s;if(!a){var l=[t].concat(n);i.forEach((function(e){l.push(e.offset,e.color.a)})),s=Yd(l),o=e.GRAD_OPC[s]}return o||(o=new Ud({Type:Wd("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:Wd("Mask"),S:Wd("Luminosity"),G:e.attach(new qd("/a0 gs /s0 sh",{Type:Wd("XObject"),Subtype:Wd("Form"),FormType:1,BBox:a?[a.left,a.top+a.height,a.left+a.width,a.top]:[0,1,1,0],Group:{Type:Wd("Group"),S:Wd("Transparency"),CS:Wd("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:Wd("DeviceGray"),Coords:n,Domain:[0,1],ShadingType:t?3:2,Function:r,Extend:[!0,!0]}}}}))}}),e.attach(o),o._resourceName="O"+ ++Sd,s&&(e.GRAD_OPC[s]=o)),o}(e,n,t.stops,a,r.opacities,t.userSpace&&i):null;return{hasAlpha:r.hasAlpha,shading:o,opacity:s}}(this._pdf,e,t),r=n.shading._resourceName;this._shResources[r]=n.shading,n.hasAlpha&&(this._gsResources[i=n.opacity._resourceName]=n.opacity,this._out("/"+i+" gs ")),this._out("/"+r+" sh",xd),this.restore()},setDashPattern:function(e,t){this._out(e," ",t," d",xd)},setLineWidth:function(e){this._out(e," w",xd)},setLineCap:function(e){this._out(e," J",xd)},setLineJoin:function(e){this._out(e," j",xd)},setMitterLimit:function(e){this._out(e," M",xd)},save:function(){this._contextStack.push(this._context()),this._out("q",xd)},restore:function(){this._out("Q",xd),this._context(this._contextStack.pop())},moveTo:function(e,t){this._out(e," ",t," m",xd)},lineTo:function(e,t){this._out(e," ",t," l",xd)},bezier:function(e,t,i,n,r,a){this._out(e," ",t," ",i," ",n," ",r," ",a," c",xd)},bezier1:function(e,t,i,n){this._out(e," ",t," ",i," ",n," y",xd)},bezier2:function(e,t,i,n){this._out(e," ",t," ",i," ",n," v",xd)},close:function(){this._out("h",xd)},rect:function(e,t,i,n){this._out(e," ",t," ",i," ",n," re",xd)},ellipse:function(e,t,i,n){function r(t){return e+t}function a(e){return t+e}var o=.5522847498307936;this.moveTo(r(0),a(n)),this.bezier(r(i*o),a(n),r(i),a(n*o),r(i),a(0)),this.bezier(r(i),a(-n*o),r(i*o),a(-n),r(0),a(-n)),this.bezier(r(-i*o),a(-n),r(-i),a(-n*o),r(-i),a(0)),this.bezier(r(-i),a(n*o),r(-i*o),a(n),r(0),a(n))},circle:function(e,t,i){this.ellipse(e,t,i,i)},stroke:function(){this._out("S",xd)},nop:function(){this._out("n",xd)},clip:function(){this._out("W n",xd)},clipStroke:function(){this._out("W S",xd)},closeStroke:function(){this._out("s",xd)},fill:function(){this._out("f",xd)},fillStroke:function(){this._out("B",xd)},drawImage:function(e){var t=this._pdf.getImage(e);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName," Do",xd))},comment:function(e){var t=this;e.split(/\r?\n/g).forEach((function(e){t._out("% ",e,xd)}))},_context:function(e){if(null==e)return{opacity:this._opacity,matrix:this._matrix};this._opacity=e.opacity,this._matrix=e.matrix},_toPage:function(e){var t=this._matrix;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}},Ud);var $d={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function Qd(e,t){e=e.toLowerCase(),$d[e]=function(){return $d[t]},$d[e+"|bold"]=function(){return $d[t+"|bold"]},$d[e+"|italic"]=function(){return $d[t+"|italic"]},$d[e+"|bold|italic"]=function(){return $d[t+"|bold|italic"]}}function ep(e,t){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=t[0],c=t[1],u=t[2],h=t[3];return[i*l+n*u,i*c+n*h,r*l+a*u,r*c+a*h,o*l+s*u+t[4],o*c+s*h+t[5]]}function tp(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}Qd("Times New Roman","serif"),Qd("Courier New","monospace"),Qd("Arial","sans-serif"),Qd("Helvetica","sans-serif"),Qd("Verdana","sans-serif"),Qd("Tahoma","sans-serif"),Qd("Georgia","sans-serif"),Qd("Monaco","monospace"),Qd("Andale Mono","monospace");var ip=Sl.browser||{};function np(e){return Array.prototype.slice.call(e)}var rp={},ap=function(){var e={};return e._root=e,e}(),op=!("undefined"==typeof window)&&(ip.msie||ip.edge),sp=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e,n.getOrigin(),r))._pdfRect=n,a}return _createClass(i,[{key:"rect",value:function(){return this._pdfRect}},{key:"rawBBox",value:function(){return this._pdfRect}}]),i}(Zu);function lp(e,t){Object.keys(t).forEach((function(i){e.style[i]=t[i]}))}var cp,up="undefined"!=typeof Element&&Element.prototype&&((cp=Element.prototype).matches?function(e,t){return e.matches(t)}:cp.webkitMatchesSelector?function(e,t){return e.webkitMatchesSelector(t)}:cp.mozMatchesSelector?function(e,t){return e.mozMatchesSelector(t)}:cp.msMatchesSelector?function(e,t){return e.msMatchesSelector(t)}:function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)});function hp(e,t){if(e.closest)return e.closest(t);for(;e&&!/^\[object (?:HTML)?Document\]$/.test(String(e));){if(1==e.nodeType&&up(e,t))return e;e=e.parentNode}}var fp,dp=(fp="undefined"!=typeof window&&window.kendo&&window.kendo.jQuery)?function e(t){var i=t.cloneNode(!1);if(1==t.nodeType){var n,r=fp(t),a=fp(i),o=r.data();for(n in o)a.data(n,o[n]);for(/^canvas$/i.test(t.tagName)?i.getContext("2d").drawImage(t,0,0):/^(?:input|select|textarea|option)$/i.test(t.tagName)&&(i.removeAttribute("id"),i.removeAttribute("name"),/^textarea$/i.test(t.tagName)||(i.value=t.value),i.checked=t.checked,i.selected=t.selected),n=t.firstChild;n;n=n.nextSibling)i.appendChild(e(n))}return i}:function(e){var t=function e(t){var i=t.cloneNode(!1);t._kendoExportVisual&&(i._kendoExportVisual=t._kendoExportVisual);for(var n=t.firstChild;n;n=n.nextSibling)i.appendChild(e(n));return i}(e),i=e.querySelectorAll("canvas");i.length&&np(t.querySelectorAll("canvas")).forEach((function(e,t){e.getContext("2d").drawImage(i[t],0,0)}));var n=e.querySelectorAll("input, select, textarea, option");return np(t.querySelectorAll("input, select, textarea, option")).forEach((function(e,t){e.removeAttribute("id"),e.removeAttribute("name"),/^textarea$/i.test(e.tagName)||(e.value=n[t].value),e.checked=n[t].checked,e.selected=n[t].selected})),t};function pp(e,t){t||(t={});var i=Wl();if(!e)return i.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");!function e(t,i){if(1==arguments.length)for(var n in t)Ed(t,n)&&e(n,t[n]);else switch(t=t.toLowerCase(),$d[t]=i,t){case"dejavu sans":$d["sans-serif"]=i;break;case"dejavu sans|bold":$d["sans-serif|bold"]=i;break;case"dejavu sans|italic":$d["sans-serif|italic"]=i;break;case"dejavu sans|bold|italic":$d["sans-serif|bold|italic"]=i;break;case"dejavu serif":$d.serif=i;break;case"dejavu serif|bold":$d["serif|bold"]=i;break;case"dejavu serif|italic":$d["serif|italic"]=i;break;case"dejavu serif|bold|italic":$d["serif|bold|italic"]=i;break;case"dejavu mono":$d.monospace=i;break;case"dejavu mono|bold":$d["monospace|bold"]=i;break;case"dejavu mono|italic":$d["monospace|italic"]=i;break;case"dejavu mono|bold|italic":$d["monospace|bold|italic"]=i}}(kp(e.ownerDocument));var n,r="number"==typeof(n=t.scale||1)?{x:n,y:n}:Array.isArray(n)?{x:n[0],y:n[1]}:{x:n.x,y:n.y};function a(e){var i,n,a=new ih,o=e.getBoundingClientRect();return Bp(a,[r.x,0,0,r.y,-o.left*r.x,-o.top*r.y]),ap._clipbox=!1,ap._matrix=Pc.unit(),ap._stackingContext={element:e,group:a},ap._avoidLinks=!0===t.avoidLinks?"a":t.avoidLinks,n="k-pdf-export",(i=e).classList?i.classList.add(n):i.className+=" "+n,ev(e,a),function(e,t){e.classList?e.classList.remove(t):e.className=e.className.split(/\s+/).reduce((function(e,i){return i!=t&&e.push(i),e}),[]).join(" ")}(e,"k-pdf-export"),a}return Ip(e,(function(){var n=t&&t.forcePageBreak,o=t&&t.paperSize&&"auto"!=t.paperSize,s=function(e){if("function"!=typeof e){var t=e;e=function(e,i){return e in t?t[e]:i}}var i=e("paperSize",Td.a4);if(!i)return{};if("string"==typeof i&&null==(i=Td[i.toLowerCase()]))throw new Error("Unknown paper size");i[0]=Ld(i[0]),i[1]=Ld(i[1]),e("landscape",!1)&&(i=[Math.max(i[0],i[1]),Math.min(i[0],i[1])]);var n=e("margin");return n&&(n="string"==typeof n||"number"==typeof n?{left:n=Ld(n,0),top:n,right:n,bottom:n}:{left:Ld(n.left,0),top:Ld(n.top,0),right:Ld(n.right,0),bottom:Ld(n.bottom,0)},e("addMargin")&&(i[0]+=n.left+n.right,i[1]+=n.top+n.bottom)),{paperSize:i,margin:n}}((function(e,i){return"paperSize"==e?o?t[e]:"A4":e in t?t[e]:i})),l=o&&s.paperSize[0],c=o&&s.paperSize[1],u=t.margin&&s.margin,h=Boolean(u);if(n||c){u||(u={left:0,top:0,right:0,bottom:0}),l&&(l/=r.x),c&&(c/=r.y),u.left/=r.x,u.right/=r.x,u.top/=r.y,u.bottom/=r.y;var f=new ih({pdf:{multiPage:!0,paperSize:o?s.paperSize:"auto",_ignoreMargin:h}});!function(e,t,i,n,r,a,o){var s=function(e){if(null!=e)return"string"==typeof e&&(e=function(){throw new Error("String template not yet supported.  Pass a function and use your preferred template engine.")}(e.replace(/^\s+|\s+$/g,""))),"function"==typeof e?function(t){var i=e(t);if(i&&"string"==typeof i){var n=document.createElement("div");n.innerHTML=i,i=n.firstElementChild}return i}:function(){return e.cloneNode(!0)}}(o.template),l=t.ownerDocument,c=[],u=o._destructive?t:dp(t),h=l.createElement("KENDO-PDF-DOCUMENT"),f=0;function d(){("-"!=i||r)&&function e(t){if("TABLE"==t.tagName&&lp(t,{tableLayout:"fixed"}),!p(t)){var n=Dp(t),a=parseFloat(Mp(n,"padding-bottom")),o=parseFloat(Mp(n,"border-bottom-width")),s=f;f+=a+o;for(var l=!0,c=t.firstChild;c;c=c.nextSibling)if(1==c.nodeType){if(l=!1,up(c,i)){v(c);continue}if(!r){e(c);continue}if(!/^(?:static|relative)$/.test(Mp(Dp(c),"position")))continue;var u=m(c);1==u||u&&p(c)?v(c):e(c)}else 3==c.nodeType&&r&&(y(c,l),l=!1);f=s}}(u);var t=g();u.parentNode.insertBefore(t,u),t.appendChild(u),s&&c.forEach((function(e,t){var i=s({element:e,pageNum:t+1,totalPages:c.length});i&&e.appendChild(i)})),Ip(c,(function(){!function(e,t){var i=0;function n(){--i<=0&&t()}e.forEach((function(e){for(var t=e.querySelectorAll("img"),r=0;r<t.length;++r){var a=t[r];a.complete||(i++,a.onload=a.onerror=n)}})),i||n()}(c,(function(){e({pages:c,container:h})}))}))}function p(e){return!!(o.keepTogether&&up(e,o.keepTogether)&&e.offsetHeight<=r-f)||!(/^h[1-6]$/i.test(e.tagName)&&e.offsetHeight>=r-f)&&(e.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(e.tagName))}function v(e){if(1==e.nodeType&&e!==u&&function(e){var t=e.parentNode,i=t.firstChild;if(e===i)return!0;if(e===t.children[0]){if(7==i.nodeType||8==i.nodeType)return!0;if(3==i.nodeType)return!/\S/.test(i.data)}return!1}(e))return v(e.parentNode);var t,i,n,r,a;i=(t=hp(e,"table"))&&t.querySelector("colgroup"),o.repeatHeaders&&(n=t&&t.querySelector("thead"),(r=hp(e,".k-grid.k-widget"))&&r.querySelector(".k-auto-scrollable")&&(a=r.querySelector(".k-grid-header")));var s=g(),c=l.createRange();c.setStartBefore(u),c.setEndBefore(e),s.appendChild(c.extractContents()),u.parentNode.insertBefore(s,u),b(e.parentNode),t&&(t=hp(e,"table"),o.repeatHeaders&&n&&t.insertBefore(n.cloneNode(!0),t.firstChild),i&&t.insertBefore(i.cloneNode(!0),t.firstChild)),o.repeatHeaders&&a&&(r=hp(e,".k-grid.k-widget")).insertBefore(a.cloneNode(!0),r.firstChild)}function g(){var e=l.createElement("KENDO-PDF-PAGE");return lp(e,{display:"block",boxSizing:"content-box",width:n?n+"px":"auto",padding:a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px",position:"relative",height:r?r+"px":"auto",overflow:r||n?"hidden":"visible",clear:"both"}),o&&o.pageClassName&&(e.className=o.pageClassName),c.push(e),e}function m(e){var t=e.getBoundingClientRect();if(0===t.width||0===t.height)return 0;var i=u.getBoundingClientRect().top,n=r-f;return t.height>n?3:t.top-i>n?1:t.bottom-i>n?2:0}function y(e,t){if(/\S/.test(e.data)){var i=e.data.length,n=l.createRange();n.selectNodeContents(e);var r=m(n);if(r){var a=e;if(1==r)v(t?e.parentNode:e);else if(function t(i,r,a){return n.setEnd(e,r),i==r||r==a?r:m(n)?t(i,i+r>>1,r):t(r,r+a>>1,a)}(0,i>>1,i),!/\S/.test(n.toString())&&t)v(e.parentNode);else{a=e.splitText(n.endOffset);var o=g();n.setStartBefore(u),o.appendChild(n.extractContents()),u.parentNode.insertBefore(o,u),b(a.parentNode)}y(a)}}}function b(e){var t=hp(e,"li");t&&(t.setAttribute("kendo-no-bullet","1"),b(t.parentNode))}np(u.querySelectorAll("tfoot")).forEach((function(e){e.parentNode.appendChild(e)})),np(u.querySelectorAll("ol")).forEach((function(e){np(e.children).forEach((function(e,t){e.setAttribute("kendo-split-index",t)}))})),lp(h,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),n&&(lp(h,{width:n+"px",paddingLeft:a.left+"px",paddingRight:a.right+"px"}),lp(u,{overflow:"hidden"})),t.parentNode.insertBefore(h,t),h.appendChild(u),o.beforePageBreak?setTimeout((function(){o.beforePageBreak(h,d)}),15):setTimeout(d,15)}((function(e){if(t.progress){var n=!1,r=0;!function o(){if(r<e.pages.length){var s=a(e.pages[r]);f.append(s),t.progress({page:s,pageNum:++r,totalPages:e.pages.length,cancel:function(){n=!0}}),n?e.container.parentNode.removeChild(e.container):setTimeout(o)}else e.container.parentNode.removeChild(e.container),i.resolve(f)}()}else e.pages.forEach((function(e){f.append(a(e))})),e.container.parentNode.removeChild(e.container),i.resolve(f)}),e,n,l?l-u.left-u.right:null,c?c-u.top-u.bottom:null,u,t)}else i.resolve(a(e))})),i}pp.getFontFaces=kp,pp.drawText=function(e){var t=new ih;return ap._clipbox=!1,ap._matrix=Pc.unit(),ap._stackingContext={element:e,group:t},Ep(e,Dp(e),t),3==e.firstChild.nodeType?Qp(e,e.firstChild,t):Kp(e,t),Ap(),t};var vp,gp=function(){var e=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,t=/^([-0-9.]+%)/,i=/^([-0-9.]+px)/,n=/^(left|right|top|bottom|to|center)\W/,r=/^([-0-9.]+(deg|grad|rad|turn)|0)/,a=/^(\s+)/,o=/^(\()/,s=/^(\))/,l=/^(,)/,c=/^(url)\(/,u=/^(.*?)\)/,h={},f={};function d(f){var d,p=f;if(Cp(h,p))return h[p];function v(e){!function(){var e=a.exec(f);e&&(f=f.substr(e[1].length))}();var t=e.exec(f);if(t)return f=f.substr(t[1].length),t[1]}function g(){var e,n,r=jl(f,!0);if(r){var a=/^#[0-9a-f]+/i.exec(f)||/^rgba?\(.*?\)/i.exec(f)||/^..*?\b/.exec(f);return f=f.substr(a[0].length),r=r.toRGB(),(e=v(i))||(n=v(t)),{color:r,length:e,percent:n}}}return(d=v(e))?d=function(e){var i,a,c,u=[],h=!1;if(v(o)){if("0"==(i=v(r))&&(i="0deg"),i?(i=function(e){var t=parseFloat(e);return/grad$/.test(e)?Math.PI*t/200:/rad$/.test(e)?t:/turn$/.test(e)?Math.PI*t*2:/deg$/.test(e)?Math.PI*t/180:void 0}(i),v(l)):("to"==(a=v(n))?a=v(n):a&&/^-/.test(e)&&(h=!0),c=v(n),v(l)),/-moz-/.test(e)&&null==i&&null==a){var d=v(t),p=v(t);h=!0,"0%"==d?a="left":"100%"==d&&(a="right"),"0%"==p?c="top":"100%"==p&&(c="bottom"),v(l)}for(;f&&!v(s);){var m=g();if(!m)break;u.push(m),v(l)}return{type:"linear",angle:i,to:a&&c?a+" "+c:a||c||null,stops:u,reverse:h}}}(d):(d=v(c))&&(d=function(){if(v(o)){var e=v(u);return e=e.replace(/^['"]+|["']+$/g,""),v(s),{type:"url",url:e}}}()),h[p]=d||{type:"none"}}return function(e){return Cp(f,e)?f[e]:f[e]=mp(e).map(d)}}(),mp=(vp={},function(e,t){t||(t=/^\s*,\s*/);var i=e+t;if(Cp(vp,i))return vp[i];var n,r=[],a=0,o=0,s=0,l=!1;function c(t){return n=t.exec(e.substr(o))}function u(e){return e.replace(/^\s+|\s+$/g,"")}for(;o<e.length;)!l&&c(/^[\(\[\{]/)?(s++,o++):!l&&c(/^[\)\]\}]/)?(s--,o++):!l&&c(/^[\"\']/)?(l=n[0],o++):"'"==l&&c(/^\\\'/)||'"'==l&&c(/^\\\"/)?o+=2:"'"==l&&c(/^\'/)||'"'==l&&c(/^\"/)?(l=!1,o++):c(t)?(!l&&!s&&o>a&&(r.push(u(e.substring(a,o))),a=o+n[0].length),o+=n[0].length):o++;return a<o&&r.push(u(e.substring(a,o))),vp[i]=r}),yp=function(e){return function(t){var i,n=e[t];return n||((i=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(t))||(i=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(t)))&&(n=e[t]=i[2]),n}}(Object.create(null)),bp=function(e){return function(t){var i=e[t];return null==i&&(i=e[t]=Ic("Mapq",{font:t}).height),i}}(Object.create(null));function kp(e){null==e&&(e=document);for(var t={},i=0;i<e.styleSheets.length;++i)n(e.styleSheets[i]);return t;function n(e){if(e){var t=null;try{t=e.cssRules}catch(i){}t&&function(e,t){for(var i=0;i<t.length;++i){var o=t[i];switch(o.type){case 3:n(o.styleSheet);break;case 5:var s=o.style,l=mp(Mp(s,"font-family")),c=/^([56789]00|bold)$/i.test(Mp(s,"font-weight")),u="italic"==Mp(s,"font-style"),h=r(o);h.length>0&&a(e,l,c,u,h[0])}}}(e,t)}}function r(e){var t=Mp(e.style,"src");if(t)return mp(t).reduce((function(e,t){var i=yp(t);return i&&e.push(i),e}),[]);var i=yp(e.cssText);return i?[i]:[]}function a(e,i,n,r,a){/^data:/i.test(a)||/^[^\/:]+:\/\//.test(a)||/^\//.test(a)||(a=String(e.href).replace(/[^\/]*$/,"")+a),i.forEach((function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2"),n&&(e+="|bold"),r&&(e+="|italic"),t[e]=a}))}}function Cp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wp(e,t){var i=ap;for(e="_counter_"+e;i&&!Cp(i,e);)i=Object.getPrototypeOf(i);i||(i=ap._root),i[e]=(i[e]||0)+(null==t?1:t)}function _p(e,t){ap[e="_counter_"+e]=null==t?0:t}function xp(e,t,i){for(var n=0;n<e.length;){var r=e[n++],a=parseFloat(e[n]);isNaN(a)?t(r,i):(t(r,a),++n)}}function Sp(e){var t=Mp(e,"counter-reset");t&&xp(mp(t,/^\s+/),_p,0);var i=Mp(e,"counter-increment");i&&xp(mp(i,/^\s+/),wp,1)}function Tp(e,t){var i=jl(e,!0);return i&&(i=i.toRGB(),t?i=i.toCssRgba():0===i.a&&(i=null)),i}function Ip(e,t){var i=[];function n(e){rp[e]||(rp[e]=!0,i.push(e))}function r(e){/^img$/i.test(e.tagName)&&n(e.src),gp(Mp(Dp(e),"background-image")).forEach((function(e){"url"==e.type&&n(e.url)})),e.children&&np(e.children).forEach(r)}Array.isArray(e)?e.forEach(r):r(e);var a=i.length;function o(){--a<=0&&t()}0===a&&o(),i.forEach((function(e){var t=rp[e]=new window.Image;/^data:/i.test(e)||(t.crossOrigin="Anonymous"),t.src=e,t.complete?o():(t.onload=o,t.onerror=function(){rp[e]=null,o()})}))}function Op(e){var t="";do{t=String.fromCharCode(97+e%26)+t,e=Math.floor(e/26)}while(e>0);return t}function Ep(e,t,i){(ap=Object.create(ap))[e.tagName.toLowerCase()]={element:e,style:t};var n=Mp(t,"text-decoration");if(n&&"none"!=n){var r=Mp(t,"color");n.split(/\s+/g).forEach((function(e){ap[e]||(ap[e]=r)}))}(function(e){function t(t){return Mp(e,t)}if("none"!=t("transform")||"static"!=t("position")||"auto"!=t("z-index")||t("opacity")<1)return!0})(t)&&(ap._stackingContext={element:e,group:i})}function Ap(){ap=Object.getPrototypeOf(ap)}function Rp(e){if(null!=ap._clipbox){var t=e.bbox(ap._matrix);ap._clipbox=ap._clipbox?Hc.intersect(ap._clipbox,t):t}}function Dp(e,t){return window.getComputedStyle(e,t||null)}function Mp(e,t,i){var n=e.getPropertyValue(t);return null!=n&&""!==n||(ip.webkit?n=e.getPropertyValue("-webkit-"+t):ip.mozilla?n=e.getPropertyValue("-moz-"+t):ip.opera?n=e.getPropertyValue("-o-"+t):op&&(n=e.getPropertyValue("-ms-"+t))),arguments.length>2&&(null==n||""===n)?i:n}function zp(e,t,i,n){e.setProperty(t,i,n),ip.webkit?e.setProperty("-webkit-"+t,i,n):ip.mozilla?e.setProperty("-moz-"+t,i,n):ip.opera?e.setProperty("-o-"+t,i,n):op&&(e.setProperty("-ms-"+t,i,n),e[t="ms"+t.replace(/(^|-)([a-z])/g,(function(e,t,i){return t+i.toUpperCase()}))]=i)}function Pp(e,t){return t="border-"+t,{width:parseFloat(Mp(e,t+"-width")),style:Mp(e,t+"-style"),color:Tp(Mp(e,t+"-color"),!0)}}function Fp(e,t){var i=e.style.cssText,n=t();return e.style.cssText=i,n}function Lp(e,t){var i=Mp(e,"border-"+t+"-radius").split(/\s+/g).map(parseFloat);return 1==i.length&&i.push(i[0]),Gp({x:i[0],y:i[1]})}function jp(e,t,i){var n,r,a,o,s;return"string"==typeof t?(n=Dp(i),r=parseFloat(Mp(n,t.replace("*","top"))),a=parseFloat(Mp(n,t.replace("*","right"))),o=parseFloat(Mp(n,t.replace("*","bottom"))),s=parseFloat(Mp(n,t.replace("*","left")))):"number"==typeof t&&(r=a=o=s=t),{top:e.top+r,right:e.right-a,bottom:e.bottom-o,left:e.left+s,width:e.right-e.left-a-s,height:e.bottom-e.top-o-r}}function Vp(e){return 180*e/Math.PI%360}function Bp(e,t){return t=new Pc(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(t),t}function Np(e,t){e.clip(t)}function Hp(e,t,i,n){for(var r=new hu([t,i],n).curvePoints(),a=1;a<r.length;)e.curveTo(r[a++],r[a++],r[a++])}function Gp(e){return(e.x<=0||e.y<=0)&&(e.x=e.y=0),e}function Wp(e,t,i,n,r){var a=Math.max(0,t.x),o=Math.max(0,t.y),s=Math.max(0,i.x),l=Math.max(0,i.y),c=Math.max(0,n.x),u=Math.max(0,n.y),h=Math.max(0,r.x),f=Math.max(0,r.y),d=Math.min(e.width/(a+s),e.height/(l+u),e.width/(c+h),e.height/(f+o));return d<1&&(a*=d,o*=d,s*=d,l*=d,c*=d,u*=d,h*=d,f*=d),{tl:{x:a,y:o},tr:{x:s,y:l},br:{x:c,y:u},bl:{x:h,y:f}}}function Up(e,t,i){var n=Dp(e),r=Lp(n,"top-left"),a=Lp(n,"top-right"),o=Lp(n,"bottom-left"),s=Lp(n,"bottom-right");if("padding"==i||"content"==i){var l=Pp(n,"top"),c=Pp(n,"right"),u=Pp(n,"bottom"),h=Pp(n,"left");if(r.x-=h.width,r.y-=l.width,a.x-=c.width,a.y-=l.width,s.x-=c.width,s.y-=u.width,o.x-=h.width,o.y-=u.width,"content"==i){var f=parseFloat(Mp(n,"padding-top")),d=parseFloat(Mp(n,"padding-right")),p=parseFloat(Mp(n,"padding-bottom")),v=parseFloat(Mp(n,"padding-left"));r.x-=v,r.y-=f,a.x-=d,a.y-=f,s.x-=d,s.y-=p,o.x-=v,o.y-=p}}return"number"==typeof i&&(r.x-=i,r.y-=i,a.x-=i,a.y-=i,s.x-=i,s.y-=i,o.x-=i,o.y-=i),qp(t,r,a,s,o)}function qp(e,t,i,n,r){var a=Wp(e,t,i,n,r),o=a.tl,s=a.tr,l=a.br,c=a.bl,u=new Xu({fill:null,stroke:null});return u.moveTo(e.left,e.top+o.y),o.x&&Hp(u,e.left+o.x,e.top+o.y,{startAngle:-180,endAngle:-90,radiusX:o.x,radiusY:o.y}),u.lineTo(e.right-s.x,e.top),s.x&&Hp(u,e.right-s.x,e.top+s.y,{startAngle:-90,endAngle:0,radiusX:s.x,radiusY:s.y}),u.lineTo(e.right,e.bottom-l.y),l.x&&Hp(u,e.right-l.x,e.bottom-l.y,{startAngle:0,endAngle:90,radiusX:l.x,radiusY:l.y}),u.lineTo(e.left+c.x,e.bottom),c.x&&Hp(u,e.left+c.x,e.bottom-c.y,{startAngle:90,endAngle:180,radiusX:c.x,radiusY:c.y}),u.close()}function Xp(e,t){var i=String(parseFloat(e));switch(t){case"decimal-leading-zero":return i.length<2&&(i="0"+i),i;case"lower-roman":return Gl(e).toLowerCase();case"upper-roman":return Gl(e).toUpperCase();case"lower-latin":case"lower-alpha":return Op(e-1);case"upper-latin":case"upper-alpha":return Op(e-1).toUpperCase();default:return i}}function Jp(e){if(e.cssText)return e.cssText;for(var t=[],i=0;i<e.length;++i)t.push(e[i]+": "+Mp(e,e[i]));return t.join(";\n")}function Yp(e,t){if("KENDO-PSEUDO-ELEMENT"!=e.tagName){var i=[];if(r(":before",e.firstChild),r(":after",null),i.length>0){var n=e.className;e.className+=" kendo-pdf-hide-pseudo-elements",Kp(e,t),e.className=n,i.forEach((function(t){e.removeChild(t)}))}else Kp(e,t)}else Kp(e,t);function r(t,n){var r=Dp(e,t),a=r.content;if(Sp(r),a&&"normal"!=a&&"none"!=a&&"0px"!=r.width){var o=e.ownerDocument.createElement("KENDO-PSEUDO-ELEMENT");o.style.cssText=Jp(r),o.textContent=function(e,t){function i(e,t,i){return i?(i=i.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),function(e){var t=[],i=ap;for(e="_counter_"+e;i;)Cp(i,e)&&t.push(i[e]),i=Object.getPrototypeOf(i);return t.reverse()}(e).map((function(e){return Xp(e,t)})).join(i)):Xp(function(e){return ap[e="_counter_"+e]}(e)||0,t)}var n,r=mp(t,/^\s+/),a=[];return r.forEach((function(t){var r;(n=/^\s*(["'])(.*)\1\s*$/.exec(t))?a.push(n[2].replace(/\\([0-9a-f]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))):(n=/^\s*counter\((.*?)\)\s*$/.exec(t))?(r=mp(n[1]),a.push(i(r[0],r[1]))):(n=/^\s*counters\((.*?)\)\s*$/.exec(t))?(r=mp(n[1]),a.push(i(r[0],r[2],r[1]))):(n=/^\s*attr\((.*?)\)\s*$/.exec(t))?a.push(e.getAttribute(n[1])||""):a.push(t)})),a.join("")}(e,a),e.insertBefore(o,n),i.push(o)}}}function Kp(e,t){var i=Dp(e),n=Pp(i,"top"),r=Pp(i,"right"),a=Pp(i,"bottom"),o=Pp(i,"left"),s=Lp(i,"top-left"),l=Lp(i,"top-right"),c=Lp(i,"bottom-left"),u=Lp(i,"bottom-right"),h=Mp(i,"direction"),f=Mp(i,"background-color");f=Tp(f);var d,p,v=gp(Mp(i,"background-image")),g=mp(Mp(i,"background-repeat")),m=mp(Mp(i,"background-position")),y=mp(Mp(i,"background-origin")),b=mp(Mp(i,"background-size"));op&&"ellipsis"==(d=i.textOverflow)&&(p=e.style.textOverflow,e.style.textOverflow="clip"),ip.msie&&ip.version<10&&(m=mp(e.currentStyle.backgroundPosition));var k,C,w,_=jp(e.getBoundingClientRect(),"border-*-width",e);!function(){var e=Mp(i,"clip"),n=/^\s*rect\((.*)\)\s*$/.exec(e);if(n){var r=n[1].split(/[ ,]+/g),a="auto"==r[0]?_.top:parseFloat(r[0])+_.top,o="auto"==r[1]?_.right:parseFloat(r[1])+_.left,s="auto"==r[2]?_.bottom:parseFloat(r[2])+_.top,l="auto"==r[3]?_.left:parseFloat(r[3])+_.left,c=new ih,u=(new Xu).moveTo(l,a).lineTo(o,a).lineTo(o,s).lineTo(l,s).close();Np(c,u),t.append(c),t=c,Rp(u)}}();var x=Mp(i,"display");if("table-row"==x)for(k=[],C=0,w=e.children;C<w.length;++C)k.push(w[C].getBoundingClientRect());else 1==(k=e.getClientRects()).length&&(k=[e.getBoundingClientRect()]);for(k=function(t){if(/^td$/i.test(e.tagName)){var i=ap.table;if(i&&"collapse"==Mp(i.style,"border-collapse")){var n=Pp(i.style,"left").width,r=Pp(i.style,"top").width;if(0===n&&0===r)return t;var a=i.element.getBoundingClientRect(),o=i.element.rows[0].cells[0].getBoundingClientRect();if(o.top==a.top||o.left==a.left)return np(t).map((function(e){return{left:e.left+n,top:e.top+r,right:e.right+n,bottom:e.bottom+r,height:e.height,width:e.width}}))}}return t}(k),C=0;C<k.length;++C)O(k[C],0===C,C==k.length-1);if("A"==e.tagName&&e.href&&!/^#?$/.test(e.getAttribute("href"))&&(!ap._avoidLinks||!up(e,ap._avoidLinks))){var S=document.createRange();S.selectNodeContents(e),np(S.getClientRects()).forEach((function(i){var n=new ih;n._pdfLink={url:e.href,top:i.top,right:i.right,bottom:i.bottom,left:i.left},t.append(n)}))}return k.length>0&&"list-item"==x&&!e.getAttribute("kendo-no-bullet")&&function(){var n=Mp(i,"list-style-type");if("none"!=n){var r=Mp(i,"list-style-position");switch(n){case"circle":case"disc":case"square":a((function(e){e.style.fontSize="60%",e.style.lineHeight="200%",e.style.paddingRight="0.5em",e.style.fontFamily="DejaVu Serif",e.innerHTML={disc:"\u25cf",circle:"\u25ef",square:"\u25a0"}[n]}));break;case"decimal":case"decimal-leading-zero":a((function(e){o((function(t){++t,"decimal-leading-zero"==n&&t<10&&(t="0"+t),e.innerHTML=t+"."}))}));break;case"lower-roman":case"upper-roman":a((function(e){o((function(t){t=Gl(t+1),"upper-roman"==n&&(t=t.toUpperCase()),e.innerHTML=t+"."}))}));break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":a((function(e){o((function(t){t=Op(t),/^upper/i.test(n)&&(t=t.toUpperCase()),e.innerHTML=t+"."}))}))}}function a(i){Fp(e,(function(){e.style.position="relative";var n=e.ownerDocument.createElement("KENDO-PSEUDO-ELEMENT");n.style.position="absolute",n.style.boxSizing="border-box","outside"==r?(n.style.width="6em",n.style.left="-6.8em",n.style.textAlign="right"):n.style.left="0px",i(n),e.insertBefore(n,e.firstChild),ev(n,t),e.removeChild(n)}))}function o(t){var i=e.parentNode.children,n=e.getAttribute("kendo-split-index");if(null!=n)return t(0|n,i.length);for(var r=0;r<i.length;++r)if(i[r]===e)return t(r,i.length)}}(),function(){function n(){var i=Up(e,_,"padding"),n=new ih;Np(n,i),t.append(n),t=n,Rp(i)}!function(e){return/^(?:textarea|select|input)$/i.test(e.tagName)}(e)?(/^(hidden|auto|scroll)/.test(Mp(i,"overflow"))||/^(hidden|auto|scroll)/.test(Mp(i,"overflow-x"))||/^(hidden|auto|scroll)/.test(Mp(i,"overflow-y")))&&n():n()}(),function(e,t){var i;if(e._kendoExportVisual)i=e._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&e.getAttribute(window.kendo.attr("role"))){var n=window.kendo.widgetInstance(window.kendo.jQuery(e));n&&(n.exportDOMVisual||n.exportVisual)&&(i=n.exportDOMVisual?n.exportDOMVisual():n.exportVisual())}if(!i)return!1;var r=new ih;r.children.push(i);var a=e.getBoundingClientRect();return r.transform(Uc().translate(a.left,a.top)),t.append(r),!0}(e,t)||function e(t,i){switch(ap._stackingContext.element===t&&(ap._stackingContext.group=i),t.tagName.toLowerCase()){case"img":Zp(t,t.src,i);break;case"canvas":try{Zp(t,t.toDataURL("image/png"),i)}catch(c){}break;case"textarea":case"input":case"select":!function(t,i){var n=t.tagName.toLowerCase();if("input"==n&&("checkbox"==t.type||"radio"==t.type))return function(e,t){var i=Mp(Dp(e),"color"),n=e.getBoundingClientRect();"checkbox"==e.type?(t.append(Xu.fromRect(new Hc([n.left+1,n.top+1],[n.width-2,n.height-2])).stroke(i,1)),e.checked&&t.append((new Xu).stroke(i,1.2).moveTo(n.left+.22*n.width,n.top+.55*n.height).lineTo(n.left+.45*n.width,n.top+.75*n.height).lineTo(n.left+.78*n.width,n.top+.22*n.width))):(t.append(new ru(new Zc([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-2,n.height-2)/2)).stroke(i,1)),e.checked&&t.append(new ru(new Zc([(n.left+n.right)/2,(n.top+n.bottom)/2],Math.min(n.width-8,n.height-8)/2)).fill(i).stroke(null)))}(t,i);var r,a=t.parentNode,o=t.ownerDocument,s=o.createElement("KENDO-PSEUDO-ELEMENT");if(s.style.cssText=Jp(Dp(t)),"input"==n&&(s.style.whiteSpace="pre"),"select"!=n&&"textarea"!=n||(s.style.overflow="auto"),"select"==n)if(t.multiple)for(var l=0;l<t.options.length;++l)(r=o.createElement("KENDO-PSEUDO-ELEMENT")).style.cssText=Jp(Dp(t.options[l])),r.style.display="block",r.textContent=t.options[l].textContent,s.appendChild(r);else(r=function(e){return e.selectedOptions&&e.selectedOptions.length>0?e.selectedOptions[0]:e.options[e.selectedIndex]}(t))&&(s.textContent=r.textContent);else s.textContent=t.value;a.insertBefore(s,t),s.scrollLeft=t.scrollLeft,s.scrollTop=t.scrollTop,t.style.display="none",e(s,i),t.style.display="",a.removeChild(s)}(t,i);break;default:for(var n=[],r=[],a=[],o=t.firstChild;o;o=o.nextSibling)switch(o.nodeType){case 3:/\S/.test(o.data)&&Qp(t,o,i);break;case 1:var s=Dp(o),l=Mp(s,"float");"static"!=Mp(s,"position")?a.push(o):"none"!=l?r.push(o):n.push(o)}sc(n,$p).forEach((function(e){ev(e,i)})),sc(r,$p).forEach((function(e){ev(e,i)})),sc(a,$p).forEach((function(e){ev(e,i)}))}}(e,t),op&&"ellipsis"==d&&(e.style.textOverflow=p),t;function T(e,i,n,r,a,o,s,l){if(!(n<=0)){var c,u=new ih;Bp(u,l),t.append(u),Gp(o),Gp(s),c=new Xu({fill:{color:e},stroke:null}),u.append(c),c.moveTo(o.x?Math.max(o.x,r):0,0).lineTo(i-(s.x?Math.max(s.x,a):0),0).lineTo(i-Math.max(s.x,a),n).lineTo(Math.max(o.x,r),n).close(),o.x&&h(r,o,[-1,0,0,1,o.x,0]),s.x&&h(a,s,[1,0,0,1,i-s.x,0])}function h(t,i,r){var a=Math.PI/2*t/(t+n),o={x:i.x-t,y:i.y-n},s=new Xu({fill:{color:e},stroke:null}).moveTo(0,0);Bp(s,r),Hp(s,0,i.y,{startAngle:-90,endAngle:-Vp(a),radiusX:i.x,radiusY:i.y}),o.x>0&&o.y>0?(s.lineTo(o.x*Math.cos(a),i.y-o.y*Math.sin(a)),Hp(s,0,i.y,{startAngle:-Vp(a),endAngle:-90,radiusX:o.x,radiusY:o.y,anticlockwise:!0})):o.x>0?s.lineTo(o.x,n).lineTo(0,n):s.lineTo(o.x,n).lineTo(o.x,0),u.append(s.close())}}function I(t,i,n,r,a,o,s){var l;if(n&&"none"!=n)if("url"==n.type){if(/^url\(\"data:image\/svg/i.test(n.url))return;var c=rp[n.url];c&&c.width>0&&c.height>0&&u(t,i,c.width,c.height,(function(e,t){e.append(new Qu(n.url,t))}))}else{if("linear"!=n.type)return;u(t,i,i.width,i.height,(l=n,function(e,t){var i=t.width(),n=t.height();switch(l.type){case"linear":var r=null!=l.angle?l.angle:Math.PI;switch(l.to){case"top":r=0;break;case"left":r=-Math.PI/2;break;case"bottom":r=Math.PI;break;case"right":r=Math.PI/2;break;case"top left":case"left top":r=-Math.atan2(n,i);break;case"top right":case"right top":r=Math.atan2(n,i);break;case"bottom left":case"left bottom":r=Math.PI+Math.atan2(n,i);break;case"bottom right":case"right bottom":r=Math.PI-Math.atan2(n,i)}l.reverse&&(r-=Math.PI),(r%=2*Math.PI)<0&&(r+=2*Math.PI);var a=Math.abs(i*Math.sin(r))+Math.abs(n*Math.cos(r)),o=Math.atan(i*Math.tan(r)/n),s=Math.sin(o),c=Math.cos(o),u=Math.abs(s)+Math.abs(c),h=u/2*s,f=u/2*c;r>Math.PI/2&&r<=3*Math.PI/2&&(h=-h,f=-f);var d=[],p=0,v=l.stops.map((function(e,t){var i=e.percent;i?i=parseFloat(i)/100:e.length?i=parseFloat(e.length)/a:0===t?i=0:t==l.stops.length-1&&(i=1);var n={color:e.color.toCssRgba(),offset:i};return null!=i?(p=i,d.forEach((function(e,t){e.stop.offset=e.left+(p-e.left)*(t+1)/(d.length+1)})),d=[]):d.push({left:p,stop:n}),n})),g=[.5-h,.5+f],m=[.5+h,.5-f];e.append(Xu.fromRect(t).stroke(null).fill(new Ah({start:g,end:m,stops:v,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}))}function u(t,i,n,l,c){var u,h=n/l,f=i;if("content-box"==o?(f=jp(f,"border-*-width",e),f=jp(f,"padding-*",e)):"padding-box"==o&&(f=jp(f,"border-*-width",e)),!/^\s*auto(\s+auto)?\s*$/.test(s))if("contain"==s)u=Math.min(f.width/n,f.height/l),n*=u,l*=u;else if("cover"==s)u=Math.max(f.width/n,f.height/l),n*=u,l*=u;else{var d=s.split(/\s+/g);n=/%$/.test(d[0])?f.width*parseFloat(d[0])/100:parseFloat(d[0]),l=1==d.length||"auto"==d[1]?n/h:/%$/.test(d[1])?f.height*parseFloat(d[1])/100:parseFloat(d[1])}var p=String(a);switch(p){case"bottom":p="50% 100%";break;case"top":p="50% 0";break;case"left":p="0 50%";break;case"right":p="100% 50%";break;case"center":p="50% 50%"}1==(p=p.split(/\s+/)).length&&(p[1]="50%"),p[0]=/%$/.test(p[0])?parseFloat(p[0])/100*(f.width-n):parseFloat(p[0]),p[1]=/%$/.test(p[1])?parseFloat(p[1])/100*(f.height-l):parseFloat(p[1]);var v=new Hc([f.left+p[0],f.top+p[1]],[n,l]);function g(){for(;v.origin.x>i.left;)v.origin.x-=n}function m(){for(;v.origin.y>i.top;)v.origin.y-=l}function y(){for(;v.origin.x<i.right;)c(t,v.clone()),v.origin.x+=n}if("no-repeat"==r)c(t,v);else if("repeat-x"==r)g(),y();else if("repeat-y"==r)for(m();v.origin.y<i.bottom;)c(t,v.clone()),v.origin.y+=l;else if("repeat"==r){g(),m();for(var b=v.origin.clone();v.origin.y<i.bottom;)v.origin.x=b.x,y(),v.origin.y+=l}}}function O(i,d,p){if(0!==i.width&&0!==i.height){!function(e){var i=new ih;if(Np(i,qp(e,s,l,u,c)),t.append(i),f){var n=new Xu({fill:{color:f.toCssRgba()},stroke:null});n.moveTo(e.left,e.top).lineTo(e.right,e.top).lineTo(e.right,e.bottom).lineTo(e.left,e.bottom).close(),i.append(n)}for(var r=v.length;--r>=0;)I(i,e,v[r],g[r%g.length],m[r%m.length],y[r%y.length],b[r%b.length])}(i);var k=o.width>0&&(d&&"ltr"==h||p&&"rtl"==h),C=r.width>0&&(p&&"ltr"==h||d&&"rtl"==h);if(0!==n.width||0!==o.width||0!==r.width||0!==a.width){if(n.color==r.color&&n.color==a.color&&n.color==o.color&&n.width==r.width&&n.width==a.width&&n.width==o.width&&k&&C){i=jp(i,n.width/2);var w=Up(e,i,n.width/2);return w.options.stroke={color:n.color,width:n.width},void t.append(w)}if(0===s.x&&0===l.x&&0===u.x&&0===c.x&&n.width<2&&o.width<2&&r.width<2&&a.width<2)return n.width>0&&t.append(new Xu({stroke:{width:n.width,color:n.color}}).moveTo(i.left,i.top+n.width/2).lineTo(i.right,i.top+n.width/2)),a.width>0&&t.append(new Xu({stroke:{width:a.width,color:a.color}}).moveTo(i.left,i.bottom-a.width/2).lineTo(i.right,i.bottom-a.width/2)),k&&t.append(new Xu({stroke:{width:o.width,color:o.color}}).moveTo(i.left+o.width/2,i.top).lineTo(i.left+o.width/2,i.bottom)),void(C&&t.append(new Xu({stroke:{width:r.width,color:r.color}}).moveTo(i.right-r.width/2,i.top).lineTo(i.right-r.width/2,i.bottom)));var _=Wp(i,s,l,u,c),x=_.tl,S=_.tr,O=_.br,E=_.bl;T(n.color,i.width,n.width,o.width,r.width,x,S,[1,0,0,1,i.left,i.top]),T(a.color,i.width,a.width,r.width,o.width,O,E,[-1,0,0,-1,i.right,i.bottom]),T(o.color,i.height,o.width,a.width,n.width,A(E),A(x),[0,-1,1,0,i.left,i.bottom]),T(r.color,i.height,r.width,n.width,a.width,A(S),A(O),[0,1,-1,0,i.right,i.top])}}function A(e){return{x:e.y,y:e.x}}}}function Zp(e,t,i){var n=function(e){var t=e.getBoundingClientRect();return t=jp(t,"border-*-width",e),jp(t,"padding-*",e)}(e),r=new Hc([n.left,n.top],[n.width,n.height]),a=new Qu(t,r);Np(a,Up(e,n,"content")),i.append(a)}function $p(e,t){var i=Dp(e),n=Dp(t),r=parseFloat(Mp(i,"z-index")),a=parseFloat(Mp(n,"z-index")),o=Mp(i,"position"),s=Mp(n,"position");return isNaN(r)&&isNaN(a)?/static|absolute/.test(o)&&/static|absolute/.test(s)?0:"static"==o?-1:"static"==s?1:0:isNaN(r)?0===a?0:a>0?-1:1:isNaN(a)?0===r?0:r>0?1:-1:parseFloat(r)-parseFloat(a)}function Qp(e,t,i){if(null!=(n=ap._clipbox)&&!(n?0===n.width()||0===n.height():void 0)){var n,r=Dp(e);if(!(parseFloat(Mp(r,"text-indent"))<-500)){var a=t.data,o=0,s=a.search(/\S\s*$/)+1;if(s){var l=Mp(r,"font-size"),c=Mp(r,"line-height"),u=[Mp(r,"font-style"),Mp(r,"font-variant"),Mp(r,"font-weight"),l,Mp(r,"font-family")].join(" ");if(l=parseFloat(l),c=parseFloat(c),0!==l){var h=Mp(r,"color"),f=e.ownerDocument.createRange(),d="justify"==Mp(r,"text-align"),p=Mp(r,"column-count",1),v=Mp(r,"white-space"),g=Mp(r,"text-transform"),m=e.getBoundingClientRect().width/l*5;0===m&&(m=500);for(var y=null,b=ap.underline,k=ap["line-through"],C=ap.overline,w=b||k||C;!x(););return void(w&&(f.selectNode(t),np(f.getClientRects()).forEach((function(e){function t(t,n){if(t){var r=l/12,a=new Xu({stroke:{width:r,color:t}});a.moveTo(e.left,n-=r).lineTo(e.right,n),i.append(a)}}t(b,e.bottom),t(k,e.bottom-e.height/2.7),t(C,e.top)}))))}}}}function _(e){if(op||ip.chrome){for(var t=e.getClientRects(),i={top:1/0,right:-1/0,bottom:-1/0,left:1/0},n=!1,r=0;r<t.length;++r){var a=t[r];a.width<=1||a.bottom===y||(i.left=Math.min(a.left,i.left),i.top=Math.min(a.top,i.top),i.right=Math.max(a.right,i.right),i.bottom=Math.max(a.bottom,i.bottom),n=!0)}return n?(i.width=i.right-i.left,i.height=i.bottom-i.top,i):e.getBoundingClientRect()}return e.getBoundingClientRect()}function x(){var e,n=o,r=a.substr(o).search(/\S/);if(o+=r,r<0||o>=s)return!0;f.setStart(t,o),f.setEnd(t,o+1),e=_(f);var l=!1;if((d||p>1)&&(r=a.substr(o).search(/\s/))>=0){f.setEnd(t,o+r);var b=_(f);b.bottom==e.bottom&&(e=b,l=!0,o+=r)}if(!l){if((r=function i(n,r,a){f.setEnd(t,r);var o=_(f);return o.bottom!=e.bottom&&n<r?i(n,n+r>>1,r):o.right!=e.right?(e=o,r<a?i(r,r+a>>1,a):r):r}(o,Math.min(s,o+m),s))==o)return!0;if(o=r,0===(r=f.toString().search(/\s+$/)))return!1;r>0&&(f.setEnd(t,f.startOffset+r),e=_(f))}op&&(e=f.getClientRects()[0]);var k=f.toString();if(/^(?:pre|pre-wrap)$/i.test(v)){if(/\t/.test(k)){var C=0;for(r=n;r<f.startOffset;++r){var w=a.charCodeAt(r);9==w?C+=8-C%8:10==w||13==w?C=0:C++}for(;(r=k.search("\t"))>=0;){var x="        ".substr(0,8-(C+r)%8);k=k.substr(0,r)+x+k.substr(r+1)}}}else k=k.replace(/\s+/g," ");l||(y=e.bottom),function(e,t){if(op&&!isNaN(c)){var n=bp(u),r=(t.top+t.bottom-n)/2;t={top:r,right:t.right,bottom:r+n,left:t.left,height:n,width:t.right-t.left}}switch(g){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break;case"capitalize":e=e.replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()}))}var a=new sp(e,new Hc([t.left,t.top],[t.width,t.height]),{font:u,fill:{color:h}});i.append(a)}(k,e)}}function ev(e,t){var i=Dp(e);if(Sp(i),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(e.tagName)&&null!=ap._clipbox){var n=parseFloat(Mp(i,"opacity")),r=Mp(i,"visibility"),a=Mp(i,"display");if(0!==n&&"hidden"!=r&&"none"!=a){var o,s=function(e){var t=Mp(e,"transform");if("none"==t)return null;var i=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(t);if(i){var n=Mp(e,"transform-origin");return{matrix:i=i[1].split(/\s*,\s*/g).map(parseFloat),origin:n=n.split(/\s+/g).map(parseFloat)}}}(i),l=Mp(i,"z-index");(s||n<1)&&"auto"==l&&(l=0),o=function(e,t,i){var n;"auto"!=i?(n=ap._stackingContext.group,i=parseFloat(i)):(n=t,i=0);for(var r=n.children,a=0;a<r.length&&!(null!=r[a]._dom_zIndex&&r[a]._dom_zIndex>i);++a);var o=new ih;if(n.insert(a,o),o._dom_zIndex=i,n!==t&&ap._clipbox){var s=ap._matrix.invert(),l=ap._clipbox.transformCopy(s);Np(o,Xu.fromRect(l))}return o}(0,t,l),n<1&&o.opacity(n*o.opacity()),Ep(e,i,o),s?Fp(e,(function(){zp(e.style,"transform","none","important"),zp(e.style,"transition","none","important"),"static"==Mp(i,"position")&&zp(e.style,"position","relative","important");var t=e.getBoundingClientRect(),n=t.left+s.origin[0],r=t.top+s.origin[1],a=[1,0,0,1,-n,-r];a=tv(a,s.matrix),a=tv(a,[1,0,0,1,n,r]),a=Bp(o,a),ap._matrix=ap._matrix.multiplyCopy(a),Yp(e,o)})):Yp(e,o),Ap()}}}function tv(e,t){var i=e[0],n=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=t[0],c=t[1],u=t[2],h=t[3];return[i*l+n*u,i*c+n*h,r*l+a*u,r*c+a*h,o*l+s*u+t[4],o*c+s*h+t[5]]}function iv(e){return"string"==typeof e}var nv=/\{(\d+)}?\}/g,rv=function(){function e(t){var i=t.name,n=t.message;if(_classCallCheck(this,e),!i||!n)throw new Error("{ name: string, message: string } object is required!");this.name=i,this.message=n}return _createClass(e,[{key:"formatMessage",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=av(t),r=this.message.replace(nv,(function(e,t){return n[parseInt(t,10)]}));return"".concat(this.name,": ").concat(r)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new Error(this.formatMessage(t))}}]),e}(),av=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},ov=function(e){return Object.keys(e).reduce((function(t,i){return t[i]=new rv({name:i,message:e[i]}),t}),{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."}),sv={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function lv(e){return iv(e)?cv(e):e}function cv(e){if(sv[e])return sv[e];if(sv.supplemental.likelySubtags){var t=e.split("-"),i=t[0],n=t.slice(1),r=function(e,t){for(var i=sv.supplemental.likelySubtags,n=0;n<t.length;n++){var r=i[e+"-"+t[n]];if(r)return r}if(i[e])return i[e]}(i,n),a=r?function(e,t){var i=e.split("-"),n=i[0],r=i[1],a=i[2];return sv[e]||-1!==t.indexOf(a)&&sv[n+"-"+a]||-1!==t.indexOf(r)&&sv[n+"-"+r]||sv[n]}(r,n):null;if(a)return a}throw ov.NoLocale.error(e)}function uv(e){if(e.territory)return e.territory;var t,i=e.identity;return t=i&&i.territory?i.territory:function(e,t){var i=sv.supplemental.likelySubtags,n=e.split("-");if(i){var r=i[e]||i[n[0]];r&&(n=r.split("-"))}if(t)for(var a=n.length-1;a>=1;a--){var o=n[a];o!==t.variant&&o!==t.script||n.splice(a,1)}var s=n.length;if(s>1)return n[s-1].toUpperCase()}(e.name,i),e.territory=t,t}function hv(e,t){var i,n=t.type,r=t.nameType,a=t.standAlone,o=t.lower,s=(o?"lower-":"")+r,l=lv(e).calendar[n][a?"stand-alone":"format"],c=l[s];return!c&&o&&(c=l[s]=(i=l[r],Array.isArray(i)?function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].toLowerCase());return t}(i):function(e){var t={};for(var i in e)t[i]=e[i].toLowerCase();return t}(i))),c}function fv(e){var t=e.split("-"),i=parseInt(t[0],10),n=parseInt(t[1],10)-1,r=parseInt(t[2],10);return new Date(i,n,r)}var dv=ov.NoCurrency,pv=ov.NoCurrencyDisplay,vv=ov.NoSupplementalCurrency,gv=ov.NoCurrencyRegion,mv=ov.NoValidCurrency,yv={"001":"USD",150:"EUR"};function bv(e,t,i){var n=lv(e).numbers.currencies;if(n){var r=n[t];if(r)return r;if(i)throw pv.error()}else if(i)throw dv.error()}function kv(e,t){return t.length-e.length}function Cv(e,t){var i=lv(e),n=i.numbers;if(!n.localeCurrency){var r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(yv[e])return yv[e];var i=sv.supplemental.currencyData;if(i){var n=i.region[e];if(n)return function(e){for(var t,i,n,r,a=0;a<e.length;a++){var o=e[a],s=Object.keys(o)[0],l=o[s];if("XXX"!==s&&"false"!==l._tender&&l._from)if(l._to){if(!n){var c=fv(l._from),u=fv(l._to);(!i||i.to<u||i.from<c)&&(t=s,i={from:c,to:u})}}else{var h=fv(l._from);(!r||r<h)&&(n=s,r=h)}}return n||t}(n);if(t)throw gv.error(e)}else if(t)throw vv.error()}(uv(i),t);if(!r&&t)throw mv.error(i.name);n.localeCurrency=r}return n.localeCurrency}var wv=["sun","mon","tue","wed","thu","fri","sat"],_v=ov.NoWeekData,xv=ov.NoFirstDay;function Sv(e){var t=lv(e);if(!isNaN(t.firstDay))return t.firstDay;var i=sv.supplemental.weekData;if(!i)throw _v.error();var n=i.firstDay[uv(t)]||i.firstDay["001"];if(!n)throw xv.error();return t.firstDay=wv.indexOf(n),t.firstDay}var Tv=ov.NoWeekData;function Iv(e){return 1/e==-1/0}function Ov(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.currency||(t.currency=Cv(e,!0)),function(e,t){var i=t.value,n=t.currency,r=t.currencyDisplay,a=void 0===r?"symbol":r;if("code"===a)return n;var o=bv(e,n,!0);return"symbol"===a?o["symbol-alt-narrow"]||o.symbol:void 0===typeof i||1!==i?o["displayName-count-other"]:o["displayName-count-one"]}(e,t)}function Ev(e,t,i,n,r){var a=r.numbers.symbols,o=e.indexOf(a.decimal),s=n.groupSize.slice(),l=s.shift(),c=-1!==o?o:i+1,u=e.substring(t,c),h=e,f=u.length;if(f>=l){for(var d=f,p=[];d>-1;){var v=u.substring(d-l,d);v&&p.push(v),d-=l;var g=s.shift();if(0===(l=void 0!==g?g:l)){(v=u.substring(0,d))&&p.push(v);break}}u=p.reverse().join(a.group),h=e.substring(0,t)+u+e.substring(c)}return h}function Av(e){return"currency"===e||"accounting"===e}function Rv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t-String(e).length,r=e;if(n>0){var a=new Array(n+1).join("0");r=i?e+a:a+e}return r}function Dv(e,t){var i=e,n=t||0;return i=i.toString().split("e"),i=(i=Math.round(Number(i[0]+"e"+(i[1]?Number(i[1])+n:n)))).toString().split("e"),(i=Number(i[0]+"e"+(i[1]?Number(i[1])-n:-n))).toFixed(Math.min(n,20))}var Mv=/0+$/,zv=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function Pv(e,t){var i=e.format;-1!==i.indexOf("%")&&(e.style="percent",e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==i.indexOf("$")&&(e.style="currency",e.symbol=Ov(t))}function Fv(e){var t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){var i=e.literals=[];e.format=t.replace(zv,(function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return i.push(n),"__??__"}))}}var Lv=/(\.(?:[0-9]*[1-9])?)0+$/g,jv=/\.$/,Vv=/\,/g;function Bv(e,t,i){return-1===e&&-1!==t?t:-1!==e&&-1===t?e:i?Math.min(e,t):Math.max(e,t)}var Nv=/^(n|c|p|e|a)(\d*)$/i;function Hv(e){return iv(e)?function(e){var t=Nv.exec(e);if(t){var i={style:"decimal"},n=t[1].toLowerCase();return"c"===n?i.style="currency":"a"===n?i.style="accounting":"p"===n?i.style="percent":"e"===n&&(i.style="scientific"),t[2]&&(i.minimumFractionDigits=i.maximumFractionDigits=parseInt(t[2],10)),i}}(e):e}function Gv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(null==e)return"";if(!isFinite(e))return String(e);var n=cv(i),r=Hv(t);return r?function(e,t,i){var n=i.numbers.symbols,r=t.style,a=Av(r);if("scientific"===r)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(".",n.decimal);var o,s=e;a&&(t.value=s,o=Ov(i,t)),"percent"===r&&(s*=100,o=n.percentSign);var l=function(e){var t,i=e.minimumFractionDigits,n=e.maximumFractionDigits,r=e.style,a=Av(r);return a&&(t=function(e){var t=2,i=2,n=((sv.supplemental.currencyData||{}).fractions||{})[e];return n&&n._digits&&(i=t=parseInt(n._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:i}}(e.currency)),void 0===i&&(i=a?t.minimumFractionDigits:0),void 0===n&&(n="percent"===r?Math.max(i,0):a?Math.max(i,t.maximumFractionDigits):Math.max(i,3)),{minimumFractionDigits:i,maximumFractionDigits:n}}(t),c=l.minimumFractionDigits,u=(s=Dv(s,l.maximumFractionDigits))<0,h=Iv(e),f=s.split("."),d=f[0],p=Rv(f[1]?f[1].replace(Mv,""):"",c,!0);u&&(d=d.substring(1)),t.minimumIntegerDigits&&(d=Rv(d,t.minimumIntegerDigits));var v,g=!1!==t.useGrouping?Ev(d,0,d.length,t,i):d;if(p&&(g+=n.decimal+p),a&&"name"===t.currencyDisplay)v=function(e,t){var i=e.numbers.currency,n=1!==t?i["unitPattern-count-other"]:i["unitPattern-count-one"];return t<0&&(n=n.replace("n","-n")),n}(i,e);else{var m=t.patterns;v=u||h?m[1]||"-"+m[0]:m[0]}return"n"!==v||u?function(e,t,i){for(var n="",r=0,a=t.length;r<a;r++){var o=t.charAt(r);n+="n"===o?e:"$"===o||"%"===o?i:o}return n}(g,v,o):g}(e,Object.assign({},n.numbers[r.style||"decimal"],r),n):function(e,t,i){var n={negative:e<0,number:Math.abs(e),negativeZero:Iv(e),format:t};return function(e){var t=e.number,i=e.format;if(i=i.split(";"),(e.negative||e.negativeZero)&&i[1])i=i[1],e.hasNegativeFormat=!0;else if(0===t){var n=i[2];i=n||i[0],n&&function(e){return-1===e.indexOf("#")&&-1===e.indexOf("0")}(n)&&(e.constant=n)}else i=i[0];e.format=i}(n),n.constant?n.constant:(Fv(n),Pv(n,i),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(Vv,""))}(n),function(e){var t,i,n,r=e.number,a=e.format,o=a.indexOf(".");if(-1!==o){var s=a.lastIndexOf("0")-o,l=a.lastIndexOf("#")-o,c=s>-1,u=l>-1,h=r.toString().split("e"),f=(h=(h=h[1]?Dv(r,Math.abs(h[1])):h[0]).split(".")[1]||"").length,d=-1;c||u?c&&s>l?f=s:l>s&&(u&&f>l?f=l:c&&f<s&&(f=s),d=c?s:0):(e.format=a.substring(0,o)+a.substring(o+1),o=-1,f=0),f>-1&&(r=Dv(r,f),d>-1&&(t=r,n=0===(i=d)?Lv:new RegExp("(\\.[0-9]{".concat(i,"}[1-9]*)0+$"),"g"),r=t.replace(n,"$1").replace(jv,"")))}else r=Dv(r);e.negative&&-1*r>=0&&!e.negativeZero&&(e.negative=!1),e.number=r,e.decimalIndex=o}(n),function(e){var t=e.format,i=t.indexOf("#"),n=t.indexOf("0"),r=Bv(i,n,!0),a=Bv(i=t.lastIndexOf("#"),n=t.lastIndexOf("0"));r===t.length&&(a=r),e.start=r,e.end=a,e.lastZeroIndex=n}(n),function(e,t){var i=e.number;return-1!==e.start&&(i=function(e,t){var i=e;if(t)for(var n=t.length,r=0;r<n;r++)i=i.replace("__??__",t[r]);return i}(i=function(e,t,i){var n=e;if("currency"===t||"percent"===t){n="";for(var r=0,a=e.length;r<a;r++){var o=e.charAt(r);n+="$"===o||"%"===o?i:o}}return n}(i=function(e,t){var i=e.start,n=e.end,r=e.negative,a=e.negativeZero,o=e.format,s=e.decimalIndex,l=e.lastZeroIndex,c=e.hasNegativeFormat,u=e.hasGroup,h=e.number,f=h.toString().split("."),d=o.length,p=f[0],v=f[1]||"",g=p.length,m="";h=o.substring(0,i),!r&&!a||c||(h+="-");for(var y=i;y<d;y++){var b=o.charAt(y);if(-1===s){if(n-y<g){h+=p;break}}else if(-1!==l&&l<y&&(m=""),s-y<=g&&s-y>-1&&(h+=p,y=s),s===y){h+=(v?t.numbers.symbols.decimal:"")+v,y+=n-s+1;continue}"0"===b?(h+=b,m=b):"#"===b&&(h+=m)}return u&&(h=Ev(h,i+(r&&!c?1:0),Math.max(n,g+i),t.numbers.decimal,t)),n>=i&&(h+=o.substring(n+1)),h}(e,t),e.style,e.symbol),e.literals)),i}(n,i))}(e,t,n)}function Wv(e){return"number"==typeof e}var Uv=/[eE][\-+]?[0-9]+/,qv=/\u00A0/g;function Xv(e,t){if(t.length>1){var i=(t[1]||"").replace("$","").split("n");if(e.indexOf(i[0])>-1&&e.indexOf(i[1])>-1)return e.replace(i[0],"").replace(i[1],"")}}var Jv=/\{(\d+)}/g;function Yv(e){var t=arguments;return e.replace(Jv,(function(e,i){return t[parseInt(i,10)+1]}))}var Kv=[2,1,5,3,4],Zv=(_defineProperty(n={},(-2).toString(),8),_defineProperty(n,(-1).toString(),6),_defineProperty(n,2..toString(),6),_defineProperty(n,1..toString(),3),n),$v={numeric:1,"2-digit":2,short:3,long:4,narrow:5},Qv=/[hHmsSzZoOvVxX]/,eg=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],tg={e:"c",E:"c",M:"L",Q:"q"},ig={},ng={};function rg(e){return ig[e]||(ig[e]=new RegExp(e+"+")),ig[e]}function ag(e){for(var t=[],i=e.charAt(0),n=i,r=1;r<e.length;r++){var a=e.charAt(r);a===n?i+=a:(t.push(i),i=n=a)}return t.push(i),t}function og(e,t){var i,n,r=e.length,a=-Number.MAX_VALUE;for(var o in t){for(var s=[],l=o.replace("v","z"),c=0,u=0;u<r;u++){var h=e[u],f=(rg(h[0]).exec(l)||[])[0];if(f){if(l=l.replace(f,""),f.length!==h.length){var d=Math.max(Math.min(Kv[f.length]-Kv[h.length],2),-2);c-=Zv[d]}}else c-=120;if(s.push(f),c<a)break}l.length&&(c-=20*ag(l).length),c>a&&(a=c,i=s,n=t[o])}n=n.replace("v","z");for(var p=0;p<r;p++){var v=i[p];if(v&&v!==e[p]){var g=i[p][0];n=n.replace(rg(g),e[p]),tg[g]&&(n=n.replace(rg(tg[g]),e[p]))}}return n}function sg(e,t){var i,n=t.calendar;if(iv(e))i=n.patterns[e]?n.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;var r=e.skeleton;r||(e.datetime?i=Yv(n.dateTimeFormats[e.datetime],n.timeFormats[e.datetime],n.dateFormats[e.datetime]):e.date?i=n.dateFormats[e.date]:e.time?i=n.timeFormats[e.time]:r=function(e){for(var t=[],i=0;i<eg.length;i++){var n=eg[i],r=e[n.key];if(r){var a=n.specifier||n.getSpecifier(e);t.push(a.repeat($v[r]))}}return t.join("")}(e)),r&&(i=function(e,t){var i=t.calendar.dateTimeFormats.availableFormats;if(i[e])return i[e];if(ng[t.name]&&ng[t.name][e])return ng[t.name][e];var n,r=e.search(Qv);if(r>0){var a=e.substr(0,r),o=e.substr(r);n=Yv(t.calendar.dateTimeFormats.short,i[o]||og(ag(o),i),i[a]||og(ag(a),i))}else n=og(ag(e),i);return function(e,t,i){ng[i]||(ng[i]={}),ng[i][e]=t}(e,n,t.name),n}(r,t))}return i||(i=n.patterns.d),i}function lg(e){var t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function cg(e,t,i,n,r){return hv(e,{type:t,nameType:lg(i),standAlone:n,lower:r})}function ug(e){return"function"==typeof e}function hg(e){return Boolean(e)&&ug(e.getTime)&&ug(e.getMonth)}var fg={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},dg=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function pg(e,t,i,n){return t<=2?Rv(e+1,t):cg(i,"months",t,n)[e]}function vg(e,t,i,n){var r=Math.floor(e.getMonth()/3);return t<3?r+1:cg(i,"quarters",t,n)[r]}function gg(e,t,i){var n=i.shortHours,r=i.optionalMinutes,a=i.separator,o=i.localizedName,s=i.zZeroOffset,l=e.getTimezoneOffset()/60;if(0===l&&s)return"Z";var c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),h=u[1]||0,f=c+(n?u[0]:Rv(u[0],2));return!h&&r||(f+=(a?":":"")+Rv(h,2)),o&&(f=Yv(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,f)),f}function mg(e,t,i,n){var r,a;return t<3?(r=e.getDay(),a=Sv(i),(r<a?7-a+r:r-a)+1):cg(i,"days",t,n)[e.getDay()]}var yg,bg=((yg={d:function(e,t){return Rv(e.getDate(),t)},E:function(e,t,i){return cg(i,"days",t)[e.getDay()]},M:function(e,t,i){return pg(e.getMonth(),t,i,!1)},L:function(e,t,i){return pg(e.getMonth(),t,i,!0)},y:function(e,t){var i=e.getFullYear();return 2===t&&(i%=100),Rv(i,t)},h:function(e,t){return Rv(e.getHours()%12||12,t)},H:function(e,t){return Rv(e.getHours(),t)},k:function(e,t){return Rv(e.getHours()||24,t)},K:function(e,t){return Rv(e.getHours()%12,t)},m:function(e,t){return Rv(e.getMinutes(),t)},s:function(e,t){return Rv(e.getSeconds(),t)},S:function(e,t){return 0!==e.getMilliseconds()?String(e.getMilliseconds()/1e3).split(".")[1].substr(0,t):Rv("",t)},a:function(e,t,i){return cg(i,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},z:function(e,t,i){return gg(e,i,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Z:function(e,t,i){return gg(e,i,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},x:function(e,t,i){return gg(e,i,{optionalMinutes:1===t,separator:3===t||5===t})},X:function(e,t,i){return gg(e,i,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},G:function(e,t,i){var n=e.getFullYear()>=0?1:0;return cg(i,"eras",t)[n]}}).e=mg,yg.c=function(e,t,i){return mg(e,t,i,!0)},yg.q=function(e,t,i){return vg(e,t,i,!0)},yg.Q=vg,yg);function kg(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(!hg(e))return null==e?"":e;var n=cv(i);return sg(t,n).replace(dg,(function(t){var i=t.length;return t.includes("'")||t.includes('"')?t.slice(1,i-1):bg[t[0]](e,i,n)}))}function Cg(e,t,i){var n=e.getTimezoneOffset(),r=new Date(e.getTime()+6e4*(t-i)),a=r.getTimezoneOffset();return new Date(r.getTime()+6e4*(a-n))}var wg=/([+|\-]\d{1,2})(:?)(\d{2})?/,_g=/^\/Date\((.*?)\)\/$/,xg=/[+-]\d*/,Sg={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},Tg=/\d+/,Ig=/^ */,Og=/ *$/,Eg=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],Ag=["G","g","F","Y","y","M","m","D","d","y","T","t"];function Rg(e,t,i){return!(e>=t&&e<=i)}function Dg(e,t){for(var i=t.format,n=t.idx,r=0;i[n]===e;)r++,n++;return r>0&&(n-=1),t.idx=n,r}function Mg(e,t){var i=e?Sg[e]||new RegExp("^\\d{1,"+e+"}"):Tg,n=t.value.substr(t.valueIdx,e).match(i);return n?(n=n[0],t.valueIdx+=n.length,parseInt(n,10)):null}function zg(e,t,i){for(var n,r,a,o=0,s=e.length,l=0,c=0;o<s;o++)r=(n=e[o]).length,a=t.value.substr(t.valueIdx,r),i&&(a=a.toLowerCase()),a===n&&r>l&&(l=r,c=o);return l?(t.valueIdx+=l,c+1):null}function Pg(e){var t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function Fg(e,t,i){var n=i.shortHours,r=i.noSeparator,a=i.optionalMinutes,o=i.localizedName,s=i.zLiteral;if(e.UTC=!0,s&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(o&&!zg(function(e){var t=e.gmtFormat,i=e.gmtZeroFormat;if(!t)throw ov.NoGMTInfo.error();return[t.replace("{0}","").toLowerCase(),i.replace("{0}","").toLowerCase()]}(t.calendar),e,!0))return!0;var l=wg.exec(e.value.substr(e.valueIdx,6));if(!l)return!o;var c=l[1],u=l[3],h=parseInt(c,10),f=l[2],d=parseInt(u,10);return!!(isNaN(h)||!n&&3!==c.length||!a&&isNaN(d)||r&&f)||(isNaN(d)&&(d=null),!!(Rg(h,-12,13)||d&&Rg(d,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=h,void(e.minutesOffset=d)))}function Lg(e,t,i){var n=Dg(e,t),r=cg(i,"months",n,"L"===e,!0),a=n<3?Mg(2,t):zg(r,t,!0);if(null===a||Rg(a,1,12))return!0;t.month=a-1}function jg(e,t,i){var n=Dg(e,t),r=cg(i,"days",n,"c"===e,!0),a=n<3?Mg(1,t):zg(r,t,!0);if(!a&&0!==a||Rg(a,1,7))return!0}var Vg={d:function(e){Dg("d",e);var t=Mg(2,e);if(null===t||Rg(t,1,31))return!0;null===e.day&&(e.day=t)},E:function(e,t){if(null===zg(cg(t,"days",Dg("E",e),!1,!0),e,!0))return!0},M:function(e,t){return Lg("M",e,t)},L:function(e,t){return Lg("L",e,t)},y:function(e){var t=Dg("y",e),i=Mg(1===t?void 0:t,e);if(null===i)return!0;if(2===t){var n=(new Date).getFullYear();(i=n-n%100+i)>2029&&(i-=100)}e.year=i},h:function(e){Dg("h",e);var t=Mg(2,e);if(12===t&&(t=0),null===t||Rg(t,0,11))return!0;e.hours=t},K:function(e){Dg("K",e);var t=Mg(2,e);if(null===t||Rg(t,0,11))return!0;e.hours=t},a:function(e,t){var i=cg(t,"dayPeriods",Dg("a",e),!1,!0),n=zg([i.pm],e,!0);if(!n&&!zg([i.am],e,!0))return!0;e.pmHour=n},H:function(e){Dg("H",e);var t=Mg(2,e);if(null===t||Rg(t,0,23))return!0;e.hours=t},k:function(e){Dg("k",e);var t=Mg(2,e);if(null===t||Rg(t,1,24))return!0;e.hours=24===t?0:t},m:function(e){Dg("m",e);var t=Mg(2,e);if(null===t||Rg(t,0,59))return!0;e.minutes=t},s:function(e){Dg("s",e);var t=Mg(2,e);if(null===t||Rg(t,0,59))return!0;e.seconds=t},S:function(e){var t=Dg("S",e),i=e.value.substr(e.valueIdx,t),n=null;if(isNaN(parseInt(i,10))||(n=Dv(n=parseFloat("0."+i,10),3),n*=1e3,e.valueIdx+=t),null===n||Rg(n,0,999))return!0;e.milliseconds=n},z:function(e,t){var i=Dg("z",e)<4,n=Fg(e,t,{shortHours:i,optionalMinutes:i,localizedName:!0});if(n)return n},Z:function(e,t){var i=Dg("Z",e),n=Fg(e,t,{noSeparator:i<4,zLiteral:5===i,localizedName:4===i});if(n)return n},x:function(e,t){var i=Dg("x",e),n=Fg(e,t,{noSeparator:3!==i&&5!==i,optionalMinutes:1===i});if(n)return n},X:function(e,t){var i=Dg("X",e),n=Fg(e,t,{noSeparator:3!==i&&5!==i,optionalMinutes:1===i,zLiteral:!0});if(n)return n},G:function(e,t){var i=cg(t,"eras",Dg("G",e),!1,!0);if(null===zg([i[0],i[1]],e,!0))return!0},e:function(e,t){return jg("e",e,t)},c:function(e,t){return jg("c",e,t)}};function Bg(e,t){return"".concat(Ig.exec(t)[0]).concat(e).concat(Og.exec(t)[0])}function Ng(e,t,i){for(var n=sg(t,i).split(""),r={format:n,idx:0,value:Bg(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},a=n.length,o=!1;r.idx<a;r.idx++){var s=n[r.idx];if(o)"'"===s&&(o=!1),Pg(r);else if(Vg[s]){if(Vg[s](r,i))return null}else if("'"===s)o=!0,Pg(r);else if(!Pg(r))return null}return r.valueIdx<e.length?null:function(e){var t,i=e.year,n=e.month,r=e.day,a=e.hours,o=e.minutes,s=e.seconds,l=e.milliseconds,c=e.pmHour,u=e.UTC,h=e.hoursOffset,f=e.minutesOffset,d=null!==a||null!==o||s||null,p=new Date;return null===i&&null===n&&null===r&&d?(i=p.getFullYear(),n=p.getMonth(),r=p.getDate()):(null===i&&(i=p.getFullYear()),null===r&&(r=1)),c&&a<12&&(a+=12),u?(h&&(a+=-h),f&&(o+=-f*(h<0?-1:1)),t=new Date(Date.UTC(i,n,r,a,o,s,l))):function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(t=new Date(i,n,r,a,o,s,l),a),i<100&&t.setFullYear(i),t.getDate()!==r&&void 0===u?null:t}(r)||null}var Hg={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}};function Gg(e,t){var i=e[e.length-1];i&&"literal"===i.type?i.pattern+=t:e.push({type:"literal",pattern:t})}function Wg(e){return"h"===e||"K"===e}var Ug=/\{(\d+)(:[^\}]+)?\}/g;function qg(e,t,i){if(t){if(hg(e))return kg(e,t,i);if(Wv(e))return Gv(e,t,i)}return null!=e?e:""}var Xg="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",Jg={NoCurrency:"Solution: ".concat(Xg,"#toc-no-currency"),NoCurrencyDisplay:"Solution: ".concat(Xg,"#toc-no-currency-display"),NoCurrencyRegion:"Solution: ".concat(Xg,"#toc-no-currency-region"),NoDateFieldNames:"Solution: ".concat(Xg,"#toc-no-date-filed-names"),NoFirstDay:"Solution: ".concat(Xg,"#toc-no-first-day"),NoGMTInfo:"Solution: ".concat(Xg,"#toc-no-gmt-info"),NoLocale:"Solution: ".concat(Xg,"#toc-no-locale"),NoValidCurrency:"Solution: ".concat(Xg,"#toc-no-valid-currency"),NoWeekData:"Solution: ".concat(Xg,"#toc-no-week-data")};function Yg(e){return function(){try{for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e.apply(null,i)}catch(r){throw r.message=function(e){var t=e.message,i=Jg[Object.keys(Jg).filter((function(e){return 0===t.indexOf(e)}))[0]];return i?"".concat(t," ").concat(i):t}(r),r}}}var Kg=Yg(hv),Zg=Yg((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",i=cv(t).calendar.dateFields;if(!i)throw ov.NoDateFieldNames.error();var n=i[e.type]||{};return n[e.nameType]||n.wide})),$g=Yg(Sv),Qg=Yg((function(e,t,i){return e.replace(Ug,(function(e,n,r){return qg(t[parseInt(n,10)],r?r.substring(1):"",i)}))})),em=Yg(kg),tm=Yg(Gv),im=Yg((function(e){return lv(e).numbers.symbols})),nm=Yg((function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(!e)return null;if(hg(e))return e;var n=String(e).trim(),r=function(e){if(e&&0===e.indexOf("/D")){var t=_g.exec(e);if(t){t=t[1];var i=xg.exec(t.substring(1));return t=new Date(parseInt(t,10)),i&&(i=function(e){var t="-"===e.substr(0,1)?-1:1,i=e.substring(1);return t*(i=60*parseInt(i.substr(0,2),10)+parseInt(i.substring(2),10))}(i[0]),t=Cg(t,t.getTimezoneOffset(),0),t=Cg(t,0,-1*i)),t}}}(n);if(r)return r;for(var a=cv(i),o=t||function(e){for(var t=[],i=e.patterns,n=Ag.length,r=0;r<n;r++)t.push(i[Ag[r]]);return t.concat(Eg)}(a.calendar),s=(o=Array.isArray(o)?o:[o]).length,l=0;l<s;l++)if(r=Ng(n,o[l],a))return r;return r})),rm=Yg((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&0!==e)return null;if(Wv(e))return e;var n,r=cv(t),a=r.numbers.symbols,o=e.toString(),s=i||{};if(iv(i)&&(Fv(s={format:i}),o=function(e,t){var i=t.literals,n=e;if(i)for(var r=0;r<i.length;r++)n=n.replace(i[r],"");return n}(o,s),Pv(s,r)),("percent"===s.style||o.indexOf(a.percentSign)>-1)&&(o=o.replace(a.percentSign,""),n=!0),Uv.test(o))return o=parseFloat(o.replace(a.decimal,".")),isNaN(o)?null:o;var l=function(e,t,i){var n,r=Hv(i)||{},a=Av(r.style),o=e,s=r.currency||Cv(t,a);if(s){var l=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=bv(e,t,i);if(n){if(!n.displays){var r=[t];for(var a in n)r.push(n[a]);r.sort(kv),n.displays=r}return n.displays}}(t,s,a);if(l)for(var c=0;c<l.length;c++){var u=l[c];if(o.includes(u)){o=o.replace(u,""),a=!0;break}}if(a){var h=Xv(o,t.numbers.currency.patterns)||Xv(o,t.numbers.accounting.patterns);h&&(n=!0,o=h)}}return{number:o,negative:n}}(o,r,s),c=l.negative,u=l.number,h=(o=String(u).trim()).indexOf("-");if(h>0)return null;var f=h>-1;return f=void 0!==c?c:f,o=o.replace("-","").replace(qv," ").split(a.group.replace(qv," ")).join("").replace(a.decimal,"."),o=parseFloat(o),isNaN(o)?o=null:f&&(o*=-1),o&&n&&(o/=100),o})),am=Yg((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",i=sg(e,cv(t)),n=[],r=dg.lastIndex=0,a=dg.exec(i);a;){var o=a[0];if(r<a.index&&Gg(n,i.substring(r,a.index)),o.startsWith('"')||o.startsWith("'"))Gg(n,o);else{var s=o[0],l=fg[s],c={type:l,pattern:o};"hour"===l&&(c.hour12=Wg(o));var u=Hg[l];if(u){var h=Wv(u.minLength)?u.minLength:u.minLength[s],f=o.length;f>=h&&(c.names={type:u.type,nameType:lg(f),standAlone:u.standAlone===s})}n.push(c)}r=dg.lastIndex,a=dg.exec(i)}return r<i.length&&Gg(n,i.substring(r)),n})),om=Yg(qg),sm=Yg((function(e){var t=lv(e);if(t.weekendRange)return t.weekendRange;var i=sv.supplemental.weekData;if(!i)throw Tv.error();var n=uv(t),r=i.weekendEnd[n]||i.weekendEnd["001"];return t.weekendRange={start:wv.indexOf(i.weekendStart[n]||i.weekendStart["001"]),end:wv.indexOf(r)},t.weekendRange})),lm=/_/g;function cm(e){return new pm(e)}var um,hm,fm,dm=((fm=function(){function e(){_classCallCheck(this,e),this.changes=new y.o}return _createClass(e,[{key:"notify",value:function(){this.changes.emit()}}]),e}()).\u0275fac=function(e){return new(e||fm)},fm.\u0275prov=y.Nb({token:fm,factory:function(e){return e?new e:cm(y.cc(y.v))},providedIn:"root"}),fm.ngInjectableDef=Object(y.U)({factory:function(){return cm(Object(y.X)(y.v))},token:fm,providedIn:"root"}),fm),pm=((hm=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).localeId=e,n}return _createClass(i,[{key:"format",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Qg(e,i,this.localeId)}},{key:"toString",value:function(e,t,i){return om(e,t,i||this.localeId)}},{key:"formatDate",value:function(e,t,i){return em(e,t,i||this.localeId)}},{key:"parseDate",value:function(e,t,i){return nm(e,t,i||this.localeId)}},{key:"parseNumber",value:function(e,t,i){return rm(e,i||this.localeId,t)}},{key:"formatNumber",value:function(e,t,i){return tm(e,t,i||this.localeId)}},{key:"dateFieldName",value:function(e,t){return Zg(e,t||this.localeId)}},{key:"dateFormatNames",value:function(e,t){return Kg(t||this.localeId,e)}},{key:"splitDateFormat",value:function(e,t){return am(e,t||this.localeId)}},{key:"numberSymbols",value:function(e){return im(e||this.localeId)}},{key:"firstDay",value:function(e){return $g(e||this.localeId)}},{key:"weekendRange",value:function(e){return sm(e||this.localeId)}},{key:"localeId",get:function(){return this.locale},set:function(e){var t=e.replace(lm,"-");t!==this.locale&&(this.locale=t,this.notify())}}]),i}(dm)).\u0275fac=function(e){return new(e||hm)(y.cc(y.v))},hm.\u0275prov=y.Nb({token:hm,factory:hm.\u0275fac}),hm),vm=((um=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:um}),um.\u0275inj=y.Ob({factory:function(e){return new(e||um)}}),um);$localize(_templateObject8()),$localize(_templateObject9()),$localize(_templateObject10()),$localize(_templateObject11()),$localize(_templateObject12());var gm=["numericInput"],mm=["numericWrap"],ym=["increment",$localize(_templateObject13()),"decrement",$localize(_templateObject14())],bm=function(e,t){return{mouseup:e,mouseleave:t}},km=function(e){return{mousedown:e}};function Cm(e,t){if(1&e&&(y.Xb(0,"span",6),y.Xb(1,"span",7),y.Sb(2,"span",8),y.Wb(),y.Xb(3,"span",9),y.Sb(4,"span",10),y.Wb(),y.Wb()),2&e){var i=y.jc();y.oc("kendoEventsOutsideAngular",y.sc(11,bm,i.releaseArrow,i.releaseArrow)),y.Eb(1),y.Jb("k-state-active",i.arrowDirection===i.ArrowDirection.Up),y.oc("kendoEventsOutsideAngular",y.rc(14,km,i.increasePress))("title",i.incrementTitle),y.Fb("aria-label",i.incrementTitle),y.Eb(2),y.Jb("k-state-active",i.arrowDirection===i.ArrowDirection.Down),y.oc("kendoEventsOutsideAngular",y.rc(16,km,i.decreasePress))("title",i.decrementTitle),y.Fb("aria-label",i.decrementTitle)}}var wm=function(e,t){return{mousewheel:e,DOMMouseScroll:t}},_m=function(e,t,i,n,r,a,o){return{mousedown:e,dragenter:t,keydown:i,input:n,focus:r,blur:a,paste:o}},xm=function(e){return Math.min(e,20)},Sm=function(e){return(String(e).split(".")[1]||"").length},Tm=function(e,t){var i=xm(t);return parseFloat(e.toFixed(i))};function Im(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,n)}var Om=/[eE][\-+]?([0-9]+)/,Em=function(e){return e>=0?Math.floor(e):Math.ceil(e)},Am=function(e){},Rm=function(e){return!isNaN(e)&&null!==e};function Dm(e,t){var i=t-String(e).length,n=e;if(i>0){var r=new Array(i+1).join("0");n=parseFloat(e+r)}return n}var Mm,zm,Pm,Fm,Lm,jm,Vm,Bm,Nm,Hm,Gm,Wm,Um,qm=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({}),Xm=["min","max","step","decimals"],Jm={decimals:null,max:null,min:null,step:1},Ym=((zm=function(){function e(t,i,n,r,a,o,s){var l=this;_classCallCheck(this,e),this.intl=t,this.renderer=i,this.localizationService=n,this.injector=r,this.ngZone=a,this.changeDetector=o,this.hostElement=s,this.focusableId="k-".concat(Ei()),this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.selectOnFocus=!0,this.value=null,this.valueChange=new y.o,this.onFocus=new y.o,this.onBlur=new y.o,this.ArrowDirection=qm,this.arrowDirection=qm.None,this.inputValue="",this.minValidateFn=Am,this.maxValidateFn=Am,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this.ngChange=Am,this.ngTouched=Am,this.ngValidatorChange=Am,this.increasePress=function(e){l.arrowPress(qm.Up,e)},this.decreasePress=function(e){l.arrowPress(qm.Down,e)},this.releaseArrow=function(){clearTimeout(l.spinTimeout),l.arrowDirection!==qm.None&&(l.arrowDirection=qm.None,l.changeDetector.detectChanges())},this.handlePaste=function(){l.isPasted=!0},this.handleInput=function(){var e=l.numericInput.nativeElement,t=e.selectionStart,i=e.selectionEnd,n=e.value;if(l.pressedKey===Wi.NumpadDecimal&&(n=l.replaceNumpadDotValue()),l.isPasted&&(n=l.formatInputValue(l.intl.parseNumber(n))),!l.isValid(n))return e.value=l.inputValue,void l.setSelection(t-1,i-1);var r=l.intl.parseNumber(n),a=l.restrictDecimals(r);if(l.autoCorrect){var o=l.limitInputValue(a);a=o.value,t=o.selectionStart,i=o.selectionEnd}r!==a||l.hasTrailingZeros(n)||!l.focused?(l.setInputValue(a),l.setSelection(t,i)):l.inputValue=n,l.isPasted&&(e.value=l.inputValue),l.updateValue(a),l.previousSelection=null,l.isPasted=!1},this.handleDragEnter=function(){l.focused||l.isDisabled||l.setInputValue(l.value,!0)},this.handleMouseDown=function(){l.mouseDown=!0},this.handleFocus=function(){if(!l.focused&&(l.focused=!0,!l.isDisabled)){var e=l.selectOnFocus||!l.mouseDown;l.ngZone.runOutsideAngular((function(){setTimeout((function(){e?l.selectAll():l.selectCaret()}),0)}))}l.mouseDown=!1,Oi(l.onFocus)&&l.ngZone.run((function(){l.onFocus.emit()}))},this.handleBlur=function(){var e;l.changeDetector.markForCheck(),l.focused=!1,l.inputValue!==l.elementValue&&l.handleInput(),l.setInputValue(),(Oi(l.onBlur)||(e=l.control)&&(!e.touched||e.control&&"blur"===e.control.updateOn))&&l.ngZone.run((function(){l.ngTouched(),l.onBlur.emit()}))},this.handleKeyDown=function(e){if(!l.isDisabled){var t;e.keyCode===Wi.ArrowDown?t=-1:e.keyCode===Wi.ArrowUp&&(t=1),t&&l.step&&(e.preventDefault(),l.addStep(t));var i=l.numericInput.nativeElement;l.previousSelection={end:i.selectionEnd,start:i.selectionStart},l.pressedKey=e.keyCode}},this.handleWheel=function(e){if(l.focused&&!l.isDisabled){e.preventDefault();var t=function(e){var t=0;return e.wheelDelta?t=(t=e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t):e.detail&&(t=Math.round(-e.detail/3)),t}(e);l.addStep(t)}},this.direction=n.rtl?"rtl":"ltr"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.localizationService.changes.subscribe((function(t){var i=t.rtl;e.direction=i?"rtl":"ltr"})),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(H,null)}},{key:"ngOnChanges",value:function(e){var t,i;Ii(Xm,e,!1)&&this.parseOptions(Xm.filter((function(t){return e[t]}))),this.verifySettings(),Ii(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(i=this.min,function(e){return null!==e.value&&e.value<i?{minError:{minValue:i,value:e.value}}:null}):Am,this.maxValidateFn=this.rangeValidation?(t=this.max,function(e){return null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null}):Am,this.ngValidatorChange()),Ii(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,Ii(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.ngValidatorChange=e}},{key:"writeValue",value:function(e){this.verifyValue(e);var t=this.restrictModelValue(e);this.value=t,this.setInputValue()}},{key:"registerOnChange",value:function(e){this.ngChange=e}},{key:"registerOnTouched",value:function(e){this.ngTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){Im(this.numericInput,"focus")}},{key:"blur",value:function(){Im(this.numericInput,"blur")}},{key:"notifyValueChange",value:function(){this.setInputValue()}},{key:"arrowPress",value:function(e,t){t.preventDefault(),this.isDisabled||(ol||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}},{key:"updateValue",value:function(e){var t,i,n=this;(t=this.value)===(i=e)||null===t&&void 0===i||void 0===t&&null===i||this.ngZone.run((function(){n.value=e,n.ngChange(e),n.valueChange.emit(e),n.changeDetector.markForCheck()}))}},{key:"replaceNumpadDotValue",value:function(){var e=this.inputValue||"";if(this.previousSelection){var t=this.numericInput.nativeElement,i=t.selectionStart,n=t.selectionEnd,r=this.previousSelection,a=r.start,o=r.end;t.value=e=e.substring(0,a)+this.decimalSeparator+e.substring(o),this.setSelection(i,n)}return e}},{key:"isValid",value:function(e){return this.numericRegex||(this.numericRegex=(t={autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator},n=t.autoCorrect,r=t.min,"."===(a=t.separator)&&(a="\\"+a),i=0===t.decimals?"\\d*":"(?:(?:\\d+(".concat(a,"\\d*)?)|(?:").concat(a,"\\d*))?"),new RegExp("^".concat(n&&null!==r&&r>=0?"":"-?").concat(i,"$")))),this.numericRegex.test(e);var t,i,n,r,a}},{key:"spin",value:function(e,t){var i=this;clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout((function(){i.spin(e,50)}),t),this.addStep(e)}},{key:"addStep",value:function(e){var t,i,n,r=(t=this.value||0,i=this.step*e,n=function(e,t){return Math.max(Sm(e),Sm(t))}(t,i),Tm(t+i,n));r=this.limitValue(r),r=this.restrictDecimals(r),this.setInputValue(r),this.updateValue(r)}},{key:"setSelection",value:function(e,t){this.focused&&Im(this.numericInput,"setSelectionRange",e,t)}},{key:"limitValue",value:function(e){var t=e;return this.isInRange(e)||(Rm(this.max)&&e>this.max&&(t=this.max),Rm(this.min)&&e<this.min&&(t=this.min)),t}},{key:"limitInputValue",value:function(e){var t=this.numericInput.nativeElement,i=t.selectionStart,n=t.selectionEnd,r=t.value,a=e,o=!1;if(!this.isInRange(e)){var s,l,c=r.length-String(this.inputValue).length,u=this.min,h=this.max,f=Rm(h),d=Rm(u),p=e;if(0===i&&this.inputValue.substr(1)===r)return{selectionEnd:n,selectionStart:i,value:null};if(f&&e>h?e>0?l=!0:s=h:d&&e<u&&(e>0?s=u:l=!0),s){var v=this.tryPadValue(e,s);v&&Em(e)!==Em(s)&&(p=v,o=!0)}else l&&this.inputValue&&i!==r.length&&(p=parseFloat(r.substr(0,i)+r.substr(i+c)));a=this.limitValue(p),o=(o||a!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+c>0}return{selectionEnd:o?String(a).length:n,selectionStart:i,value:a}}},{key:"tryPadValue",value:function(e,t){var i,n=String(Math.floor(t)).length,r=Dm(e,n),a=Dm(e,n+1);return this.isInRange(r)?i=r:this.isInRange(a)&&(i=a),i}},{key:"isInRange",value:function(e){return!Rm(e)||(!Rm(this.min)||this.min<=e)&&(!Rm(this.max)||e<=this.max)}},{key:"restrictModelValue",value:function(e){var t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}},{key:"restrictDecimals",value:function(e,t){var i=e;if(e&&this.hasDecimals){var n=this.decimals,r=String(e);if(t||Om.test(r))i=Tm(e,n);else{var a=r.split("."),o=a[1];o&&o.length>n&&(o=o.substr(0,n),i=parseFloat("".concat(a[0],".").concat(o)))}}return i}},{key:"formatInputValue",value:function(e){var t=String(e),i=Om.exec(t);return i&&(t=e.toFixed(xm(parseInt(i[1],10)))),t.replace(".",this.decimalSeparator)}},{key:"formatValue",value:function(e,t){return null!==e&&function(e){return void 0!==e}(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):""}},{key:"setInputValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focused,i=this.formatValue(e,t);this.elementValue=i,this.inputValue=i}},{key:"verifySettings",value:function(){if(Object(y.Y)()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Object(y.Y)()&&e&&"number"!=typeof e)throw new Error("The NumericTextBox component requires value of type Number and ".concat(JSON.stringify(e)," was set."))}},{key:"parseOptions",value:function(e){for(var t=0;t<e.length;t++){var i=e[t],n=this[i];if("string"==typeof n){var r=parseFloat(n),a=!isNaN(r);if(Object(y.Y)()&&!a&&""!==n)throw new Error("The NumericTextBox component requires value of type Number or a String representing "+"a number for the ".concat(i," property and ").concat(JSON.stringify(n)," was set."));this[i]=a?r:Jm[i]}}}},{key:"intlChange",value:function(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}},{key:"hasTrailingZeros",value:function(e){if(this.hasDecimals&&this.focused){var t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}},{key:"selectAll",value:function(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}},{key:"selectCaret",value:function(){var e,t,i=this,n=this.elementValue,r=n.substring(0,this.numericInput.nativeElement.selectionStart);if(this.setInputValue(),r.length){var a=(e=r,t="".concat(i.decimalSeparator,"0123456789-"),e.split("").reduce((function(e,i){return t.includes(i)?++e:e}),0)),o=this.adjustSignificantChars(n,a);this.setSelection(o,o)}else this.setSelection(0,0)}},{key:"numberOfLeadingZeroes",value:function(e){var t=e.indexOf(this.decimalSeparator),i=e.match(/^[^1-9]*?(0+)/);if(i){var n=i[1].length;return i[0].length===t?n-1:n}return 0}},{key:"adjustSignificantChars",value:function(e,t){var i=this.numberOfLeadingZeroes(e);return i>0?Math.max(0,t-i):t}},{key:"format",get:function(){var e=this._format;return null!=e?e:"n2"},set:function(e){this._format=e}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"widgetClasses",get:function(){return!0}},{key:"incrementTitle",get:function(){return this.localizationService.get("increment")}},{key:"decrementTitle",get:function(){return this.localizationService.get("decrement")}},{key:"decimalSeparator",get:function(){return this.intl.numberSymbols().decimal}},{key:"elementValue",get:function(){return this.numericInput.nativeElement.value},set:function(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}},{key:"focused",get:function(){return this.isFocused},set:function(e){if(this.isFocused!==e&&this.numericWrap){var t=this.numericWrap.nativeElement,i=this.numericInput.nativeElement;e?(this.renderer.addClass(t,"k-state-focused"),this.isDisabled||this.renderer.removeClass(i,"k-formatted-value")):(this.renderer.removeClass(t,"k-state-focused"),this.renderer.addClass(i,"k-formatted-value")),this.isFocused=e}}},{key:"hasDecimals",get:function(){return null!==this.decimals&&this.decimals>=0}},{key:"isDisabled",get:function(){return this.disabled||this.readonly}}]),e}()).\u0275fac=function(e){return new(e||zm)(y.Rb(dm),y.Rb(y.F),y.Rb(cr),y.Rb(y.s),y.Rb(y.A),y.Rb(y.h),y.Rb(y.m))},zm.\u0275cmp=y.Lb({type:zm,selectors:[["kendo-numerictextbox"]],viewQuery:function(e,t){var i;1&e&&(y.Hc(gm,!0),y.Qc(mm,!0)),2&e&&(y.zc(i=y.hc())&&(t.numericInput=i.first),y.zc(i=y.hc())&&(t.numericWrap=i.first))},hostVars:5,hostBindings:function(e,t){2&e&&(y.Fb("dir",t.direction),y.Jb("k-widget",t.widgetClasses)("k-numerictextbox",t.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",selectOnFocus:"selectOnFocus",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[y.Db([cr,{provide:lr,useValue:"kendo.numerictextbox"},{provide:A,useExisting:Object(y.W)((function(){return zm})),multi:!0},{provide:X,useExisting:Object(y.W)((function(){return zm})),multi:!0},{provide:Gi,useExisting:Object(y.W)((function(){return zm}))}]),y.Cb],decls:7,vars:25,consts:[["kendoNumericTextBoxLocalizedMessages","",6,"increment","decrement"],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],[1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(y.Vb(0,0),y.bc(1,ym),y.Ub(),y.Xb(2,"span",1,2),y.Sb(4,"input",3,4),y.Jc(6,Cm,5,18,"span",5),y.Wb()),2&e&&(y.Eb(2),y.Jb("k-state-disabled",t.disabled),y.oc("kendoEventsOutsideAngular",y.sc(14,wm,t.handleWheel,t.handleWheel)),y.Eb(2),y.oc("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",y.xc(17,_m,t.handleMouseDown,t.handleDragEnter,t.handleKeyDown,t.handleInput,t.handleFocus,t.handleBlur,t.handlePaste)),y.Fb("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder),y.Eb(2),y.oc("ngIf",t.spinners))},directives:function(){return[ey,Di,b.j]},encapsulation:2}),zm),Km=((Mm=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(or)).\u0275fac=function(e){return Zm(e||Mm)},Mm.\u0275dir=y.Mb({type:Mm,inputs:{decrement:"decrement",increment:"increment"},features:[y.Bb]}),Mm),Zm=y.Zb(Km),$m=((Um=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Um}),Um.\u0275inj=y.Ob({factory:function(e){return new(e||Um)},imports:[[b.b,Ri,Mi,Hi]]}),Um),Qm=((Wm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Wm}),Wm.\u0275inj=y.Ob({factory:function(e){return new(e||Wm)},imports:[[b.b,Mi,Hi]]}),Wm),ey=((Gm=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).service=e,n}return i}(Km)).\u0275fac=function(e){return new(e||Gm)(y.Rb(cr))},Gm.\u0275dir=y.Mb({type:Gm,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[y.Db([{provide:Km,useExisting:Object(y.W)((function(){return Gm}))}]),y.Bb]}),Gm),ty=((Hm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Hm}),Hm.\u0275inj=y.Ob({factory:function(e){return new(e||Hm)},imports:[[b.b,Mi]]}),Hm),iy=((Nm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Nm}),Nm.\u0275inj=y.Ob({factory:function(e){return new(e||Nm)},imports:[[b.b,Mi]]}),Nm),ny=((Bm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Bm}),Bm.\u0275inj=y.Ob({factory:function(e){return new(e||Bm)},imports:[[b.b]]}),Bm),ry=((Vm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Vm}),Vm.\u0275inj=y.Ob({factory:function(e){return new(e||Vm)},imports:[[$m,ty,b.b,aa,Ri]]}),Vm),ay=((jm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:jm}),jm.\u0275inj=y.Ob({factory:function(e){return new(e||jm)},imports:[[b.b]]}),jm),oy=((Lm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Lm}),Lm.\u0275inj=y.Ob({factory:function(e){return new(e||Lm)},imports:[[b.b]]}),Lm),sy=((Fm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Fm}),Fm.\u0275inj=y.Ob({factory:function(e){return new(e||Fm)},imports:[[b.b]]}),Fm),ly=((Pm=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Pm}),Pm.\u0275inj=y.Ob({factory:function(e){return new(e||Pm)},imports:[[b.b],ny,$m,Qm,ty,iy,ry,ay,oy,sy]}),Pm),cy=function(e){return e?new Date(e.getTime()):null},uy=function(e,t){var i=cy(e);return 0===t&&23===i.getHours()&&i.setHours(i.getHours()+2),i},hy=function(e,t){var i=cy(e);return i.setDate(i.getDate()+t),uy(i,e.getHours())},fy=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=new Date(e,t,i,n,r,a,o);return e>-1&&e<100&&s.setFullYear(s.getFullYear()-1900),uy(s,n)},dy=function(e){return fy(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)},py=function(e,t){return!e&&!t||e&&t&&e.getTime()===t.getTime()},vy=function(e){var t=fy(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return hy(t,-1)},gy=function e(t,i){var n=cy(t),r=(12+(n.getMonth()+i)%12)%12;return n.setMonth(n.getMonth()+i),function(t,i){return t.getMonth()!==i?vy(e(t,-1)):t}(uy(n,t.getHours()),r)},my=function(e,t){var i=e.getMonth(),n=fy(t,i,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.getMonth()===i?n:vy(gy(n,-1))},yy=function(e,t){return uy(my(e,e.getFullYear()+t),e.getHours())},by=function(e,t){return yy(e,10*t)},ky=function(e,t){return yy(e,100*t)},Cy=function(e,t){return my(e,t(e.getFullYear()))},wy=function(e){return Cy(e,(function(e){return e-e%100}))},_y=function(e){return Cy(e,(function(e){return e-e%100+90}))},xy=function(e){return Cy(e,(function(e){return e-e%10}))},Sy=function(e,t){return(wy(t).getFullYear()-wy(e).getFullYear())/100},Ty=function(e){return Cy(e,(function(e){return e-e%10+9}))},Iy=function(e,t){return(xy(t).getFullYear()-xy(e).getFullYear())/10},Oy=function(e,t){return hy(e,7*t)},Ey=function(e){return fy(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},Ay=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({}),Ry=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ay.Forward,n=cy(e),r=(t-n.getDay()+7*i)%7;return n.setDate(n.getDate()+r),uy(n,e.getHours())},Dy=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},My=function(e,t){var i=e.getDate(),n=fy(e.getFullYear(),t,i,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.getDate()===i?n:vy(gy(n,-1))},zy=function(e){return My(e,0)},Py=function(e){return My(e,11)},Fy=function(e,t){return t.getFullYear()-e.getFullYear()},Ly=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({}),jy=function(e,t){var i=fy(e.getFullYear(),0,1,-6),n=function(e,t){return t!==Ly.Monday?hy(function(e,t){return Ry(e,t,Ay.Backward)}(e,t),4):hy(e,4-(e.getDay()||7))}(e,t).getTime()-i.getTime(),r=Math.floor(n/864e5);return 1+Math.floor(r/7)},Vy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ly.Monday,i=hy(e,-7),n=hy(e,7),r=jy(e,t);return 0===r?jy(i,t)+1:53===r&&jy(n,t)>1?1:r},By=i("jtHE"),Ny=i("itXk"),Hy=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).scheduler=e,r.work=n,r}return _createClass(i,[{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==n&&n>0?_get(_getPrototypeOf(i.prototype),"requestAsyncId",this).call(this,e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&n>0||null===n&&this.delay>0)return _get(_getPrototypeOf(i.prototype),"recycleAsyncId",this).call(this,e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),i}(i("3N8a").a),Gy=new(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,i=this.actions,n=-1,r=i.length;e=e||i.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<r&&(e=i.shift()));if(this.active=!1,t){for(;++n<r&&(e=i.shift());)e.unsubscribe();throw t}}}]),i}(i("IjjT").a))(Hy),Wy=i("EY2u"),Uy=i("Kqap"),qy=function(){function e(t,i){_classCallCheck(this,e),this.predicate=t,this.inclusive=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Xy(e,this.predicate,this.inclusive))}}]),e}(),Xy=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e)).predicate=n,a.inclusive=r,a.index=0,a}return _createClass(i,[{key:"_next",value:function(e){var t,i=this.destination;try{t=this.predicate(e,this.index++)}catch(n){return void i.error(n)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var i=this.destination;Boolean(t)?i.next(e):(this.inclusive&&i.next(e),i.complete())}}]),i}(Ct.a),Jy=["*"],Yy=["list"];function Ky(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc().$implicit,n=y.jc();y.Mc(n.service.navigationTitle(i))}}function Zy(e,t){}var $y=function(e,t,i){return{$implicit:e,activeView:t,date:i}};function Qy(e,t){if(1&e&&(y.Xb(0,"li"),y.Xb(1,"span"),y.Jc(2,Ky,1,1,"ng-template",5),y.Jc(3,Zy,0,0,"ng-template",6),y.Wb(),y.Wb()),2&e){var i=t.$implicit,n=t.index,r=y.jc();y.Fb("data-date-index",n),y.Eb(1),y.Jb("k-calendar-navigation-marker",r.service.isRangeStart(i)),y.Eb(1),y.oc("ngIf",!r.templateRef),y.Eb(1),y.oc("ngIf",r.templateRef)("ngTemplateOutlet",r.templateRef)("ngTemplateOutletContext",y.tc(7,$y,r.service.navigationTitle(i),r.activeViewValue,i))}}var eb=function(e){return{click:e}};function tb(e,t){if(1&e&&(y.Xb(0,"th"),y.Lc(1),y.Wb()),2&e){var i=t.$implicit,n=y.jc(2);y.Ic("width",n.colWidth,"%"),y.Eb(1),y.Mc(i)}}function ib(e,t){if(1&e&&(y.Xb(0,"table",6),y.Xb(1,"thead"),y.Xb(2,"tr"),y.Jc(3,tb,2,3,"th",7),y.Wb(),y.Wb(),y.Wb()),2&e){var i=y.jc();y.Eb(3),y.oc("ngForOf",i.weekNames)}}function nb(e,t){1&e&&y.Sb(0,"col")}function rb(e,t){if(1&e){var i=y.Yb();y.Xb(0,"tbody",8),y.gc("change",(function(e){return y.Cc(i),y.jc().handleDateChange(e)})),y.Wb()}if(2&e){var n=t.$implicit,r=y.jc();y.oc("activeView",r.activeView)("isActive",r.isActive)("min",r.min)("max",r.max)("cellUID",r.cellUID)("focusedDate",r.focusedDate)("selectedDate",r.value)("weekNumber",r.weekNumber)("templateRef",r.cellTemplateRef)("weekNumberTemplateRef",r.weekNumberTemplateRef)("viewDate",n)}}var ab=["today",$localize(_templateObject15())];function ob(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-calendar-navigation",3),y.gc("valueChange",(function(e){return y.Cc(i),y.jc().handleNavigation(e)}))("pageChange",(function(){return y.Cc(i),y.jc().onPageChange()})),y.Wb()}if(2&e){var n=y.jc();y.oc("activeView",n.activeViewEnum)("focusedDate",n.focusedDate)("min",n.min)("max",n.max)("templateRef",null==n.navigationItemTemplate?null:n.navigationItemTemplate.templateRef)}}var sb=["dateInput"],lb=["wrap"],cb=["increment",$localize(_templateObject16()),"decrement",$localize(_templateObject17())];function ub(e,t){if(1&e){var i=y.Yb();y.Xb(0,"span",6),y.gc("mousedown",(function(e){return y.Cc(i),e.preventDefault()})),y.Xb(1,"span",7),y.gc("mousedown",(function(){y.Cc(i);var e=y.jc();return e.arrowDirection=e.arrow.Up}))("mouseleave",(function(){y.Cc(i);var e=y.jc();return e.arrowDirection=e.arrow.None}))("click",(function(){return y.Cc(i),y.jc().handleButtonClick(1)})),y.Sb(2,"span",8),y.Wb(),y.Xb(3,"span",9),y.gc("click",(function(){return y.Cc(i),y.jc().handleButtonClick(-1)}))("mousedown",(function(){y.Cc(i);var e=y.jc();return e.arrowDirection=e.arrow.Down}))("mouseleave",(function(){y.Cc(i);var e=y.jc();return e.arrowDirection=e.arrow.None})),y.Sb(4,"span",10),y.Wb(),y.Wb()}if(2&e){var n=y.jc();y.Eb(1),y.Jb("k-state-active",n.arrowDirection===n.arrow.Up),y.oc("title",n.localization.get("increment")),y.Fb("aria-label",n.localization.get("increment")),y.Eb(2),y.Jb("k-state-active",n.arrowDirection===n.arrow.Down),y.oc("title",n.localization.get("decrement")),y.Fb("aria-label",n.localization.get("decrement"))}}var hb=function(e,t,i,n,r,a,o){return{click:e,focus:t,mousedown:i,touchstart:n,dragstart:r,drop:a,blur:o}},fb=["container"],db=["popupTemplate"],pb=["wrapper"],vb=["today",$localize(_templateObject18()),"toggle",$localize(_templateObject19())];function gb(e,t){}var mb=function(e){return{keydown:e}};function yb(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-calendar",9,10),y.gc("valueChange",(function(e){y.Cc(i);var t=y.jc();return t.handleChange(t.mergeTime(e))})),y.Sb(2,"kendo-calendar-messages",11),y.Wb(),y.Jc(3,gb,0,0,"ng-template")}if(2&e){var n=y.jc();y.oc("min",n.min)("max",n.max)("navigation",n.navigation)("activeView",n.activeView)("bottomView",n.bottomView)("topView",n.topView)("weekNumber",n.weekNumber)("cellTemplate",n.cellTemplate)("monthCellTemplate",n.monthCellTemplate)("yearCellTemplate",n.yearCellTemplate)("decadeCellTemplate",n.decadeCellTemplate)("centuryCellTemplate",n.centuryCellTemplate)("weekNumberTemplate",n.weekNumberTemplate)("headerTitleTemplate",n.headerTitleTemplate)("navigationItemTemplate",n.navigationItemTemplate)("focusedDate",n.focusedDate)("value",n.value)("kendoEventsOutsideAngular",y.rc(21,mb,n.handleKeydown))("scope",n)("disabledDates",n.disabledDates),y.Eb(2),y.oc("today",n.localization.get("today"))}}var bb=function(e,t){return{click:e,mousedown:t}};function kb(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc();y.Mc(i.title)}}function Cb(e,t){}$localize(_templateObject20()),$localize(_templateObject21()),$localize(_templateObject22()),$localize(_templateObject23()),$localize(_templateObject24()),$localize(_templateObject25()),$localize(_templateObject26()),$localize(_templateObject27()),$localize(_templateObject28()),$localize(_templateObject29()),$localize(_templateObject30()),$localize(_templateObject31()),$localize(_templateObject32()),$localize(_templateObject33()),$localize(_templateObject34()),$localize(_templateObject35()),$localize(_templateObject36()),$localize(_templateObject37()),$localize(_templateObject38()),$localize(_templateObject39()),$localize(_templateObject40()),$localize(_templateObject41());var wb=["kendoCalendarView",""];function _b(e,t){1&e&&(y.Xb(0,"td",3),y.Lc(1,"\xa0"),y.Wb())}function xb(e,t){if(1&e&&(y.Xb(0,"tr",4),y.Xb(1,"th",5),y.Lc(2),y.Wb(),y.Wb()),2&e){var i=y.jc();y.Eb(1),y.oc("colSpan",i.colSpan),y.Eb(1),y.Mc(i.title)}}function Sb(e,t){if(1&e&&(y.Xb(0,"th"),y.Lc(1),y.Wb()),2&e){var i=t.$implicit;y.Eb(1),y.Mc(i)}}function Tb(e,t){if(1&e&&(y.Xb(0,"tr",4),y.Jc(1,Sb,2,1,"th",6),y.Wb()),2&e){var i=y.jc();y.Eb(1),y.oc("ngForOf",i.weekNames)}}function Ib(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc(3).$implicit,n=y.jc();y.Nc(" ",n.getWeekNumber(n.firstDate(i))," ")}}function Ob(e,t){}var Eb=function(e,t){return{$implicit:e,cellContext:t}};function Ab(e,t){if(1&e&&(y.Xb(0,"td",10),y.Jc(1,Ib,1,1,"ng-template",7),y.Jc(2,Ob,0,0,"ng-template",11),y.Wb()),2&e){var i=y.jc(2).$implicit,n=y.jc();y.Eb(1),y.oc("ngIf",!n.weekNumberTemplateRef),y.Eb(1),y.oc("ngIf",n.weekNumberTemplateRef)("ngTemplateOutlet",n.weekNumberTemplateRef)("ngTemplateOutletContext",y.sc(4,Eb,n.firstDate(i),n.getWeekNumberContext(i)))}}function Rb(e,t){if(1&e&&y.Jc(0,Ab,3,7,"td",9),2&e){var i=y.jc().$implicit,n=y.jc(),r=y.Ac(1);y.oc("ngIf",n.firstDate(i))("ngIfElse",r)}}function Db(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc(2).$implicit;y.Mc(i.formattedValue)}}function Mb(e,t){}function zb(e,t){if(1&e&&y.Jc(0,Mb,0,0,"ng-template",16),2&e){var i=y.jc(2).$implicit,n=y.jc(2);y.oc("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",y.sc(2,Eb,i.value,i))}}function Pb(e,t){if(1&e&&(y.Xb(0,"td",13),y.Xb(1,"span",14),y.Jc(2,Db,1,1,"ng-template",7),y.Jc(3,zb,1,5,void 0,15),y.Wb(),y.Wb()),2&e){var i=y.jc(),n=i.$implicit,r=i.index,a=y.jc().index,o=y.jc();y.oc("ngClass",o.getStyles(n))("title",n.title),y.Fb("id",n.id)("data-cell-index",o.tableCellIndex(a,r))("aria-selected",n.isSelected||n.isRangeStart||n.isRangeMid||n.isRangeEnd)("aria-disabled",n.isDisabled),y.Eb(2),y.oc("ngIf",!o.templateRef),y.Eb(1),y.oc("ngIf",o.templateRef)}}function Fb(e,t){if(1&e&&(y.Vb(0),y.Jc(1,Pb,4,8,"td",12),y.Ub()),2&e){var i=t.$implicit;y.jc(2);var n=y.Ac(1);y.Eb(1),y.oc("ngIf",i)("ngIfElse",n)}}function Lb(e,t){if(1&e&&(y.Xb(0,"tr",4),y.Jc(1,Rb,1,2,"ng-template",7),y.Jc(2,Fb,2,2,"ng-container",8),y.Wb()),2&e){var i=t.$implicit,n=y.jc();y.Eb(1),y.oc("ngIf",n.weekNumber),y.Eb(1),y.oc("kForOf",i)}}$localize(_templateObject42()),$localize(_templateObject43()),$localize(_templateObject44()),$localize(_templateObject45()),$localize(_templateObject46()),$localize(_templateObject47());var jb,Vb,Bb,Nb,Hb,Gb,Wb,Ub=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e}({}),qb={start:null,end:null},Xb=new Date(1900,0,1),Jb=new Date(2099,11,31),Yb=function(e){return null!=e},Kb=function(e,t){var i=cy(e);return i.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),i},Zb=function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],r=e;r<t;r+=i)n.push(r);return n},$b=function(e,t,i){return!e||!(t&&t>e||i&&i<e)},Qb=function(e,t){return!Yb(e)||!Yb(t)||e<=t},ek=function(e,t,i){return e?t&&e<t?cy(t):i&&e>i?cy(i):e:e},tk=function(){return dy(new Date)},ik=function(e){},nk=function(e,t){return e.slice(t).concat(e.slice(0,t))},rk=function(e){return function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(e);return r.className=i,Object.keys(n).map((function(e){return r.style[e]=n[e]})),"string"==typeof t?r.innerHTML=t||"":(t||[]).forEach((function(e){return e&&r.appendChild(e)})),r}},ak=function(e,t){return void 0!==e[t]},ok=function(e,t){return e[t]&&null!=e[t].currentValue},sk=function(e,t){var i=t||qb,n=i.start,r=i.end;return!(!n||!r)&&n<e&&e<r},lk=[[]],ck=(_defineProperty(r={},Ub.Left,(function(e){return by(e,-1)})),_defineProperty(r,Ub.Up,(function(e){return by(e,-5)})),_defineProperty(r,Ub.Right,(function(e){return by(e,1)})),_defineProperty(r,Ub.Down,(function(e){return by(e,5)})),_defineProperty(r,Ub.PrevView,(function(e){return ky(e,-1)})),_defineProperty(r,Ub.NextView,(function(e){return ky(e,1)})),_defineProperty(r,Ub.FirstInView,(function(e){return wy(e)})),_defineProperty(r,Ub.LastInView,(function(e){return _y(e)})),r),uk=((jb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToDate",value:function(e,t){return ky(e,t)}},{key:"datesList",value:function(e,t){return Zb(0,t).map((function(t){return ky(e,t)}))}},{key:"data",value:function(e){var t=this,i=e.cellUID,n=e.focusedDate,r=e.isActiveView,a=e.max,o=e.min,s=e.selectedDate,l=e.selectionRange,c=void 0===l?qb:l,u=e.viewDate;if(!u)return lk;var h=Zb(0,5),f=wy(u),d=_y(u),p=$b(s,o,a),v=tk();return Zb(0,2).map((function(e){var l=by(f,5*e);return h.map((function(e){var u=t.normalize(by(l,e),o,a);if(!t.isInRange(u,o,a))return null;var h=t.isEqual(u,c.start),g=t.isEqual(u,c.end),m=!h&&!g&&sk(u,c);return{formattedValue:t.value(u),id:"".concat(i).concat(u.getTime()),isFocused:t.isEqual(u,n),isSelected:r&&p&&t.isEqual(u,s),isWeekend:!1,isRangeStart:h,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&t.isEqual(u,d),isRangeSplitStart:m&&t.isEqual(u,f),isToday:t.isEqual(u,v),title:t.cellTitle(u),value:u}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&xy(e).getFullYear()===xy(t).getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()+99}},{key:"isInRange",value:function(e,t,i){var n=xy(e).getFullYear(),r=!t||xy(t).getFullYear()<=n,a=!i||n<=xy(i).getFullYear();return r&&a}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=xy(wy(e));return fy(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%1e3==0}},{key:"move",value:function(e,t){var i=ck[t];return i?i(e):e}},{key:"cellTitle",value:function(e){return xy(e).getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?wy(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(wy(e).getFullYear()," - ").concat(_y(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return Sy(t,e)}},{key:"total",value:function(e,t){return Sy(e,t)+1}},{key:"value",value:function(e){return e?xy(e).getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.total(e,t);return n<i?ky(e,-1*(i-n)):e}},{key:"normalize",value:function(e,t,i){return e<t&&this.isEqual(e,t)?cy(t):e>i&&this.isEqual(e,i)?cy(i):e}}]),e}()).\u0275fac=function(e){return new(e||jb)},jb.\u0275prov=y.Nb({token:jb,factory:jb.\u0275fac}),jb),hk=[[]],fk=(_defineProperty(a={},Ub.Left,(function(e){return yy(e,-1)})),_defineProperty(a,Ub.Up,(function(e){return yy(e,-5)})),_defineProperty(a,Ub.Right,(function(e){return yy(e,1)})),_defineProperty(a,Ub.Down,(function(e){return yy(e,5)})),_defineProperty(a,Ub.PrevView,(function(e){return by(e,-1)})),_defineProperty(a,Ub.NextView,(function(e){return by(e,1)})),_defineProperty(a,Ub.FirstInView,(function(e){return xy(e)})),_defineProperty(a,Ub.LastInView,(function(e){return Ty(e)})),a),dk=((Vb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToDate",value:function(e,t){return by(e,t)}},{key:"datesList",value:function(e,t){return Zb(0,t).map((function(t){return by(e,t)}))}},{key:"data",value:function(e){var t=this,i=e.cellUID,n=e.focusedDate,r=e.isActiveView,a=e.max,o=e.min,s=e.selectedDate,l=e.selectionRange,c=void 0===l?qb:l,u=e.viewDate;if(!u)return hk;var h=Zb(0,5),f=xy(u),d=Ty(u),p=$b(s,o,a),v=tk();return Zb(0,2).map((function(e){var l=yy(f,5*e);return h.map((function(e){var u=t.normalize(yy(l,e),o,a);if(!t.isInRange(u,o,a))return null;var h=t.isEqual(u,c.start),g=t.isEqual(u,c.end),m=!h&&!g&&sk(u,c);return{formattedValue:t.value(u),id:"".concat(i).concat(u.getTime()),isFocused:t.isEqual(u,n),isSelected:r&&p&&t.isEqual(u,s),isWeekend:!1,isRangeStart:h,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&t.isEqual(u,d),isRangeSplitStart:m&&t.isEqual(u,f),isToday:t.isEqual(u,v),title:t.cellTitle(u),value:u}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()+9}},{key:"isInRange",value:function(e,t,i){var n=e.getFullYear(),r=!t||t.getFullYear()<=n,a=!i||n<=i.getFullYear();return r&&a}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=xy(e);return fy(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%100==0}},{key:"move",value:function(e,t){var i=fk[t];return i?i(e):e}},{key:"cellTitle",value:function(e){return e.getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?xy(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(xy(e).getFullYear()," - ").concat(Ty(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return Iy(t,e)}},{key:"total",value:function(e,t){return Iy(e,t)+1}},{key:"value",value:function(e){return e?e.getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.total(e,t);return n<i?by(e,-1*(i-n)):e}},{key:"normalize",value:function(e,t,i){return e<t&&this.isEqual(e,t)?cy(t):e>i&&this.isEqual(e,i)?cy(i):e}}]),e}()).\u0275fac=function(e){return new(e||Vb)},Vb.\u0275prov=y.Nb({token:Vb,factory:Vb.\u0275fac}),Vb),pk=[[]],vk=(_defineProperty(o={},Ub.Left,(function(e){return hy(e,-1)})),_defineProperty(o,Ub.Up,(function(e){return Oy(e,-1)})),_defineProperty(o,Ub.Right,(function(e){return hy(e,1)})),_defineProperty(o,Ub.Down,(function(e){return Oy(e,1)})),_defineProperty(o,Ub.PrevView,(function(e){return gy(e,-1)})),_defineProperty(o,Ub.NextView,(function(e){return gy(e,1)})),_defineProperty(o,Ub.FirstInView,(function(e){return Ey(e)})),_defineProperty(o,Ub.LastInView,(function(e){return vy(e)})),o),gk=((Bb=function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"addToDate",value:function(e,t){return gy(e,t)}},{key:"datesList",value:function(e,t){return Zb(0,t).map((function(t){return gy(e,t)}))}},{key:"data",value:function(e){var t=this,i=e.cellUID,n=e.focusedDate,r=e.isActiveView,a=e.max,o=e.min,s=e.selectedDate,l=e.selectionRange,c=void 0===l?qb:l,u=e.viewDate,h=e.isDateDisabled,f=void 0===h?function(){return!1}:h;if(!u)return pk;var d=Ey(u),p=dy(d),v=vy(u),g=dy(v),m=$b(s,o,a),y=Ry(d,this._intlService.firstDay(),-1),b=Zb(0,7),k=tk();return Zb(0,6).map((function(e){var l=hy(y,7*e);return b.map((function(e){var u=t.normalize(hy(l,e),o,a),h=dy(u);if(h<p||h>g||u<o||u>a)return null;var y=t.isEqual(u,c.start),b=t.isEqual(u,c.end),C=!y&&!b&&sk(u,c);return{formattedValue:t.value(u),id:"".concat(i).concat(u.getTime()),isFocused:t.isEqual(u,n),isSelected:r&&m&&t.isEqual(u,s),isWeekend:t.isWeekend(u),isRangeStart:y,isRangeMid:C,isRangeEnd:b,isRangeSplitStart:C&&t.isEqual(u,d),isRangeSplitEnd:C&&t.isEqual(u,v),isToday:t.isEqual(u,k),title:t.cellTitle(u),value:u,isDisabled:f(u)}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&dy(e).getTime()===dy(t).getTime()}},{key:"isInArray",value:function(e,t){if(0===t.length)return!1;var i=this.beginningOfPeriod(t[0]),n=this.beginningOfPeriod(gy(t[t.length-1],1));return i<=e&&e<n}},{key:"isInRange",value:function(e,t,i){var n=dy(e),r=!t||dy(t)<=n,a=!i||n<=dy(i);return r&&a}},{key:"beginningOfPeriod",value:function(e){return e?fy(e.getFullYear(),e.getMonth(),1):e}},{key:"isRangeStart",value:function(e){return!e.getMonth()}},{key:"move",value:function(e,t){var i=vk[t];return i?i(e):e}},{key:"cellTitle",value:function(e){return this._intlService.formatDate(e,"D")}},{key:"navigationTitle",value:function(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}},{key:"title",value:function(e){return"".concat(this.wideMonthNames()[e.getMonth()]," ").concat(e.getFullYear())}},{key:"rowLength",value:function(e){return 7+(e?1:0)}},{key:"skip",value:function(e,t){return Dy(t,e)}},{key:"total",value:function(e,t){return Dy(e,t)+1}},{key:"value",value:function(e){return e?e.getDate().toString():""}},{key:"viewDate",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.total(e,t);return n<i?gy(e,-1*(i-n)):e}},{key:"isWeekend",value:function(e){var t=this._intlService.weekendRange(),i=t.start,n=t.end,r=e.getDay();return n<i?r<=n||i<=r:i<=r&&r<=n}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,i){return e<t&&this.isEqual(e,t)?cy(t):e>i&&this.isEqual(e,i)?cy(i):e}},{key:"wideMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}]),e}()).\u0275fac=function(e){return new(e||Bb)(y.cc(dm))},Bb.\u0275prov=y.Nb({token:Bb,factory:Bb.\u0275fac}),Bb),mk=[[]],yk=(_defineProperty(s={},Ub.Left,(function(e){return gy(e,-1)})),_defineProperty(s,Ub.Up,(function(e){return gy(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t})),_defineProperty(s,Ub.Right,(function(e){return gy(e,1)})),_defineProperty(s,Ub.Down,(function(e){return gy(e,(t=e.getMonth())<7?5:t<10?7:2);var t})),_defineProperty(s,Ub.PrevView,(function(e){return yy(e,-1)})),_defineProperty(s,Ub.NextView,(function(e){return yy(e,1)})),_defineProperty(s,Ub.FirstInView,(function(e){return zy(e)})),_defineProperty(s,Ub.LastInView,(function(e){return Py(e)})),s),bk=((Nb=function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"addToDate",value:function(e,t){return yy(e,t)}},{key:"datesList",value:function(e,t){return Zb(0,t).map((function(t){return yy(e,t)}))}},{key:"data",value:function(e){var t=this,i=e.cellUID,n=e.focusedDate,r=e.isActiveView,a=e.max,o=e.min,s=e.selectedDate,l=e.selectionRange,c=void 0===l?qb:l,u=e.viewDate;if(!u)return mk;var h=this.abbrMonthNames(),f=$b(s,o,a),d=zy(u),p=Py(u),v=d.getFullYear(),g=Zb(0,5),m=tk();return Zb(0,3).map((function(e){var l=gy(d,5*e);return g.map((function(e){var u=t.normalize(gy(l,e),o,a),g=v<u.getFullYear();if(!t.isInRange(u,o,a)||g)return null;var y=t.isEqual(u,c.start),b=t.isEqual(u,c.end),k=!y&&!b&&sk(u,c);return{formattedValue:h[u.getMonth()],id:"".concat(i).concat(u.getTime()),isFocused:t.isEqual(u,n),isSelected:r&&f&&t.isEqual(u,s),isWeekend:!1,isRangeStart:y,isRangeMid:k,isRangeEnd:b,isRangeSplitEnd:k&&t.isEqual(u,p),isRangeSplitStart:k&&t.isEqual(u,d),isToday:t.isEqual(u,m),title:t.cellTitle(u),value:u}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()}},{key:"isInRange",value:function(e,t,i){var n=fy(e.getFullYear(),e.getMonth(),1),r=!t||fy(t.getFullYear(),t.getMonth(),1)<=n,a=!i||n<=fy(i.getFullYear(),i.getMonth(),1);return r&&a}},{key:"beginningOfPeriod",value:function(e){return e?fy(e.getFullYear(),0,1):e}},{key:"isRangeStart",value:function(e){return e.getFullYear()%10==0}},{key:"move",value:function(e,t){var i=yk[t];return i?i(e):e}},{key:"cellTitle",value:function(e){return"".concat(e.getFullYear()," ").concat(this.value(e))}},{key:"navigationTitle",value:function(e){return this.title(e)}},{key:"title",value:function(e){return e?e.getFullYear().toString():""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return Fy(t,e)}},{key:"total",value:function(e,t){return Fy(e,t)+1}},{key:"value",value:function(e){return e?this.abbrMonthNames()[e.getMonth()]:""}},{key:"viewDate",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.total(e,t);return n<i?yy(e,-1*(i-n)):e}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,i){return e<t&&this.isEqual(e,t)?cy(t):e>i&&this.isEqual(e,i)?cy(i):e}}]),e}()).\u0275fac=function(e){return new(e||Nb)(y.cc(dm))},Nb.\u0275prov=y.Nb({token:Nb,factory:Nb.\u0275fac}),Nb),kk=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({}),Ck=(_defineProperty(l={},kk.month,gk),_defineProperty(l,kk.year,bk),_defineProperty(l,kk.decade,dk),_defineProperty(l,kk.century,uk),l),wk=((Hb=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.viewChanged=new y.o,this.bottom=kk.month,this.top=kk.century}return _createClass(e,[{key:"configure",value:function(e,t){this.bottom=e,this.top=t}},{key:"service",value:function(e){var t=Ck[e];return t?this.injector.get(t):null}},{key:"moveDown",value:function(e){this.move(e,-1)}},{key:"moveUp",value:function(e){this.move(e,1)}},{key:"moveToBottom",value:function(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}},{key:"canMoveDown",value:function(e){return this.bottom<e}},{key:"canMoveUp",value:function(e){return e<this.top}},{key:"clamp",value:function(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}},{key:"move",value:function(e,t){var i=this.clamp(function(e,t){var i=kk[kk[e+t]];return void 0!==i?i:e}(e,t));i!==e&&this.viewChanged.emit({view:i})}}]),e}()).\u0275fac=function(e){return new(e||Hb)(y.cc(y.s))},Hb.\u0275prov=y.Nb({token:Hb,factory:Hb.\u0275fac}),Hb),_k=rk("div"),xk=rk("ul"),Sk=rk("li"),Tk=rk("td"),Ik=rk("th"),Ok=rk("tr"),Ek=rk("tbody"),Ak=rk("thead"),Rk=rk("table"),Dk=function(e,t){return new Array(e).fill("1").map(t)},Mk=function(e){return _k(e,"k-content k-scrollable")},zk=function(){return Si?(Gb||(Gb=_k([Mk([xk([Sk("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),Gb):null},Pk=function(e,t,i){var n,r=e.cells,a=e.rows;return function(){return Si?(n||(n=function(e,t,i){return _k([_k('\n            <span class="k-calendar-title">March 2017</span>\n            <span class="k-calendar-today">TODAY</span>\n        ',"k-calendar-header"),i?Rk([Ak([Ok([Ik("MO")])])],"k-calendar-weekdays"):null,Mk([e,e])],t,{left:"-10000px",position:"absolute"})}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Rk([Ek([Ok([Ik("1")])].concat(Dk(e,(function(){return Ok(Dk(t,(function(e){return Tk('<span class="k-link">'.concat(e,"</span>"))})))}))))])}(a,r),t,i)),n):null}},Fk=function(e){return e.querySelector(".k-scrollable")},Lk=function(e){return Fk(e).classList.add("k-scrollable-horizontal"),e},jk=Pk({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),Vk=Pk({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),Bk=Pk({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),Nk=function(e){return parseFloat(window.getComputedStyle(e).height)||e.offsetHeight},Hk=function(e){var t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},Gk=function(e){return e.querySelector("tbody")},Wk=((Wb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ensureHeights",value:function(){void 0===this.calendarHeight&&this.calculateHeights()}},{key:"calculateHeights",value:function(e){var t=this;Si()&&(this.hostContainer=e,this.batch(jk(),(function(e){var i=Gk(e);t.calendarHeight=Nk(e),t.monthViewHeight=Nk(i),t.headerHeight=Nk(i.children[0]),t.scrollableContentHeight=Nk(Fk(e))})),this.batch(Lk(jk()),(function(e){var i=Gk(e);t.calendarWidth=Hk(e),t.monthViewWidth=Hk(i),t.scrollableContentWidth=Hk(Fk(e))})),this.batch(Vk(),(function(e){t.yearViewHeight=Nk(Gk(e)),t.scrollableYearContentHeight=Nk(Fk(e))})),this.batch(Lk(Vk()),(function(e){t.yearViewWidth=Hk(Gk(e))})),this.batch(Bk(),(function(e){t.decadeViewHeight=Nk(Gk(e)),t.centuryViewHeight=t.decadeViewHeight})),this.batch(Lk(Bk()),(function(e){t.decadeViewWidth=Hk(Gk(e)),t.centuryViewWidth=t.decadeViewWidth})),this.batch(zk(),(function(e){t.navigationItemHeight=Nk(e.querySelector("li"))})))}},{key:"viewHeight",value:function(e){return this.viewDimension(e,"height")}},{key:"viewWidth",value:function(e){return this.viewDimension(e,"width")}},{key:"viewDimension",value:function(e,t){var i="height"===t?"ViewHeight":"ViewWidth";switch(e){case kk.month:return this["month".concat(i)];case kk.year:return this["year".concat(i)];case kk.decade:return this["decade".concat(i)];case kk.century:return this["century".concat(i)];default:return 1}}},{key:"batch",value:function(e,t){var i=this.hostContainer||document.body,n=i.appendChild(e);t(n),i.removeChild(n)}}]),e}()).\u0275fac=function(e){return new(e||Wb)},Wb.\u0275prov=y.Nb({token:Wb,factory:Wb.\u0275fac}),Wb),Uk=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.total=t,this.rowHeight=i,this.detailRowHeight=n,this.offsets=[],this.heights=[];for(var r=0,a=0;a<t;a++)this.offsets.push(r),r+=i,this.heights.push(i)}return _createClass(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,i,n){return void 0!==t?t:i===e?n:i>e?n-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.heights[e]+=t,this.offsets=function(e,t,i){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+i}))))}(this.offsets,e,t)}}]),e}(),qk=function(e){return Math.max(e,0)},Xk=function e(t){_classCallCheck(this,e),this.offset=t},Jk=function e(t){_classCallCheck(this,e),this.skip=t},Yk=function(){function e(t){_classCallCheck(this,e),this.scrollObservable=t,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}return _createClass(e,[{key:"create",value:function(e,t,i,n){var r=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"vertical";this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=n,this.lastScroll=0,this.topOffset=a,this.bottomOffset=o,this.direction=s;var l=new By.a(2),c=this.rowsForHeight(a),u=qk(t-c);return l.next(new Xk(this.rowOffset(u))),c&&l.next(new Jk(u)),this.subscription=k.a.create((function(e){r.unsubscribe(),r.scrollSubscription=r.scrollObservable.subscribe((function(t){return r.onScroll(t,e)}))})).subscribe((function(e){return l.next(e)})),l}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var i=e.scrollLeft,n=e.scrollTop,r=e.offsetHeight,a=e.offsetWidth,o="vertical"===this.direction?n:i,s="vertical"===this.direction?r:a;if(this.lastScroll!==o){var l=this.lastScroll>=o;this.lastScroll=o;var c=this.rowHeightService.index(qk(o-this.topOffset)),u=this.rowHeightService.index(qk(o+s-this.bottomOffset));if(!l&&u>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=c,t.next(new Xk(this.rowOffset(c))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new Jk(this.firstLoaded))),l&&c<=this.firstLoaded){var h=Math.floor(.3*this.take);this.firstLoaded=qk(c-h),t.next(new Xk(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new Jk(this.firstLoaded))}}}},{key:"rowOffset",value:function(e){return this.rowHeightService.offset(e)+this.topOffset}},{key:"rowsForHeight",value:function(e){return Math.ceil(e/this.rowHeightService.height(0))}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}]),e}(),Kk=new y.r("dateinputs-scroll-service-factory");function Zk(e){return new Yk(e)}var $k,Qk,eC,tC,iC,nC,rC,aC,oC,sC,lC,cC,uC,hC,fC,dC,pC,vC,gC,mC,yC,bC,kC,CC,wC,_C,xC,SC,TC,IC,OC,EC,AC,RC,DC,MC,zC=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({}),PC=(_defineProperty(c={},zC.Forward,(function(e){return function(t){return t+e}})),_defineProperty(c,zC.Backward,(function(e){return function(t){return t-e}})),c),FC=(_defineProperty(u={},zC.Forward,(function(e){return function(t){return Math.min(t,e)}})),_defineProperty(u,zC.Backward,(function(e){return function(t){return Math.max(t,e)}})),u),LC=(_defineProperty(h={},zC.Forward,(function(e){return function(t){return t<e}})),_defineProperty(h,zC.Backward,(function(e){return function(t){return t>e}})),h),jC=(($k=function(){function e(t,i,n,r){_classCallCheck(this,e),this.container=i,this.renderer=n,this.zone=r,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new y.o,this.pageChange=new y.o,this.scrollChange=new y.o,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new yt.a,this.scroller=t(this.dispatcher)}return _createClass(e,[{key:"ngOnChanges",value:function(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}},{key:"ngOnInit",value:function(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.containerScrollSubscription=e.scroll$().pipe(Object(w.a)((function(e){return e.target}))).subscribe((function(t){e.dispatcher.next(t),e.emitActiveIndex()}))}))}},{key:"ngOnDestroy",value:function(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}},{key:"getContainerProperty",value:function(e){return this.container.nativeElement[e]}},{key:"activeIndex",value:function(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}},{key:"itemIndex",value:function(e){return this.rowHeightService.index(e)}},{key:"itemOffset",value:function(e){return this.rowHeightService.offset(e)}},{key:"isIndexVisible",value:function(e){if(!this.rowHeightService)return!1;var t=this.containerScrollPosition,i=t+this.containerOffsetSize,n=this.rowHeightService.offset(e),r=n+this.rowHeightService.height(e);return n>=t&&r<=i}},{key:"isListScrolled",value:function(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}},{key:"scrollTo",value:function(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}},{key:"scrollToIndex",value:function(e){var t=this;this.zone.runOutsideAngular((function(){t.resolvedPromise.then((function(){t.scrollTo(t.rowHeightService.offset(e))}))}))}},{key:"scrollToBottom",value:function(){this.scrollTo(this.totalSize)}},{key:"animateToIndex",value:function(e){var t=this;this.animationSubscription&&this.animationSubscription.unsubscribe();var i=this.rowHeightService.offset(e),n=this.getContainerScrollDirection(i),r=this.scrollRange(i,n),a=r.start,o=r.end;if(a!==o){var s=this.scrollStep(a,o),l=PC[n](s),c=FC[n](o),u=LC[n](l(o));this.zone.runOutsideAngular((function(){t.animationSubscription=Object(Ny.a)(Object(vt.a)(a),Dt(0,Gy)).pipe(Object(w.a)((function(e){return e[0]})),Object(Uy.a)(l),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){return i.lift(new qy(e,t))}}(u),Object(w.a)(c)).subscribe((function(e){return t.scrollTo(e)}))}))}}},{key:"scrollRange",value:function(e,t){var i=this.containerScrollPosition;if(parseInt(e,10)===parseInt(i,10))return{start:e,end:e};var n,r=this.containerMaxScroll(),a=t===zC.Backward?1:-1,o=(n=this.maxScrollDifference,Math.min(Math.abs(e-i),n)),s=Math.min(e,r);return{start:Math.min(Math.max(s+a*o,0),r),end:s}}},{key:"scrollStep",value:function(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}},{key:"scroll$",value:function(){return Si()?mt(this.container.nativeElement,"scroll"):Wy.a}},{key:"initServices",value:function(){var e=this;this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe((function(t){t instanceof Jk?e.pageChange.emit(t):e.scrollChange.emit(t)}))}},{key:"createRowHeightService",value:function(){return new Uk(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}},{key:"emitActiveIndex",value:function(){var e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}},{key:"containerMaxScroll",value:function(){return this.containerScrollSize-this.containerOffsetSize}},{key:"getContainerScrollDirection",value:function(e){return e<this.containerScrollPosition?zC.Backward:zC.Forward}},{key:"totalVertexLength",get:function(){var e="".concat(this.totalSize,"px");return"vertical"===this.direction?{height:e}:{width:e}}},{key:"containerOffsetSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}},{key:"containerScrollSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}},{key:"containerScrollPosition",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}},{key:"wrapperClasses",get:function(){return!0}},{key:"horizontalClass",get:function(){return"horizontal"===this.direction}}]),e}()).\u0275fac=function(e){return new(e||$k)(y.Rb(Kk),y.Rb(y.m),y.Rb(y.F),y.Rb(y.A))},$k.\u0275cmp=y.Lb({type:$k,selectors:[["kendo-virtualization"]],hostVars:6,hostBindings:function(e,t){2&e&&y.Jb("k-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[y.Db([{provide:Kk,useValue:Zk}]),y.Cb],ngContentSelectors:Jy,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(y.nc(),y.mc(0),y.Sb(1,"div",0)),2&e&&(y.Eb(1),y.Jb("k-scrollable-horizontal-placeholder","horizontal"===t.direction),y.oc("ngStyle",t.totalVertexLength))},directives:[b.k],encapsulation:2}),$k),VC=function(e,t,i){for(;e&&e!==i&&!t(e);)e=e.parentNode;if(e!==i)return e},BC=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},NC=((eC=function(){function e(t,i,n,r,a){_classCallCheck(this,e),this.bus=t,this.dom=i,this.intl=n,this.cdr=r,this.renderer=a,this.min=new Date(Xb),this.max=new Date(Jb),this.focusedDate=new Date,this.valueChange=new y.o,this.pageChange=new y.o,this.dates=[],this.take=30,this.indexToScroll=-1}return _createClass(e,[{key:"ngOnInit",value:function(){this.dom.ensureHeights();var e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.activeViewValue=kk[this.activeView];var t=ek(this.focusedDate,this.min,this.max),i=this.service.total(this.min,this.max),n=this.total&&this.total!==i;this.skip=this.service.skip(t,this.min),this.total=i,!n&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||n)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,i=this.list.nativeElement,n="translateY(".concat(t,"px)");this.renderer.setStyle(i,"transform",n),this.renderer.setStyle(i,"-ms-transform",n)}},{key:"handleDateChange",value:function(e){var t=VC(e.target,(function(e){return e.hasAttribute("data-date-index")}),this.list.nativeElement);if(t){var i=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(cy(this.dates[i]))}}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"intlChange",value:function(){this.activeView===kk.month&&this.cdr.markForCheck()}},{key:"getComponentClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||eC)(y.Rb(wk),y.Rb(Wk),y.Rb(dm),y.Rb(y.h),y.Rb(y.F))},eC.\u0275cmp=y.Lb({type:eC,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){var i;1&e&&(y.Qc(jC,!0),y.Hc(Yy,!0)),2&e&&(y.zc(i=y.hc())&&(t.virtualization=i.first),y.zc(i=y.hc())&&(t.list=i.first))},hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-calendar-navigation",t.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[y.Cb],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(y.Sb(0,"span",0),y.Xb(1,"kendo-virtualization",1),y.gc("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)})),y.Xb(2,"ul",2,3),y.Jc(4,Qy,4,11,"li",4),y.Wb(),y.Wb()),2&e&&(y.Eb(1),y.oc("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),y.Eb(1),y.oc("kendoEventsOutsideAngular",y.rc(10,eb,t.handleDateChange))("scope",t),y.Eb(2),y.oc("kForOf",t.dates))},directives:function(){return[jC,Di,Sw,b.j,b.o]},encapsulation:2,changeDetection:0}),eC),HC=((Qk=function(){function e(t,i,n,r,a){_classCallCheck(this,e),this.bus=t,this.cdr=i,this.intl=n,this.dom=r,this.renderer=a,this.isActive=!0,this.min=new Date(Xb),this.max=new Date(Jb),this.activeDateChange=new y.o,this.valueChange=new y.o,this.pageChange=new y.o,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}return _createClass(e,[{key:"ngOnInit",value:function(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.cols=new Array(this.service.rowLength(this.weekNumber)).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=ak(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;var t,i,n=ak(e,"activeView"),r=this.focusedDate,a=ek(this.service.viewDate(r,this.max,this.minViewsToRender),this.min,this.max),o=this.service.total(this.min,this.max),s=this.total&&this.total!==o||!this.service.isInArray(r,this.dates);this.skip=this.service.skip(a,this.min),this.total=o,this.animateToIndex=!n,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),s&&(this.dates=this.service.datesList(a,this.getTake(this.skip))),i=r,(t=this.activeDate)&&i&&t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()||(this.activeDate=cy(r));var l=ak(e,"focusedDate")||n;(s||l||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(r,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,i=this.list.nativeElement,n="translateY(".concat(t,"px)");this.renderer.setStyle(i,"transform",n),this.renderer.setStyle(i,"-ms-transform",n)}},{key:"setActiveDate",value:function(e){var t=this.service.addToDate(this.min,e);py(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}},{key:"handleDateChange",value:function(e){this.valueChange.emit(e)}},{key:"isMonthView",value:function(){return this.activeView===kk.month}},{key:"isScrolled",value:function(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}},{key:"getBottomOffset",value:function(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}},{key:"getScrollableHeight",value:function(){return this.activeView===kk.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"getWeekNames",value:function(){var e=nk(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}},{key:"intlChange",value:function(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}},{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.isMonthView()},set:function(e){this.showWeekNumbers=e}},{key:"getComponentClass",get:function(){return!0}},{key:"getComponentMonthClass",get:function(){return this.activeView===kk.month}},{key:"getComponentYearClass",get:function(){return this.activeView===kk.year}},{key:"getComponentDecadeClass",get:function(){return this.activeView===kk.decade}},{key:"getComponentCenturyClass",get:function(){return this.activeView===kk.century}}]),e}()).\u0275fac=function(e){return new(e||Qk)(y.Rb(wk),y.Rb(y.h),y.Rb(dm),y.Rb(Wk),y.Rb(y.F))},Qk.\u0275cmp=y.Lb({type:Qk,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){var i;1&e&&(y.Qc(jC,!0),y.Hc(Yy,!0)),2&e&&(y.zc(i=y.hc())&&(t.virtualization=i.first),y.zc(i=y.hc())&&(t.list=i.first))},hostVars:10,hostBindings:function(e,t){2&e&&y.Jb("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",value:"value"},outputs:{activeDateChange:"activeDateChange",valueChange:"valueChange",pageChange:"pageChange"},features:[y.Cb],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","today"],["class","k-calendar-weekdays","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],["list",""],[4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change",4,"kFor","kForOf"],[1,"k-calendar-weekdays",2,"table-layout","auto"],[3,"width",4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-calendar-header",0),y.gc("today",(function(e){return t.handleDateChange(e)})),y.Wb(),y.Jc(1,ib,4,1,"table",1),y.Xb(2,"kendo-virtualization",2),y.gc("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)}))("activeIndexChange",(function(e){return t.setActiveDate(e)})),y.Xb(3,"table",null,3),y.Xb(5,"colgroup"),y.Jc(6,nb,1,0,"col",4),y.Wb(),y.Jc(7,rb,1,11,"tbody",5),y.Wb(),y.Wb()),2&e&&(y.oc("currentDate",t.activeDate)("min",t.min)("max",t.max)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),y.Eb(1),y.oc("ngIf",t.isMonthView()),y.Eb(1),y.oc("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),y.Eb(4),y.oc("ngForOf",t.cols),y.Eb(1),y.oc("kForOf",t.dates))},directives:function(){return[Tw,b.j,jC,b.i,Sw,Ow]},encapsulation:2,changeDetection:0}),Qk),GC={33:Ub.PrevView,34:Ub.NextView,35:Ub.LastInView,36:Ub.FirstInView,37:Ub.Left,38:Ub.Up,39:Ub.Right,40:Ub.Down,"meta+38":Ub.UpperView,"meta+40":Ub.LowerView},WC=function(){var e=function(){function e(t){_classCallCheck(this,e),this.bus=t}return _createClass(e,[{key:"action",value:function(e){return GC["".concat(e.ctrlKey||e.metaKey?"meta+":"").concat(e.keyCode)]}},{key:"move",value:function(e,t,i){var n=this.bus.service(i);return n?t===Ub.UpperView&&this.bus.canMoveUp(i)?(this.bus.moveUp(i),e):t===Ub.LowerView&&this.bus.canMoveDown(i)?(this.bus.moveDown(i),e):n.move(e,t):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.cc(wk))},e.\u0275prov=y.Nb({token:e,factory:e.\u0275fac}),e}(),UC=((uC=function(){function e(t,i){_classCallCheck(this,e),this.dom=t,this.zone=i}return _createClass(e,[{key:"configure",value:function(e){var t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=function(e){return function(t){return Math.floor(t/e)}}(t),this.powerByMagnitude=function(e){return function(t){return t*e}}(t)}},{key:"sync",value:function(e,t){var i=this;this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular((function(){var n,r;i.navSubscription=e.scroll$().subscribe((function(e){r?r=!1:(n=!0,i.scrollSiblingOf(e.target))})),i.viewSubscription=t.scroll$().subscribe((function(e){n?n=!1:(r=!0,i.scrollSiblingOf(e.target))}))})))}},{key:"scrollSiblingOf",value:function(e){var t=this.siblingComponent(e),i=this.calculateScroll(t,e.scrollTop);t.scrollTo(i)}},{key:"siblingComponent",value:function(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}},{key:"calculateScroll",value:function(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}},{key:"destroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||uC)(y.cc(Wk),y.cc(y.A))},uC.\u0275prov=y.Nb({token:uC,factory:uC.\u0275fac}),uC),qC=((cC=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||cC)(y.Rb(y.N))},cC.\u0275dir=y.Mb({type:cC,selectors:[["","kendoCalendarCellTemplate",""]]}),cC),XC=((lC=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||lC)(y.Rb(y.N))},lC.\u0275dir=y.Mb({type:lC,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),lC),JC=((sC=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||sC)(y.Rb(y.N))},sC.\u0275dir=y.Mb({type:sC,selectors:[["","kendoCalendarYearCellTemplate",""]]}),sC),YC=((oC=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||oC)(y.Rb(y.N))},oC.\u0275dir=y.Mb({type:oC,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),oC),KC=((aC=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||aC)(y.Rb(y.N))},aC.\u0275dir=y.Mb({type:aC,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),aC),ZC=((rC=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||rC)(y.Rb(y.N))},rC.\u0275dir=y.Mb({type:rC,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),rC),$C=((nC=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||nC)(y.Rb(y.N))},nC.\u0275dir=y.Mb({type:nC,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),nC),QC=((iC=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||iC)(y.Rb(y.N))},iC.\u0275dir=y.Mb({type:iC,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),iC),ew=((tC=function e(){_classCallCheck(this,e),this.onFocus=new y.o,this.onBlur=new y.o,this.sameDateSelected=new y.o}).\u0275fac=function(e){return new(e||tC)},tC.\u0275prov=y.Nb({token:tC,factory:tC.\u0275fac}),tC),tw=function(e){return function(t){return e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null}},iw=function(e){return function(t){return e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null}},nw=function(e){return e&&(!e.touched||e.control&&"blur"===e.control.updateOn)},rw=function(e){return e.preventDefault()},aw=function(e){return null!=e},ow=function(){return!1},sw=((hC=function(){function e(){_classCallCheck(this,e),this.changes=new yt.a,this.isDateDisabled=ow}return _createClass(e,[{key:"initialize",value:function(e){if("function"==typeof e)this.isDateDisabled=function(t){return e(dy(t))};else if(n=e,Array.isArray(n)&&n.length>0&&n.every((function(e){return"number"==typeof e}))){var t=new Set(e);this.isDateDisabled=function(e){return t.has(e.getDay())}}else if(function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return e instanceof Date}))}(e)){var i=new Set(e.map((function(e){return dy(e).getTime()})));this.isDateDisabled=function(e){return i.has(dy(e).getTime())}}else this.isDateDisabled=ow,this.notifyInvalidInput(e);var n;this.notifyServiceChange()}},{key:"notifyInvalidInput",value:function(e){if(aw(e)&&Object(y.Y)())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}},{key:"notifyServiceChange",value:function(){this.changes.next()}}]),e}()).\u0275fac=function(e){return new(e||hC)},hC.\u0275prov=y.Nb({token:hC,factory:hC.\u0275fac}),hC),lw=function(e){return e?e.virtualization:null},cw={multi:!0,provide:A,useExisting:Object(y.W)((function(){return fw}))},uw={multi:!0,provide:X,useExisting:Object(y.W)((function(){return fw}))},hw={provide:Gi,useExisting:Object(y.W)((function(){return fw}))},fw=((fC=function(){function e(t,i,n,r,a,o,s,l,c,u,h){_classCallCheck(this,e),this.bus=t,this.dom=i,this.element=n,this.navigator=r,this.renderer=a,this.cdr=o,this.ngZone=s,this.injector=l,this.scrollSyncService=c,this.disabledDatesService=u,this.pickerService=h,this.id=Ei(),this.rangeValidation=!1,this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=kk[kk.month],this.bottomView=kk[kk.month],this.topView=kk[kk.century],this.weekNumber=!1,this.activeViewChange=new y.o,this.activeViewDateChange=new y.o,this.valueChange=new y.o,this.isActive=!1,this.cellUID=Ei(),this._min=new Date(Xb),this._max=new Date(Jb),this._focusedDate=tk(),this.onControlChange=ik,this.onControlTouched=ik,this.onValidatorChange=ik,this.minValidateFn=ik,this.maxValidateFn=ik,this.syncNavigation=!0,this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,this.setClasses(n.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.viewChangeSubscription=this.bus.viewChanged.subscribe((function(t){var i=t.view;e.activeView=kk[i],e.emitEvent(e.activeViewChange,e.activeView),e.scrollSyncService.configure(i),e.detectChanges()})),this.control=this.injector.get(H,null),this.element&&this.ngZone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum);var t=ok(e,"value")&&!ok(e,"focusedDate"),i=ek(cy(t?this.value:this.focusedDate),this.min,this.max);this.focusedDate=py(this.focusedDate,i)?this.focusedDate:i,e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?tw(this.min):ik,this.maxValidateFn=this.rangeValidation?iw(this.max):ik,this.onValidatorChange())}},{key:"ngAfterViewInit",value:function(){this.setAriaActivedescendant()}},{key:"ngAfterViewChecked",value:function(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(lw(this.navigationView),lw(this.monthView)))}},{key:"ngOnDestroy",value:function(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.destroyed=!0}},{key:"focus",value:function(){this.element&&this.element.nativeElement.focus()}},{key:"blur",value:function(){this.element&&this.element.nativeElement.blur()}},{key:"containsElement",value:function(e){var t=this;return Boolean(BC(e,(function(e){return e===t.element.nativeElement})))}},{key:"handleNavigation",value:function(e){this.disabled||(this.focusedDate=ek(cy(e)||this.focusedDate,this.min,this.max),this.detectChanges())}},{key:"onPageChange",value:function(){var e=this;y.A.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=Object(x.a)(this.resolvedPromise).subscribe((function(){e.detectChanges()})))}},{key:"handleDateChange",value:function(e){var t=this,i=this.bus.canMoveDown(this.activeViewEnum),n=!i&&py(e,this.value);this.focusedDate=cy(e)||this.focusedDate,this.disabled||(n?this.emitSameDate():i?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(e)||this.ngZone.run((function(){t.value=cy(e),t.onControlChange(cy(e)),t.valueChange.emit(cy(e)),t.cdr.markForCheck()})))}},{key:"writeValue",value:function(e){this.verifyValue(e),this.focusedDate=ek(cy(e)||this.focusedDate,this.min,this.max),this.value=cy(e),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"activeCellTemplate",value:function(){switch(this.activeViewEnum){case kk.month:return this.monthCellTemplate||this.cellTemplate;case kk.year:return this.yearCellTemplate;case kk.decade:return this.decadeCellTemplate;case kk.century:return this.centuryCellTemplate;default:return null}}},{key:"emitEvent",value:function(e,t){Oi(e)&&this.ngZone.run((function(){e.emit(t)}))}},{key:"setClasses",value:function(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-infinite")}},{key:"verifyChanges",value:function(){if(Object(y.Y)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}},{key:"verifyValue",value:function(e){if(Object(y.Y)()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json for possible resolution.")}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",rw),this.renderer.listen(e,"click",this.handleClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}},{key:"emitBlur",value:function(e){this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"emitFocus",value:function(){this.pickerService&&this.pickerService.onFocus.emit()}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,!this.pickerService&&nw(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e),t.cdr.markForCheck()})):(this.emitBlur(e),this.detectChanges())}},{key:"handleFocus",value:function(){this.isActive=!0,y.A.isInAngularZone()||this.detectChanges(),this.emitFocus()}},{key:"handleClick",value:function(){this.isActive||(this.monthView.isScrolled()&&(this.focusedDate=cy(this.focusedDate),this.detectChanges()),this.focus())}},{key:"handleKeydown",value:function(e){var t=-1!==[Wi.ArrowUp,Wi.ArrowRight,Wi.ArrowDown,Wi.ArrowLeft].indexOf(e.keyCode);if(!(aw(this.pickerService)&&t&&e.altKey)){var i=ek(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);py(this.focusedDate,i)||(this.focusedDate=i,this.detectChanges(),e.preventDefault()),e.keyCode===Wi.Enter&&this.handleDateChange(this.focusedDate)}}},{key:"detectChanges",value:function(){this.destroyed||this.cdr.detectChanges()}},{key:"emitSameDate",value:function(){this.pickerService&&this.pickerService.sameDateSelected.emit()}},{key:"setAriaActivedescendant",value:function(){if(aw(this.element)){var e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}}},{key:"focusedDate",set:function(e){this._focusedDate=e||tk(),this.setAriaActivedescendant()},get:function(){return this._focusedDate}},{key:"min",set:function(e){this._min=e||new Date(Xb)},get:function(){return this._min}},{key:"max",set:function(e){this._max=e||new Date(Jb)},get:function(){return this._max}},{key:"value",get:function(){return this._value},set:function(e){this.verifyValue(e),this._value=cy(e)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"disabledDates",set:function(e){this.disabledDatesService.initialize(e)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"activeViewEnum",get:function(){var e=kk[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}},{key:"bottomViewEnum",get:function(){return kk[this.bottomView]}},{key:"topViewEnum",get:function(){return kk[this.topView]}},{key:"widgetId",get:function(){return this.id}},{key:"widgetRole",get:function(){return"grid"}},{key:"calendarTabIndex",get:function(){return this.disabled?void 0:this.tabIndex}},{key:"ariaDisabled",get:function(){return this.disabled}}]),e}()).\u0275fac=function(e){return new(e||fC)(y.Rb(wk),y.Rb(Wk),y.Rb(y.m),y.Rb(WC),y.Rb(y.F),y.Rb(y.h),y.Rb(y.A),y.Rb(y.s),y.Rb(UC),y.Rb(sw),y.Rb(ew,8))},fC.\u0275cmp=y.Lb({type:fC,selectors:[["kendo-calendar"]],contentQueries:function(e,t,i){var n;1&e&&(y.Gc(i,qC,!0),y.Gc(i,XC,!0),y.Gc(i,JC,!0),y.Gc(i,YC,!0),y.Gc(i,KC,!0),y.Gc(i,ZC,!0),y.Gc(i,$C,!0),y.Gc(i,QC,!0)),2&e&&(y.zc(n=y.hc())&&(t.cellTemplate=n.first),y.zc(n=y.hc())&&(t.monthCellTemplate=n.first),y.zc(n=y.hc())&&(t.yearCellTemplate=n.first),y.zc(n=y.hc())&&(t.decadeCellTemplate=n.first),y.zc(n=y.hc())&&(t.centuryCellTemplate=n.first),y.zc(n=y.hc())&&(t.weekNumberTemplate=n.first),y.zc(n=y.hc())&&(t.headerTitleTemplate=n.first),y.zc(n=y.hc())&&(t.navigationItemTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(y.Qc(NC,!0),y.Qc(HC,!0)),2&e&&(y.zc(i=y.hc())&&(t.navigationView=i.first),y.zc(i=y.hc())&&(t.monthView=i.first))},hostVars:8,hostBindings:function(e,t){2&e&&(y.Fb("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled),y.Jb("k-week-number",t.weekNumber)("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[y.Db([wk,cw,uw,hw,cr,sw,{provide:lr,useValue:"kendo.calendar"},WC,UC]),y.Cb],decls:4,vars:12,consts:[["kendoCalendarLocalizedMessages","",6,"today"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","value","valueChange","activeDateChange","pageChange"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"]],template:function(e,t){if(1&e&&(y.Vb(0,0),y.bc(1,ab),y.Ub(),y.Jc(2,ob,1,5,"kendo-calendar-navigation",1),y.Xb(3,"kendo-calendar-viewlist",2),y.gc("valueChange",(function(e){return t.handleDateChange(e)}))("activeDateChange",(function(e){return t.emitEvent(t.activeViewDateChange,e)}))("pageChange",(function(){return t.onPageChange()})),y.Wb()),2&e){var i,n=null==(i=t.activeCellTemplate())?null:i.templateRef;y.Eb(2),y.oc("ngIf",t.navigation),y.Eb(1),y.oc("activeView",t.activeViewEnum)("isActive",t.isActive)("cellTemplateRef",n)("headerTitleTemplateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("value",t.value)}},directives:function(){return[Mw,b.j,HC,NC]},encapsulation:2,changeDetection:0}),fC),dw=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({}),pw=/year|month|<day>/,vw=/hour|minute|second|millisecond/,gw=/d|M|H|h|m|s/,mw=function(e){return e.replace(/^0*/,"")},yw=function e(){_classCallCheck(this,e),this.symbols=""},bw=function(){function e(t,i,n,r){if(_classCallCheck(this,e),this.intl=t,this.formatPlaceholder=i,this.format=n,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=dy(new Date),this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),r)this.value=cy(r);else{this.value=dy(new Date);for(var a=this.dateFormatString(this.value,this.format).symbols,o=0;o<a.length;o++)this.setExisting(a[o],!1)}}return _createClass(e,[{key:"hasValue",value:function(){var e=this;return this.intl.splitDateFormat(this.format).reduce((function(t,i){return t||"literal"!==i.type&&"dayperiod"!==i.type&&e.getExisting(i.pattern[0])}),!1)}},{key:"getDateObject",value:function(){for(var e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return cy(this.value)}},{key:"getTextAndFormat",value:function(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}},{key:"getExisting",value:function(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}},{key:"setExisting",value:function(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;default:return}}},{key:"modifyPart",value:function(e,t){var i=cy(this.value);switch(e){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":i=gy(this.value,t);break;case"d":case"E":i.setDate(i.getDate()+t);break;case"h":case"H":i.setHours(i.getHours()+t);break;case"m":i.setMinutes(i.getMinutes()+t);break;case"s":i.setSeconds(i.getSeconds()+t);break;case"a":i.setHours(i.getHours()+12*t)}i.getFullYear()>0&&(this.setExisting(e,!0),this.value=i)}},{key:"parsePart",value:function(e,t,i){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};for(var n=this.intl.formatDate(this.value,this.format),r=this.dateFormatString(this.value,this.format),a=r.symbols,o=!1,s="",l="",c="",u=0;u<n.length;u++)a[u]===e?(l+=this.getExisting(e)?n[u]:"0",o=!0):o?c+=n[u]:s+=n[u];var h=l.length-3,f=null,d=this.matchMonth(t),p=this.matchDayPeriod(t,e),v="0"===t,g=(this.leadingZero||{})[e]||0;v?0!==parseInt(i?t:l+t,10)||this.isAbbrMonth(r.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(var m=Math.max(0,h);m<=l.length;m++){var y=i?t:l.substring(m)+t,b=parseInt(y,10);if(!(f=this.intl.parseDate(s+y+c,this.format))&&!isNaN(b)&&!isNaN(parseInt(t,10))){if("M"===e&&!d){var k=b-1;k>-1&&k<12&&((f=cy(this.value)).setMonth(k),f.getMonth()!==k&&(f=vy(gy(f,-1))))}"y"===e&&(f=fy(parseInt(y,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&f.getDate()!==this.value.getDate()&&(f=vy(gy(f,-1))))}if(f){var C=this.partPattern(r.partMap,e).pattern,w=this.intl.parseDate("".concat(s).concat(this.peek(y,C)).concat(c),this.format),_=this.patternLength(C)||C.length,x=g+(mw(y)||t).length>=_,S=null===w||x;return this.value=f,this.setExisting(e,!0),{value:this.value,switchToNext:S}}}return d&&(f=this.intl.parseDate(s+d+c,this.format))?(this.value=f,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):p&&(f=this.intl.parseDate(s+p+c,this.format))?(this.value=f,{value:this.value,switchToNext:!0}):(v&&this.setExisting(e,!1),{value:null,switchToNext:!1})}},{key:"resetLeadingZero",value:function(){var e=null!==this.leadingZero;return this.setLeadingZero(null),e}},{key:"setLeadingZero",value:function(e){this.leadingZero=e}},{key:"incrementLeadingZero",value:function(e){var t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}},{key:"isAbbrMonth",value:function(e,t){var i=this.partPattern(e,t);return"month"===i.type&&i.names}},{key:"partPattern",value:function(e,t){return e.filter((function(e){return-1!==e.pattern.indexOf(t)}))[0]}},{key:"peek",value:function(e,t){var i=mw(e)+"0";return function(e){return new Array(Math.max(e,0)).fill("0").join("")}(t.length-i.length)+i}},{key:"matchMonth",value:function(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(var t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];var i=parseInt(this.typedMonthPart,10);if(i>=1&&i<=12&&i.toString()===this.typedMonthPart)return this.monthNames[i-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}},{key:"matchDayPeriod",value:function(e,t){var i=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(i))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(i))return this.dayPeriods.pm}return""}},{key:"allFormatedMonths",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"allDayPeriods",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"patternLength",value:function(e){return"y"===e[0]?4:gw.test(e)?2:0}},{key:"dateFormatString",value:function(e,t){for(var i=this.intl.splitDateFormat(t),n=[],r=[],a=0;a<i.length;a++)for(var o=this.intl.formatDate(e,{pattern:i[a].pattern}).length;o>0;)n.push(this.symbols[i[a].pattern[0]]||"_"),r.push(i[a]),o--;var s=new yw;return s.symbols=n.join(""),s.partMap=r,s}},{key:"merge",value:function(e,t){for(var i="",n="",r=t.symbols,a=r.length-1;a>=0;a--)if(-1===this.knownParts.indexOf(r[a])||this.getExisting(r[a]))i=e[a]+i,n=r[a]+n;else{for(var o=r[a];a>=0&&o===r[a];)a--;for(a++,i=this.leadingZero&&this.leadingZero[o]?"0"+i:this.dateFieldName(t.partMap[a])+i;n.length<i.length;)n=r[a]+n}return[i,n]}},{key:"dateFieldName",value:function(e){var t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}}]),e}(),kw=((dC=function(){function e(t,i,n,r,a,o,s,l){_classCallCheck(this,e),this.cdr=t,this.intl=i,this.renderer=n,this.element=r,this.ngZone=a,this.injector=o,this.localization=s,this.pickerService=l,this.focusableId="k-".concat(Ei()),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="spinbutton",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.rangeValidation=!0,this.autoCorrect=!1,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new y.o,this.valueUpdate=new y.o,this.onFocus=new y.o,this.onBlur=new y.o,this.arrow=dw,this.arrowDirection=dw.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidateFn=ik,this.maxValidateFn=ik,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=ik,this.onControlTouched=ik,this.onValidatorChange=ik,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}return _createClass(e,[{key:"isEmpty",value:function(){return!this.currentValue||!String(this.currentValue).trim()}},{key:"containsElement",value:function(e){var t=this;return Boolean(BC(e,(function(e){return e===t.element.nativeElement})))}},{key:"ngOnChanges",value:function(e){this.verifyRange(),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?tw(this.min):ik,this.maxValidateFn=this.rangeValidation?iw(this.max):ik,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());var t=this.kendoDate&&py(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach((function(e){return e()}))}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"ngOnInit",value:function(){var e=this;this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.control=this.injector.get(H,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=cy(e),this.updateElementValue(this.isActive)}},{key:"triggerChange",value:function(){var e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=cy(e),this.notify())}},{key:"notify",value:function(){var e=this;this.ngZone.run((function(){e.onControlChange(cy(e.value)),e.valueChange.emit(cy(e.value))}))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"focus",value:function(){var e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}},{key:"blur",value:function(){var e=this.inputElement;e&&e.blur()}},{key:"handleButtonClick",value:function(e){this.arrowDirection=dw.None,this.modifyDateSegmentValue(e)}},{key:"modifyDateSegmentValue",value:function(e){var t=this.caret(),i=this.currentFormat[t[0]];this.kendoDate.modifyPart(i,e*((this.steps||{})[this.symbolsMap[i]]||1)),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(i)}},{key:"switchDateSegment",value:function(e){var t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;for(var i=this.currentFormat[t[0]],n=t[0]+e;n>0&&n<this.currentFormat.length&&(this.currentFormat[n]===i||"_"===this.currentFormat[n]);)n+=e;if("_"===this.currentFormat[n])return!1;for(var r=n;r>=0&&r<this.currentFormat.length&&this.currentFormat[r]===this.currentFormat[n];)r+=e;return n>r&&(r+1!==t[0]||n+1!==t[1])?(this.caret(r+1,n+1),this.resetSegmentValue=!0,!0):n<r&&(n!==t[0]||r!==t[1])&&(this.caret(n,r),this.resetSegmentValue=!0,!0)}},{key:"selectDateSegment",value:function(e){for(var t=-1,i=0,n=0;n<this.currentFormat.length;n++)this.currentFormat[n]===e&&(i=n+1,-1===t&&(t=n));t<0&&(t=0),this.caret(0,0),this.caret(t,i)}},{key:"handleClick",value:function(){if(this.hasMousedown=!1,this.isActive){var e=this.inputElement.selectionStart!==this.inputElement.selectionEnd,t=aw(this.placeholder)&&!this.kendoDate.hasValue()&&!this.focusedPriorToMousedown,i=!e&&t?0:this.caret()[0];this.selectNearestSegment(i)}}},{key:"handleDragAndDrop",value:function(e){e.preventDefault()}},{key:"handleMousedown",value:function(){this.hasMousedown=!0,this.focusedPriorToMousedown=this.isActive}},{key:"handleFocus",value:function(e){var t=this;this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,Oi(this.onFocus)?this.ngZone.run((function(){t.emitFocus(e)})):this.emitFocus(e)}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),Oi(this.onBlur)||nw(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e),t.cdr.markForCheck()})):this.emitBlur(e)}},{key:"getKendoDate",value:function(e){var t=(this.kendoDate||{}||null).leadingZero,i=new bw(this.intl,this.formatPlaceholder,this.format,e);return i.setLeadingZero(this.isActive?t:null),i}},{key:"dateSymbolMap",value:function(){return this.intl.splitDateFormat(this.format).reduce((function(e,t){return e[t.pattern[0]]=t.type,e}),{})}},{key:"updateElementValue",value:function(e){var t=this.caret()[0],i=this.kendoDate.getTextAndFormat(),n=!this.isActive&&aw(this.placeholder)&&!this.kendoDate.hasValue(),r=this.inputElement;this.currentFormat=i[1],this.currentValue=n?"":i[0],this.renderer.setProperty(r,"value",this.currentValue),r.placeholder!==this.placeholder&&this.renderer.setProperty(r,"placeholder",this.placeholder),e&&this.selectNearestSegment(t)}},{key:"caret",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=void 0!==e,n=[e,e],r=this.inputElement;if(!i||!this.disabled&&!this.readonly){try{void 0!==r.selectionStart&&(i&&(Si()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(e,t)),n=[r.selectionStart,r.selectionEnd])}catch(a){n=[]}return n}}},{key:"selectNearestSegment",value:function(e){for(var t=e,i=e-1;t<this.currentFormat.length||i>=0;t++,i--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(i>=0&&"_"!==this.currentFormat[i])return void this.selectDateSegment(this.currentFormat[i])}}},{key:"verifyRange",value:function(){if(Object(y.Y)()&&!Qb(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Object(y.Y)()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}},{key:"putDateInRange",value:function(){var e=this.kendoDate.getDateObject(),t=ek(e,this.min,this.max);this.autoCorrect&&!py(e,t)&&(this.kendoDate=this.getKendoDate(t))}},{key:"updateFormatSections",value:function(){this.formatSections=this.intl.splitDateFormat(this.format).reduce((function(e,t){var i=e.date,n=e.time;return{date:i||pw.test(t.type),time:n||vw.test(t.type)}}),{date:!1,time:!1})}},{key:"intlChange",value:function(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}},{key:"updateOnPaste",value:function(){var e=this.intl.parseDate(this.inputValue,this.format)||this.value,t=+e!=+this.value;this.writeValue(e),t&&this.notify()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}},{key:"handleMouseWheel",value:function(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}},{key:"handlePaste",value:function(){this.paste=!0}},{key:"handleKeydown",value:function(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==Wi.Tab)if(e.keyCode!==Wi.Backspace){switch(e.keyCode){case Wi.ArrowDown:this.modifyDateSegmentValue(-1);break;case Wi.ArrowUp:this.modifyDateSegmentValue(1);break;case Wi.ArrowRight:this.switchDateSegment(1);break;case Wi.ArrowLeft:this.switchDateSegment(-1);break;case Wi.Home:this.selectNearestSegment(0);break;case Wi.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}},{key:"handleInput",value:function(){if(!this.disabled&&!this.readonly){if(this.paste)return this.updateOnPaste(),void(this.paste=!1);var e=function(e,t,i,n){var r=n+e.length-i.length,a=e[r],o=e.substring(0,n+e.length-i.length),s=i.substring(0,n),l=[];if(o===s&&n>0)return l.push([t[n-1],s[n-1]]),l;if(0===o.indexOf(s)&&(0===s.length||t[s.length-1]!==t[s.length])){var c="";1===s.length&&l.push([t[0],s[0]]);for(var u=s.length;u<o.length;u++)t[u]!==c&&"_"!==t[u]&&(c=t[u],l.push([c,""]));return l}if(0===s.indexOf(o)||"_"===t[n-1]){for(var h=t[0],f=Math.max(0,o.length-1);f<t.length;f++)if("_"!==t[f]){h=t[f];break}return[[h,s[n-1]]]}return" "===s[s.length-1]||s[s.length-1]===a&&"_"===t[r]?[[t[n-1],"_"]]:[[t[n-1],s[n-1]]]}(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1],i=!1;if(!t){for(var n=0;n<e.length;n++)i=this.kendoDate.parsePart(e[n][0],e[n][1],this.resetSegmentValue).switchToNext;var r=this.kendoDate.getDateObject();this.value&&r&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(Kb(this.value,r)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(i||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}}},{key:"emitFocus",value:function(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}},{key:"emitBlur",value:function(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"value",set:function(e){this.verifyValue(e),this.autoCorrect&&!$b(e,this.min,this.max)||(this._value=cy(e),this.valueUpdate.emit(cy(e)))},get:function(){return this._value}},{key:"wrapperClass",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"inputElement",get:function(){return this.dateInput?this.dateInput.nativeElement:null}},{key:"inputValue",get:function(){return(this.inputElement||{}).value||""}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrap&&!aw(this.pickerService)){var t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}}]),e}()).\u0275fac=function(e){return new(e||dC)(y.Rb(y.h),y.Rb(dm),y.Rb(y.F),y.Rb(y.m),y.Rb(y.A),y.Rb(y.s),y.Rb(cr),y.Rb(ew,8))},dC.\u0275cmp=y.Lb({type:dC,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){var i;1&e&&(y.Hc(sb,!0),y.Qc(lb,!0)),2&e&&(y.zc(i=y.hc())&&(t.dateInput=i.first),y.zc(i=y.hc())&&(t.wrap=i.first))},hostVars:6,hostBindings:function(e,t){2&e&&y.Jb("k-widget",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",format:"format",placeholder:"placeholder",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder",steps:"steps",max:"max",min:"min"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[y.Db([{provide:A,useExisting:Object(y.W)((function(){return dC})),multi:!0},{provide:X,useExisting:Object(y.W)((function(){return dC})),multi:!0},{provide:lr,useValue:"kendo.dateinput"},{provide:Gi,useExisting:Object(y.W)((function(){return dC}))},cr]),y.Cb],decls:7,vars:21,consts:[["kendoDateInputLocalizedMessages","",6,"increment","decrement"],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(y.Vb(0,0),y.bc(1,cb),y.Ub(),y.Xb(2,"span",1,2),y.Sb(4,"input",3,4),y.Jc(6,ub,5,8,"span",5),y.Wb()),2&e&&(y.Eb(4),y.oc("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",y.xc(13,hb,t.handleClick,t.handleFocus,t.handleMousedown,t.handleMousedown,t.handleDragAndDrop,t.handleDragAndDrop,t.handleBlur))("scope",t),y.Fb("role",t.role)("aria-readonly",t.ariaReadOnly)("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup),y.Eb(2),y.oc("ngIf",t.spinners))},directives:function(){return[Vw,Di,b.j]},encapsulation:2,changeDetection:0}),dC),Cw=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),ww=new y.r("dateinputs-touch-enabled"),_w=((pC=function(){function e(t,i,n,r,a,o,s,l,c,u){_classCallCheck(this,e),this.zone=t,this.localization=i,this.cdr=n,this.popupService=r,this.element=a,this.renderer=o,this.injector=s,this.pickerService=l,this.disabledDatesService=c,this.touchEnabled=u,this.focusableId="k-".concat(Ei()),this.activeView=kk[kk.month],this.bottomView=kk[kk.month],this.topView=kk[kk.century],this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.navigation=!0,this.min=cy(Xb),this.max=cy(Jb),this.focusedDate=null,this.format="d",this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new y.o,this.onFocus=new y.o,this.onBlur=new y.o,this.open=new y.o,this.close=new y.o,this.wrapperClasses=!0,this.popupUID=Ei(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=ik,this.onControlTouched=ik,this.onValidatorChange=ik,this.minValidateFn=ik,this.maxValidateFn=ik,this.disabledDatesValidateFn=ik,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this)))}return _createClass(e,[{key:"isEmpty",value:function(){return!this.value&&this.input.isEmpty()}},{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(){return e.cdr.markForCheck()})),this.control=this.injector.get(H,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"ngOnChanges",value:function(e){var t;this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates)&&(this.minValidateFn=this.rangeValidation?tw(this.min):ik,this.maxValidateFn=this.rangeValidation?iw(this.max):ik,this.disabledDatesValidateFn=this.disabledDatesValidation?(t=this.disabledDatesService.isDateDisabled,function(e){return t&&e.value&&t(e.value)?{disabledDate:!0}:null}):ik,this.onValidatorChange())}},{key:"ngOnDestroy",value:function(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerSubscriptions.unsubscribe()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.value=cy(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){(this.calendar||this.input).blur()}},{key:"toggle",value:function(e){var t=this;this.disabled||this.readonly||this.resolvedPromise.then((function(){t._toggle(void 0===e?!t.show:e)}))}},{key:"handleIconClick",value:function(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}},{key:"handleMousedown",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(cy(e)),this.valueChange.emit(cy(e))}},{key:"handleInputChange",value:function(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}},{key:"mergeTime",value:function(e){return this.value&&e?Kb(e,this.value):e}},{key:"handleKeydown",value:function(e){var t=e.altKey,i=e.keyCode;i===Wi.Escape&&(this.show=!1),t&&(i!==Wi.ArrowDown||this.show||(this.show=!0),i===Wi.ArrowUp&&(this.show=!1)),i===Wi.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}},{key:"togglePopup",value:function(e){var t=new Cw;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}},{key:"_toggle",value:function(e){var t=this;if(this._show=e,this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()),this._show){var i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:i},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:i},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.show=!1}))}}},{key:"focusInput",value:function(){this.touchEnabled||this.input.focus()}},{key:"toggleFocus",value:function(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}},{key:"verifySettings",value:function(){if(Object(y.Y)()&&!Qb(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Object(y.Y)()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}},{key:"bindEvents",value:function(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),"undefined"!=typeof window&&(this.windowBlurSubscription=mt(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}},{key:"handleFocus",value:function(){var e=this;this.isActive||(this.isActive=!0,Oi(this.onFocus)&&this.zone.run((function(){e.onFocus.emit()})))}},{key:"handleWindowBlur",value:function(){this.isOpen&&(this.show=!1)}},{key:"handleBlur",value:function(e){var t=this,i=e&&(e.relatedTarget||document.activeElement);i&&(this.input.containsElement(i)||this.calendar&&this.calendar.containsElement(i))||(Oi(this.onBlur)||this.show&&Oi(this.close)||nw(this.control)?this.zone.run((function(){t.blurComponent(),t.cdr.markForCheck()})):this.blurComponent())}},{key:"blurComponent",value:function(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}},{key:"handleSameSelection",value:function(){this.show&&(this.focusInput(),this.show=!1)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({},{animate:!0},e)},get:function(){return this._popupSettings}},{key:"value",set:function(e){this.verifyValue(e),this._value=cy(e)},get:function(){return this._value}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"disabledDates",set:function(e){this._disabledDates=e,this.disabledDatesService.initialize(e)},get:function(){return this._disabledDates}},{key:"disabledClass",get:function(){return this.disabled}},{key:"inputRole",get:function(){return this.readOnlyInput?"listbox":"spinbutton"}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrapper){var t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}},{key:"show",get:function(){return this._show},set:function(e){var t=this;e&&(this.disabled||this.readonly)||(e||this._show&&Oi(this.close)?this.zone.run((function(){t.togglePopup(e)})):this.togglePopup(e))}},{key:"isOpen",get:function(){return this.show}},{key:"popupClasses",get:function(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"input",get:function(){return this.pickerService.input}},{key:"calendar",get:function(){return this.pickerService.calendar}}]),e}()).\u0275fac=function(e){return new(e||pC)(y.Rb(y.A),y.Rb(cr),y.Rb(y.h),y.Rb(ra),y.Rb(y.m),y.Rb(y.F),y.Rb(y.s),y.Rb(ew),y.Rb(sw),y.Rb(ww,8))},pC.\u0275cmp=y.Lb({type:pC,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,i){var n;1&e&&(y.Kb(i,qC,!0),y.Kb(i,XC,!0),y.Kb(i,JC,!0),y.Kb(i,YC,!0),y.Kb(i,KC,!0),y.Kb(i,ZC,!0),y.Kb(i,$C,!0),y.Kb(i,QC,!0)),2&e&&(y.zc(n=y.hc())&&(t.cellTemplate=n.first),y.zc(n=y.hc())&&(t.monthCellTemplate=n.first),y.zc(n=y.hc())&&(t.yearCellTemplate=n.first),y.zc(n=y.hc())&&(t.decadeCellTemplate=n.first),y.zc(n=y.hc())&&(t.centuryCellTemplate=n.first),y.zc(n=y.hc())&&(t.weekNumberTemplate=n.first),y.zc(n=y.hc())&&(t.headerTitleTemplate=n.first),y.zc(n=y.hc())&&(t.navigationItemTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(y.Qc(fb,!0,y.Q),y.Qc(db,!0),y.Qc(pb,!0)),2&e&&(y.zc(i=y.hc())&&(t.container=i.first),y.zc(i=y.hc())&&(t.popupTemplate=i.first),y.zc(i=y.hc())&&(t.wrapper=i.first))},hostVars:6,hostBindings:function(e,t){2&e&&y.Jb("k-widget",t.wrapperClasses)("k-datepicker",t.wrapperClasses)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",navigation:"navigation",min:"min",max:"max",focusedDate:"focusedDate",format:"format",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[y.Db([{provide:A,useExisting:Object(y.W)((function(){return pC})),multi:!0},{provide:X,useExisting:Object(y.W)((function(){return pC})),multi:!0},{provide:Gi,useExisting:Object(y.W)((function(){return pC}))},cr,ew,sw,{provide:lr,useValue:"kendo.datepicker"}]),y.Cb],decls:12,vars:24,consts:[["kendoDatePickerLocalizedMessages","",6,"today","toggle"],[1,"k-picker-wrap"],["wrapper",""],[3,"role","focusableId","hasPopup","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","format","formatPlaceholder","placeholder","min","max","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"min","max","navigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today"]],template:function(e,t){1&e&&(y.Vb(0,0),y.bc(1,vb),y.Ub(),y.Xb(2,"span",1,2),y.Xb(4,"kendo-dateinput",3,4),y.gc("valueChange",(function(e){return t.handleInputChange(e)})),y.Wb(),y.Xb(6,"span",5),y.Sb(7,"span",6),y.Wb(),y.Wb(),y.Tb(8,null,7),y.Jc(10,yb,4,23,"ng-template",null,8,y.Kc)),2&e&&(y.Eb(2),y.Jb("k-state-disabled",t.disabled),y.Eb(2),y.oc("role",t.inputRole)("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("ariaReadOnly",t.readonly)("tabindex",t.tabindex)("title",t.title)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("value",t.value),y.Eb(2),y.oc("kendoEventsOutsideAngular",y.sc(21,bb,t.handleIconClick,t.handleMousedown))("scope",t),y.Fb("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")))},directives:function(){return[Gw,kw,Di,fw,zw]},encapsulation:2,changeDetection:0}),pC),xw=function(){function e(t,i,n,r){_classCallCheck(this,e),this.$implicit=t,this.kForOf=i,this.index=n,this.count=r}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Sw=((CC=function(){function e(t,i,n){_classCallCheck(this,e),this._viewContainer=t,this._template=i,this._differs=n,this._differ=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if("kForOf"in e){var t=e.kForOf.currentValue;if(this._differ||!t)return;try{this._differ=this._differs.find(t).create(this.kForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((i=t).name||typeof i,"'."))}}var i}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}},{key:"_applyChanges",value:function(e){if(Si()){var t=this._viewContainer.length,i=this.kForOf.length,n={};e.forEachOperation((function(e,t,i){null!==i&&(n[i]=e.item)}));for(var r=t;r<i;r++)this._viewContainer.createEmbeddedView(this._template,new xw(null,this.kForOf,-1,-1),r);for(var a=this._viewContainer.length;a>i;a--)this._viewContainer.remove(a-1);for(var o=0;o<this._viewContainer.length;o++){var s=this._viewContainer.get(o);s.context.index=o,s.context.count=length,s.context.$implicit=n[o]||null}}}},{key:"kForTemplate",set:function(e){e&&(this._template=e)}}]),e}()).\u0275fac=function(e){return new(e||CC)(y.Rb(y.Q),y.Rb(y.N),y.Rb(y.t))},CC.\u0275dir=y.Mb({type:CC,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[y.Cb]}),CC),Tw=((kC=function(){function e(t,i,n,r,a){_classCallCheck(this,e),this.bus=t,this.cdr=i,this.localization=n,this.intl=r,this.disabledDatesService=a,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(Xb),this.max=new Date(Jb),this.rangeLength=1,this.today=new y.o,this.subscriptions=new bt.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}},{key:"ngOnChanges",value:function(e){this.bus.service(this.activeView)&&(this.activeViewValue=kk[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"handleTodayClick",value:function(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.today.emit(ek(tk(),this.min,this.max)))}},{key:"handleNavigation",value:function(){this.navigate&&this.bus.moveUp(this.activeView)}},{key:"intlChange",value:function(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}},{key:"l10nChange",value:function(){this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}},{key:"getTitle",value:function(){if(!this.currentDate)return"";var e=this.bus.service(this.activeView),t=this.rangeLength-1,i=e.title(this.currentDate),n=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(n,this.min,this.max)?i:"".concat(i," - ").concat(e.title(n))}},{key:"setTodayAvailability",value:function(){var e=tk(),t=$b(e,dy(this.min),dy(this.max)),i=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!i,this.cdr.markForCheck()}},{key:"getComponentClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||kC)(y.Rb(wk),y.Rb(y.h),y.Rb(cr),y.Rb(dm),y.Rb(sw))},kC.\u0275cmp=y.Lb({type:kC,selectors:[["kendo-calendar-header"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-calendar-header",t.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{today:"today"},features:[y.Cb],decls:5,vars:21,consts:[[1,"k-button","k-bare","k-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-today",3,"kendoEventsOutsideAngular","scope"]],template:function(e,t){1&e&&(y.Xb(0,"span",0),y.Jc(1,kb,1,1,"ng-template",1),y.Jc(2,Cb,0,0,"ng-template",2),y.Wb(),y.Xb(3,"span",3),y.Lc(4),y.Wb()),2&e&&(y.Jb("k-state-disabled",!t.navigate),y.oc("kendoEventsOutsideAngular",y.rc(13,eb,t.handleNavigation))("scope",t),y.Eb(1),y.oc("ngIf",!t.templateRef),y.Eb(1),y.oc("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",y.tc(15,$y,t.title,t.activeViewValue,t.currentDate)),y.Eb(1),y.Jb("k-state-disabled",!t.todayAvailable),y.oc("kendoEventsOutsideAngular",y.rc(19,eb,t.handleTodayClick))("scope",t),y.Eb(1),y.Nc(" ",t.todayMessage," "))},directives:[Di,b.j,b.o],encapsulation:2}),kC),Iw=((bC=function(){function e(t){_classCallCheck(this,e),this.intl=t}return _createClass(e,[{key:"getWeekNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=nk(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}}]),e}()).\u0275fac=function(e){return new(e||bC)(y.cc(dm))},bC.\u0275prov=y.Nb({token:bC,factory:bC.\u0275fac}),bC),Ow=((yC=function(){function e(t,i,n,r,a,o,s,l){_classCallCheck(this,e),this.bus=t,this.intl=i,this.cdr=n,this.weekService=r,this.element=a,this.zone=o,this.renderer=s,this.disabledDatesService=l,this.direction="vertical",this.isActive=!0,this.change=new y.o,this.cellEnter=new y.o,this.cellLeave=new y.o,this.weekNames=[],this.colSpan=0,this.subscriptions=new bt.a,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.element&&this.zone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.service=this.bus.service(this.activeView),this.service&&(this.isHorizontal()&&0===this.weekNames.length&&(e.weekNumber||e.direction)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.colSpan=this.service.rowLength(this.weekNumber),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.domEvents.forEach((function(e){return e()}))}},{key:"isHorizontal",value:function(){return"horizontal"===this.direction}},{key:"isMonthView",value:function(){return this.activeView===kk.month}},{key:"firstDate",value:function(e){var t=this.firstWeekDateContext(e);return t?t.value:null}},{key:"getWeekNumber",value:function(e){return this.weekNumber?Vy(e,this.intl.firstDay()):null}},{key:"getWeekNumberContext",value:function(e){var t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;var i=Vy(t.value,this.intl.firstDay()).toString();return{formattedValue:i,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:i,value:cy(t.value)}}},{key:"getStyles",value:function(e){var t,i=e.isRangeEnd,n=e.isRangeStart;return t={"k-range-end":i,"k-range-mid":e.isRangeMid,"k-range-split-end":e.isRangeSplitEnd,"k-range-split-start":e.isRangeSplitStart,"k-range-start":n,"k-state-active":"start"===this.activeRangeEnd&&n||"end"===this.activeRangeEnd&&i,"k-state-focused":this.isActive&&e.isFocused,"k-state-selected":e.isSelected||n||i,"k-today":e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled},Object.keys(t).reduce((function(e,i){return t[i]?e.concat(i):e}),[]).join(" ")}},{key:"tableCellIndex",value:function(e,t){return"".concat(e,":").concat(t)}},{key:"firstWeekDateContext",value:function(e){if(!this.weekNumber)return null;for(var t=0,i=e[t];!i&&t<e.length;)i=e[++t];return i}},{key:"updateData",value:function(){var e=this.selectedDate||tk(),t=Kb(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDate:this.selectedDate,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled})}},{key:"intlChange",value:function(){this.updateData(),this.isHorizontal()&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.cdr.markForCheck()}},{key:"disabledDatesChange",value:function(){this.updateData(),this.cdr.markForCheck()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}},{key:"clickHandler",value:function(e){var t=this.closestCell(e);if(t){var i=t.getAttribute("data-cell-index"),n=this.cellByIndex(i);n.isDisabled||this.change.emit(n.value)}}},{key:"mouseLeaveHandler",value:function(){this.currentCellIndex&&this.emitCellLeave()}},{key:"cellMouseoverHandler",value:function(e){var t=this.closestCell(e);if(t){var i=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==i&&this.emitCellLeave();var n=this.cellByIndex(i).value;this.cellEnter.emit(n),this.currentCellIndex=i}else this.currentCellIndex&&this.emitCellLeave()}},{key:"closestCell",value:function(e){return VC(e.target,(function(e){return e.hasAttribute("data-cell-index")}),this.element.nativeElement)}},{key:"emitCellLeave",value:function(){var e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}},{key:"cellByIndex",value:function(e){var t=_slicedToArray(e.split(":"),2),i=t[0],n=t[1];return this.data[i][n]}},{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.activeView===kk.month},set:function(e){this.showWeekNumbers=e}}]),e}()).\u0275fac=function(e){return new(e||yC)(y.Rb(wk),y.Rb(dm),y.Rb(y.h),y.Rb(Iw),y.Rb(y.m),y.Rb(y.A),y.Rb(y.F),y.Rb(sw))},yC.\u0275cmp=y.Lb({type:yC,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",selectedDate:"selectedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{change:"change",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[y.Cb],attrs:wb,decls:5,vars:3,consts:[["emptyCell",""],["role","row",4,"ngIf"],["role","row",4,"kFor","kForOf"],[1,"k-empty"],["role","row"],["scope","col",3,"colSpan"],[4,"ngFor","ngForOf"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt",4,"ngIf","ngIfElse"],[1,"k-alt"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(y.Jc(0,_b,2,0,"ng-template",null,0,y.Kc),y.Jc(2,xb,3,2,"tr",1),y.Jc(3,Tb,2,1,"tr",1),y.Jc(4,Lb,3,2,"tr",2)),2&e&&(y.Eb(2),y.oc("ngIf",!t.isHorizontal()),y.Eb(1),y.oc("ngIf",t.isMonthView()&&t.isHorizontal()),y.Eb(1),y.oc("kForOf",t.data))},directives:[b.j,Sw,b.i,b.o,b.h],encapsulation:2}),yC),Ew=((mC=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:mC}),mC.\u0275inj=y.Ob({factory:function(e){return new(e||mC)},imports:[[b.b,Mi]]}),mC),Aw=((gC=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:gC}),gC.\u0275inj=y.Ob({factory:function(e){return new(e||gC)}}),gC),Rw=((vC=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(or)).\u0275fac=function(e){return Dw(e||vC)},vC.\u0275dir=y.Mb({type:vC,inputs:{today:"today"},features:[y.Bb]}),vC),Dw=y.Zb(Rw),Mw=((TC=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).service=e,n}return i}(Rw)).\u0275fac=function(e){return new(e||TC)(y.Rb(cr))},TC.\u0275dir=y.Mb({type:TC,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[y.Db([{provide:Rw,useExisting:Object(y.W)((function(){return TC}))}]),y.Bb]}),TC),zw=((SC=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).service=e,n}return _createClass(i,[{key:"override",get:function(){return!0}}]),i}(Rw)).\u0275fac=function(e){return new(e||SC)(y.Rb(cr))},SC.\u0275cmp=y.Lb({type:SC,selectors:[["kendo-calendar-messages"]],features:[y.Db([{provide:Rw,useExisting:Object(y.W)((function(){return SC}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),SC),Pw=((xC=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:xC}),xC.\u0275inj=y.Ob({factory:function(e){return new(e||xC)},imports:[[b.b]]}),xC),Fw=((_C=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:_C}),_C.\u0275inj=y.Ob({factory:function(e){return new(e||_C)},providers:[Wk,uk,dk,gk,bk,Iw],imports:[[b.b,Ew,vm,Aw,Pw,Mi],Ew,Aw]}),_C),Lw=((wC=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(or)).\u0275fac=function(e){return jw(e||wC)},wC.\u0275dir=y.Mb({type:wC,inputs:{decrement:"decrement",increment:"increment"},features:[y.Bb]}),wC),jw=y.Zb(Lw),Vw=((EC=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).service=e,n}return i}(Lw)).\u0275fac=function(e){return new(e||EC)(y.Rb(cr))},EC.\u0275dir=y.Mb({type:EC,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[y.Db([{provide:Lw,useExisting:Object(y.W)((function(){return EC}))}]),y.Bb]}),EC),Bw=((OC=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:OC}),OC.\u0275inj=y.Ob({factory:function(e){return new(e||OC)},imports:[[b.b,vm,Mi]]}),OC),Nw=((IC=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(or)).\u0275fac=function(e){return Hw(e||IC)},IC.\u0275dir=y.Mb({type:IC,inputs:{today:"today",toggle:"toggle"},features:[y.Bb]}),IC),Hw=y.Zb(Nw),Gw=((AC=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).service=e,n}return i}(Nw)).\u0275fac=function(e){return new(e||AC)(y.Rb(cr))},AC.\u0275dir=y.Mb({type:AC,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[y.Db([{provide:Nw,useExisting:Object(y.W)((function(){return AC}))}]),y.Bb]}),AC),Ww=ya,Uw=((MC=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:MC}),MC.\u0275inj=y.Ob({factory:function(e){return new(e||MC)},providers:[{provide:ww,useValue:Ww}],imports:[[b.b,Bw,Fw,vm,aa,Aw,Mi],Aw]}),MC),qw=((DC=function(){function e(){_classCallCheck(this,e),this.buttonLookChange=new zt.a("default"),this.buttonClicked=new yt.a,this.buttonClicked$=this.buttonClicked.asObservable()}return _createClass(e,[{key:"click",value:function(e){this.buttonClicked.next(e)}},{key:"setButtonLook",value:function(e){this.buttonLookChange.next(e)}}]),e}()).\u0275fac=function(e){return new(e||DC)},DC.\u0275prov=y.Nb({token:DC,factory:DC.\u0275fac}),DC),Xw=((RC=function(){function e(t,i,n,r,a){var o=this;_classCallCheck(this,e),this.service=n,this.ngZone=a,this.toggleable=!1,this.primary=!1,this.look="default",this.role="button",this.selectedChange=new y.o,this.click=new y.o,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._focused=!1,this.domEvents=[],this.direction=r.rtl?"rtl":"ltr",this.localizationChangeSubscription=r.changes.subscribe((function(e){var t=e.rtl;return o.direction=t?"rtl":"ltr"})),this.element=t.nativeElement,this.renderer=i}return _createClass(e,[{key:"onFocus",value:function(){this.isFocused=!0}},{key:"onBlur",value:function(){this.isFocused=!1}},{key:"ngOnInit",value:function(){var e=this,t="SPAN"===this.element.tagName;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(Object(Wt.a)((function(e){return"default"!==e}))).subscribe((function(t){return e.look=t}))),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular((function(){e.domEvents.push(e.renderer.listen(e.element,"click",e._onButtonClick.bind(e))),e.domEvents.push(e.renderer.listen(e.element,"keydown",(function(i){!t||i.keyCode!==Wi.Space&&i.keyCode!==Wi.Enter||(e.click.emit(i),e._onButtonClick())})))}))}},{key:"ngOnChanges",value:function(e){(Ti("togglable",e)||Ti("toggleable",e))&&this.toggleAriaCheckbox(this.toggleable)}},{key:"ngAfterViewChecked",value:function(){this.setIconTextClasses()}},{key:"ngOnDestroy",value:function(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach((function(e){return e()}))}},{key:"focus",value:function(){Si()&&(this.element.focus(),this.isFocused=!0)}},{key:"blur",value:function(){Si()&&(this.element.blur(),this.isFocused=!1)}},{key:"setAttribute",value:function(e,t){this.renderer.setAttribute(this.element,e,t)}},{key:"removeAttribute",value:function(e){this.renderer.removeAttribute(this.element,e)}},{key:"setSelected",value:function(e){var t=this,i=this.selected!==e;this.selected=e,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),i&&Oi(this.selectedChange)&&this.ngZone.run((function(){t.selectedChange.emit(e)}))}},{key:"toggleAriaCheckbox",value:function(e){Si()&&(e?(this.role="checkbox",this.setAttribute("role",this.role),this.setAttribute("aria-checked",this.selected.toString())):(this.role="button",this.setAttribute("role",this.role),this.removeAttribute("aria-checked")))}},{key:"hasText",value:function(){return!!Si()&&String(this.element.textContent).trim().length>0}},{key:"addImgIcon",value:function(e){var t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):Si()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}},{key:"addIcon",value:function(e){var t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):Si()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}},{key:"prependChild",value:function(e){var t=this;this.defer((function(){t.renderer&&e!==t.element.firstChild&&t.renderer.insertBefore(t.element,e,t.element.firstChild)}))}},{key:"defer",value:function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.deferTimeout=setTimeout(e,0)}))}},{key:"iconSetter",value:function(e,t){e&&t(e),this.setIconTextClasses()}},{key:"removeImageNode",value:function(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}},{key:"removeIconNode",value:function(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}},{key:"updateIconNode",value:function(){this.isIcon||this.isIconClass||this.removeIconNode()}},{key:"setIconTextClasses",value:function(){var e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}},{key:"toggleClass",value:function(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}},{key:"_onButtonClick",value:function(){var e=this;!this.disabled&&this.service&&this.ngZone.run((function(){e.service.click(e)})),this.togglable&&!this.service&&this.setSelected(!this.selected)}},{key:"togglable",get:function(){return this.toggleable},set:function(e){this.toggleable=e}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=e}},{key:"tabIndex",set:function(e){this.element.tabIndex=e},get:function(){return this.element.tabIndex}},{key:"icon",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIcon=!0,t.addIcon("k-icon k-i-"+e)})):(this.isIcon=!1,this.updateIconNode())}},{key:"iconClass",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIconClass=!0,t.addIcon(e)})):(this.isIconClass=!1,this.updateIconNode())}},{key:"imageUrl",set:function(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}},{key:"disabled",set:function(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)},get:function(){return this.isDisabled}},{key:"isFocused",set:function(e){this.toggleClass("k-state-focused",e),this._focused=e},get:function(){return this._focused}},{key:"classButton",get:function(){return!0}},{key:"classPrimary",get:function(){return this.primary}},{key:"isFlat",get:function(){return"flat"===this.look}},{key:"isBare",get:function(){return"bare"===this.look}},{key:"isOutline",get:function(){return"outline"===this.look}},{key:"classDisabled",get:function(){return this.isDisabled}},{key:"classActive",get:function(){return this.selected}},{key:"getDirection",get:function(){return this.direction}}]),e}()).\u0275fac=function(e){return new(e||RC)(y.Rb(y.m),y.Rb(y.F),y.Rb(qw,8),y.Rb(cr),y.Rb(y.A))},RC.\u0275dir=y.Mb({type:RC,selectors:[["button","kendoButton",""],["span","kendoButton",""]],hostVars:17,hostBindings:function(e,t){1&e&&y.gc("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()})),2&e&&(y.Fb("aria-disabled",t.classDisabled)("aria-pressed",t.classActive)("dir",t.getDirection),y.Jb("k-button",t.classButton)("k-primary",t.classPrimary)("k-flat",t.isFlat)("k-bare",t.isBare)("k-outline",t.isOutline)("k-state-disabled",t.classDisabled)("k-state-active",t.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",role:"role",togglable:"togglable",selected:"selected",tabIndex:"tabIndex",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange",click:"click"},exportAs:["kendoButton"],features:[y.Db([cr,{provide:lr,useValue:"kendo.button"}]),y.Cb]}),RC);function Jw(e,t){var i="";if(null!=e)if(Array.isArray(e))for(var n=0;n<e.length;++n)i+=t(e[n],n);else"object"==typeof e&&Object.keys(e).forEach((function(n,r){i+=t(e[n],n,r)}));return i}i("g1Xn"),JSON.parse.bind(JSON);var Yw=function(e){var t=e.logic,i=e.criteria;return"\n<customFilters ".concat("and"===t?'and="1"':"",">\n").concat(Jw(i,(function(e){var t=Qw.customOperator(e);return"<customFilter ".concat(t?'operator="'.concat(t,'"'):"",' val="').concat(Qw.customValue(e),'"/>')})),"\n</customFilters>")},Kw=function(e){var t=e.type;return'<dynamicFilter type="'.concat(Qw.dynamicFilterType(t),'" />')},Zw=function(e){var t=e.type,i=e.value;return'<top10 percent="'.concat(/percent$/i.test(t)?1:0,'"\n       top="').concat(/^top/i.test(t)?1:0,'"\n       val="').concat(i,'" />')},$w=function(e){var t=e.blanks,i=e.values;return"<filters ".concat(t?'blank="1"':"",">\n    ").concat(Jw(i,(function(e){return'\n      <filter val="'.concat(e,'" />')})),"\n  </filters>")};function Qw(e){return t={ref:e.ref,columns:e.columns,generators:{custom:Yw,dynamic:Kw,top:Zw,value:$w}},i=t.columns,n=t.generators,'\n<autoFilter ref="'.concat(t.ref,'">\n  ').concat(Jw(i,(function(e){return'\n    <filterColumn colId="'.concat(e.index,'">\n      ').concat(n[e.filter](e),"\n    </filterColumn>\n  ")})),"\n</autoFilter>");var t,i,n}Qw.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},Qw.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},Qw.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e};var e_=i("jhN1"),t_=["lockedHeader"],i_=["header"],n_=["ariaRoot"],r_=["footer"],a_=["groupPanelEmpty",$localize(_templateObject48()),"noRecords",$localize(_templateObject49()),"pagerFirstPage",$localize(_templateObject50()),"pagerPreviousPage",$localize(_templateObject51()),"pagerNextPage",$localize(_templateObject52()),"pagerLastPage",$localize(_templateObject53()),"pagerPage",$localize(_templateObject54()),"pagerOf",$localize(_templateObject55()),"pagerItems",$localize(_templateObject56()),"pagerItemsPerPage",$localize(_templateObject57()),"filter",$localize(_templateObject58()),"filterEqOperator",$localize(_templateObject59()),"filterNotEqOperator",$localize(_templateObject60()),"filterIsNullOperator",$localize(_templateObject61()),"filterIsNotNullOperator",$localize(_templateObject62()),"filterIsEmptyOperator",$localize(_templateObject63()),"filterIsNotEmptyOperator",$localize(_templateObject64()),"filterStartsWithOperator",$localize(_templateObject65()),"filterContainsOperator",$localize(_templateObject66()),"filterNotContainsOperator",$localize(_templateObject67()),"filterEndsWithOperator",$localize(_templateObject68()),"filterGteOperator",$localize(_templateObject69()),"filterGtOperator",$localize(_templateObject70()),"filterLteOperator",$localize(_templateObject71()),"filterLtOperator",$localize(_templateObject72()),"filterIsTrue",$localize(_templateObject73()),"filterIsFalse",$localize(_templateObject74()),"filterBooleanAll",$localize(_templateObject75()),"filterAfterOrEqualOperator",$localize(_templateObject76()),"filterAfterOperator",$localize(_templateObject77()),"filterBeforeOperator",$localize(_templateObject78()),"filterBeforeOrEqualOperator",$localize(_templateObject79()),"filterFilterButton",$localize(_templateObject80()),"filterClearButton",$localize(_templateObject81()),"filterAndLogic",$localize(_templateObject82()),"filterOrLogic",$localize(_templateObject83()),"loading",$localize(_templateObject84()),"columnMenu",$localize(_templateObject85()),"columns",$localize(_templateObject86()),"lock",$localize(_templateObject87()),"unlock",$localize(_templateObject88()),"sortable",$localize(_templateObject89()),"sortAscending",$localize(_templateObject90()),"sortDescending",$localize(_templateObject91()),"sortedAscending",$localize(_templateObject92()),"sortedDescending",$localize(_templateObject93()),"sortedDefault",$localize(_templateObject94()),"columnsApply",$localize(_templateObject95()),"columnsReset",$localize(_templateObject96()),"detailExpand",$localize(_templateObject97()),"detailCollapse",$localize(_templateObject98())];function o_(e,t){1&e&&y.Sb(0,"kendo-grid-toolbar",8)}function s_(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-grid-group-panel",9),y.gc("change",(function(e){return y.Cc(i),y.jc().groupChange.emit(e)})),y.Wb()}if(2&e){var n=y.jc();y.oc("text",n.groupableEmptyText)("groups",n.group)}}function l_(e,t){if(1&e&&(y.Xb(0,"div",21,22),y.Xb(2,"table",23),y.Sb(3,"colgroup",18),y.Sb(4,"thead",24),y.Wb(),y.Wb()),2&e){var i=y.jc(3);y.Ic("width",i.lockedWidth,"px"),y.Eb(2),y.Ic("width",i.lockedWidth,"px"),y.oc("locked",!0),y.Eb(1),y.oc("columns",i.lockedLeafColumns)("groups",i.group)("detailTemplate",i.detailTemplate),y.Eb(1),y.oc("resizable",i.resizable)("scrollable",!0)("columns",i.lockedColumns)("totalColumnLevels",i.totalColumnLevels)("sort",i.sort)("groups",i.group)("filter",i.filter)("filterable",i.filterable)("groupable",i.showGroupPanel)("reorderable",i.reorderable)("sortable",i.sortable)("columnMenu",i.columnMenuOptions)("columnMenuTemplate",i.columnMenuTemplate)("totalColumnsCount",i.leafColumns.length)("detailTemplate",i.detailTemplate)}}function c_(e,t){if(1&e&&(y.Xb(0,"div",25),y.Sb(1,"div"),y.Wb()),2&e){var i=y.jc(3);y.Eb(1),y.Ic("width",i.columnsContainer.unlockedWidth,"px")}}var u_=function(){return[]};function h_(e,t){if(1&e&&(y.Xb(0,"div",13),y.Jc(1,l_,5,23,"div",14),y.Xb(2,"div",15,16),y.Xb(4,"table",17),y.Sb(5,"colgroup",18),y.Sb(6,"thead",19),y.Wb(),y.Jc(7,c_,2,2,"div",20),y.Wb(),y.Wb()),2&e){var i=y.jc(2);y.Ic("padding",i.headerPadding),y.Eb(1),y.oc("ngIf",i.isLocked),y.Eb(1),y.oc("kendoGridResizableContainer",i.lockedLeafColumns.length)("lockedWidth",i.lockedWidth+i.scrollbarWidth+2),y.Eb(2),y.Ic("width",i.nonLockedWidth,"px"),y.oc("virtualColumns",i.virtualColumns),y.Eb(1),y.oc("columns",i.headerLeafColumns)("groups",i.isLocked?y.qc(28,u_):i.group)("detailTemplate",i.detailTemplate),y.Eb(1),y.oc("resizable",i.resizable)("scrollable",!0)("columns",i.headerColumns)("totalColumnLevels",i.totalColumnLevels)("sort",i.sort)("filter",i.filter)("filterable",i.filterable)("groupable",i.showGroupPanel)("reorderable",i.reorderable)("groups",i.isLocked?y.qc(29,u_):i.group)("sortable",i.sortable)("columnMenu",i.columnMenuOptions)("columnMenuTemplate",i.columnMenuTemplate)("lockedColumnsCount",i.lockedLeafColumns.length)("totalColumnsCount",i.leafColumns.length)("detailTemplate",i.detailTemplate),y.Eb(1),y.oc("ngIf",i.virtualColumns)}}function f_(e,t){if(1&e&&(y.Xb(0,"div",32),y.Xb(1,"table",33),y.Sb(2,"colgroup",30),y.Sb(3,"tfoot",34),y.Wb(),y.Wb()),2&e){var i=y.jc(3);y.Ic("width",i.lockedWidth,"px"),y.Eb(1),y.Ic("width",i.lockedWidth,"px"),y.oc("locked",!0),y.Eb(1),y.oc("columns",i.lockedLeafColumns)("groups",i.group)("detailTemplate",i.detailTemplate),y.Eb(1),y.oc("scrollable",!0)("groups",i.group)("columns",i.lockedLeafColumns)("detailTemplate",i.detailTemplate)}}function d_(e,t){if(1&e&&(y.Xb(0,"div",26),y.Jc(1,f_,4,12,"div",27),y.Xb(2,"div",28,29),y.Xb(4,"table"),y.Sb(5,"colgroup",30),y.Sb(6,"tfoot",31),y.Wb(),y.Wb(),y.Wb()),2&e){var i=y.jc(2);y.Ic("padding",i.headerPadding),y.Eb(1),y.oc("ngIf",i.lockedLeafColumns.length),y.Eb(1),y.oc("kendoGridResizableContainer",i.lockedLeafColumns.length)("lockedWidth",i.lockedWidth+i.scrollbarWidth+3),y.Eb(2),y.Ic("width",i.nonLockedWidth,"px"),y.Eb(1),y.oc("columns",i.nonLockedLeafColumns)("groups",i.isLocked?y.qc(15,u_):i.group)("detailTemplate",i.detailTemplate),y.Eb(1),y.oc("scrollable",!0)("groups",i.isLocked?y.qc(16,u_):i.group)("columns",i.nonLockedLeafColumns)("lockedColumnsCount",i.lockedLeafColumns.length)("detailTemplate",i.detailTemplate)}}function p_(e,t){if(1&e){var i=y.Yb();y.Jc(0,h_,8,30,"div",10),y.Xb(1,"kendo-grid-list",11),y.gc("pageChange",(function(e){return y.Cc(i),y.jc().notifyPageChange("list",e)}))("scrollBottom",(function(){return y.Cc(i),y.jc().notifyScrollBottom()}))("contentScroll",(function(e){return y.Cc(i),y.jc().contentScroll.emit(e)})),y.Wb(),y.Jc(2,d_,7,17,"div",12)}if(2&e){var n=y.jc();y.oc("ngIf",!n.hideHeader),y.Eb(1),y.oc("data",n.view)("rowHeight",n.rowHeight)("detailRowHeight",n.detailRowHeight)("total",n.totalCount)("take",n.pageSize)("groups",n.group)("groupable",n.groupable)("skip",n.skip)("trackBy",n.trackBy)("columns",n.columnsContainer)("selectable",n.selectable)("filterable",n.filterable)("detailTemplate",n.detailTemplate)("noRecordsTemplate",n.noRecordsTemplate)("rowClass",n.rowClass)("loading",n.loading)("isVirtual",n.isVirtual)("virtualColumns",n.virtualColumns),y.Eb(1),y.oc("ngIf",n.showFooter)}}function v_(e,t){if(1&e&&y.Sb(0,"thead",39),2&e){var i=y.jc(2);y.oc("resizable",i.resizable)("scrollable",!1)("columns",i.visibleColumns)("totalColumnLevels",i.totalColumnLevels)("groups",i.group)("groupable",i.showGroupPanel)("reorderable",i.reorderable)("sort",i.sort)("sortable",i.sortable)("filter",i.filter)("filterable",i.filterable)("columnMenu",i.columnMenuOptions)("columnMenuTemplate",i.columnMenuTemplate)("detailTemplate",i.detailTemplate)}}function g_(e,t){if(1&e&&y.Sb(0,"tfoot",34),2&e){var i=y.jc(2);y.oc("scrollable",!1)("groups",i.group)("columns",i.leafColumns)("detailTemplate",i.detailTemplate)}}function m_(e,t){1&e&&y.Sb(0,"div",40)}function y_(e,t){if(1&e&&(y.Xb(0,"table"),y.Sb(1,"colgroup",30),y.Jc(2,v_,1,14,"thead",35),y.Sb(3,"tbody",36),y.Jc(4,g_,1,4,"tfoot",37),y.Wb(),y.Jc(5,m_,1,0,"div",38)),2&e){var i=y.jc();y.Ic("table-layout",i.resizable?"fixed":null),y.Eb(1),y.oc("columns",i.leafColumns)("groups",i.group)("detailTemplate",i.detailTemplate),y.Eb(1),y.oc("ngIf",!i.hideHeader),y.Eb(1),y.oc("groups",i.group)("data",i.view)("skip",i.skip)("columns",i.leafColumns)("selectable",i.selectable)("filterable",i.filterable)("noRecordsTemplate",i.noRecordsTemplate)("detailTemplate",i.detailTemplate)("showGroupFooters",i.showGroupFooters)("trackBy",i.trackBy)("rowClass",i.rowClass),y.Eb(1),y.oc("ngIf",i.showFooter),y.Eb(1),y.oc("ngIf",i.loading)}}function b_(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-pager",41),y.gc("pageChange",(function(e){return y.Cc(i),y.jc().notifyPageChange("pager",e)})),y.Wb()}if(2&e){var n=y.jc();y.oc("template",n.pagerTemplate)("pageSize",n.pageSize)("total",n.view.total)("skip",n.skip)("options",n.pageable)}}function k_(e,t){1&e&&y.Sb(0,"kendo-grid-toolbar",42)}var C_=["container"],w_=["lockedContainer"],__=["lockedTable"],x_=["table"],S_=function(e,t,i,n){return{keydown:e,scroll:t,mousewheel:i,DOMMouseScroll:n}};function T_(e,t){if(1&e&&(y.Xb(0,"div",12,13),y.Xb(2,"div",3),y.Xb(3,"table",14,15),y.Sb(5,"colgroup",6),y.Sb(6,"tbody",16),y.Wb(),y.Sb(7,"kendo-resize-sensor"),y.Wb(),y.Xb(8,"div",9),y.Sb(9,"div"),y.Wb(),y.Wb()),2&e){var i=y.jc();y.Ic("width",i.lockedWidth,"px"),y.oc("kendoEventsOutsideAngular",y.uc(25,S_,i.lockedKeydown,i.lockedScroll,i.lockedMousewheel,i.lockedMousewheel))("scope",i),y.Eb(3),y.Ic("width",i.lockedWidth,"px"),y.oc("locked",!0),y.Eb(2),y.oc("groups",i.groups)("columns",i.lockedLeafColumns)("detailTemplate",i.detailTemplate),y.Eb(1),y.oc("groups",i.groups)("isLocked",!0)("data",i.data)("noRecordsText","")("columns",i.lockedLeafColumns)("totalColumnsCount",i.leafColumns.length)("detailTemplate",i.detailTemplate)("showGroupFooters",i.showFooter)("skip",i.skip)("selectable",i.selectable)("trackBy",i.trackBy)("filterable",i.filterable)("rowClass",i.rowClass),y.Eb(3),y.Ic("height",i.totalHeight,"px")}}function I_(e,t){1&e&&y.Sb(0,"kendo-resize-sensor")}function O_(e,t){1&e&&y.Sb(0,"kendo-resize-sensor")}function E_(e,t){if(1&e&&(y.Xb(0,"div",17),y.Sb(1,"div"),y.Wb()),2&e){var i=y.jc();y.Eb(1),y.Ic("width",i.totalWidth,"px")}}function A_(e,t){1&e&&y.Sb(0,"div",18)}var R_=["kendoGridFilterRow",""];function D_(e,t){1&e&&y.Sb(0,"td",3),2&e&&y.Jb("k-group-cell",!0)}function M_(e,t){1&e&&y.Sb(0,"td",3),2&e&&y.Jb("k-hierarchy-cell",!0)}function z_(e,t){if(1&e&&y.Sb(0,"td",4),2&e){var i=t.$implicit,n=t.index,r=y.jc();y.oc("column",i)("filter",r.filter)("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",r.lockedColumnsCount+n),y.Fb("aria-label",r.filterLabel)}}var P_=["kendoGridFilterCell",""];function F_(e,t){if(1&e&&(y.Vb(0),y.Tb(1,3),y.Ub()),2&e){var i=y.jc(2);y.Eb(1),y.oc("column",i.column)("filter",i.filter)}}function L_(e,t){}function j_(e,t){if(1&e&&y.Jc(0,L_,0,0,"ng-template",5),2&e){var i=y.jc(3);y.oc("ngTemplateOutlet",i.column.filterCellTemplateRef)("ngTemplateOutletContext",i.templateContext)}}function V_(e,t){if(1&e&&(y.Vb(0),y.Jc(1,j_,1,2,void 0,4),y.Ub()),2&e){var i=y.jc(2);y.Eb(1),y.oc("ngIf",i.column.filterCellTemplateRef)}}function B_(e,t){if(1&e&&(y.Vb(0,1),y.Jc(1,F_,2,2,"ng-container",2),y.Jc(2,V_,2,1,"ng-container",2),y.Ub()),2&e){var i=y.jc();y.oc("ngSwitch",i.hasTemplate),y.Eb(1),y.oc("ngSwitchCase",!1),y.Eb(1),y.oc("ngSwitchCase",!0)}}var N_=["*"],H_=["dropdown"],G_=function(){return{width:"auto"}};function W_(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-dropdownlist",3,4),y.gc("valueChange",(function(e){return y.Cc(i),y.jc().onChange(e)}))("keydown",(function(e){return y.Cc(i),y.jc().dropdownKeydown(e)})),y.Wb()}if(2&e){var n=y.jc();y.oc("data",n.operators)("value",n.value)("valuePrimitive",!0)("popupSettings",y.qc(4,G_))}}var U_=function(e){return{"k-clear-button-visible":e}},q_=["kendoGridColGroup",""];function X_(e,t){1&e&&y.Sb(0,"col"),2&e&&y.Jb("k-group-col",!0)}function J_(e,t){1&e&&y.Sb(0,"col"),2&e&&y.Jb("k-hierarchy-col",!0)}function Y_(e,t){1&e&&y.Sb(0,"col"),2&e&&y.Ic("width",t.$implicit.width,"px")}function K_(e,t){if(1&e&&(y.Jc(0,X_,1,2,"col",1),y.Jc(1,J_,1,2,"col",2),y.Jc(2,Y_,1,2,"col",3)),2&e){var i=y.jc();y.oc("ngForOf",i.groups),y.Eb(1),y.oc("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),y.Eb(1),y.oc("ngForOf",i.columnsToRender)("ngForTrackBy",i.trackBy)}}var Z_=["kendoGridLoading",""];function $_(e,t){if(1&e&&y.Tb(0,2),2&e){var i=y.jc();y.oc("ngTemplateOutlet",i.template.templateRef)("ngTemplateOutletContext",i.templateContext)}}function Q_(e,t){1&e&&y.Sb(0,"kendo-pager-prev-buttons")}function ex(e,t){if(1&e&&y.Sb(0,"kendo-pager-numeric-buttons",5),2&e){var i=y.jc(2);y.oc("buttonCount",i.settings.buttonCount)}}function tx(e,t){1&e&&y.Sb(0,"kendo-pager-input")}function ix(e,t){1&e&&y.Sb(0,"kendo-pager-next-buttons")}function nx(e,t){1&e&&y.Sb(0,"kendo-pager-info")}function rx(e,t){if(1&e&&y.Sb(0,"kendo-pager-page-sizes",6),2&e){var i=y.jc(2);y.oc("pageSizes",i.settings.pageSizes)}}function ax(e,t){if(1&e&&(y.Vb(0),y.Jc(1,Q_,1,0,"kendo-pager-prev-buttons",1),y.Jc(2,ex,1,1,"kendo-pager-numeric-buttons",3),y.Jc(3,tx,1,0,"kendo-pager-input",1),y.Jc(4,ix,1,0,"kendo-pager-next-buttons",1),y.Jc(5,nx,1,0,"kendo-pager-info",1),y.Jc(6,rx,1,1,"kendo-pager-page-sizes",4),y.Ub()),2&e){var i=y.jc();y.Eb(1),y.oc("ngIf",i.settings.previousNext),y.Eb(1),y.oc("ngIf","numeric"===i.settings.type),y.Eb(1),y.oc("ngIf","input"===i.settings.type),y.Eb(1),y.oc("ngIf",i.settings.previousNext),y.Eb(1),y.oc("ngIf",i.settings.info),y.Eb(1),y.oc("ngIf",i.settings.pageSizes)}}var ox=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-first":!0}},sx=function(){return{"k-icon":!0,"k-i-seek-w":!0}},lx=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"":!0}},cx=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},ux=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},hx=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-last":!0}},fx=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function dx(e,t){if(1&e){var i=y.Yb();y.Xb(0,"li"),y.Xb(1,"a",3),y.gc("click",(function(){y.Cc(i);var e=y.jc();return e.changePage(e.start-2)})),y.Lc(2,"..."),y.Wb(),y.Wb()}if(2&e){var n=y.jc();y.Eb(1),y.Fb("aria-label",n.pageLabel(n.start-1))}}var px=function(e){return{"k-link":!0,"k-state-selected":e}};function vx(e,t){if(1&e){var i=y.Yb();y.Xb(0,"li"),y.Xb(1,"a",4),y.gc("click",(function(){y.Cc(i);var e=t.$implicit;return y.jc().changePage(e-1)})),y.Lc(2),y.Wb(),y.Wb()}if(2&e){var n=t.$implicit,r=y.jc();y.Eb(1),y.oc("ngClass",y.rc(3,px,r.currentPage==n)),y.Fb("aria-label",r.pageLabel(n)),y.Eb(1),y.Nc(" ",n," ")}}function gx(e,t){if(1&e){var i=y.Yb();y.Xb(0,"li"),y.Xb(1,"a",3),y.gc("click",(function(){y.Cc(i);var e=y.jc();return e.changePage(e.end)})),y.Lc(2,"..."),y.Wb(),y.Wb()}if(2&e){var n=y.jc();y.Eb(1),y.Fb("aria-label",n.pageLabel(n.end+1))}}var mx=function(){return{"k-pager-numbers":!0,"k-reset":!0}},yx=function(){return{"k-pager-input":!0,"k-label":!0}},bx=function(e,t){return{keydown:e,focusout:t}};function kx(e,t){if(1&e&&(y.Xb(0,"option",4),y.Lc(1),y.Wb()),2&e){var i=y.jc();y.oc("value",i.pageSize),y.Eb(1),y.Mc(i.pageSize)}}function Cx(e,t){if(1&e&&(y.Xb(0,"option",5),y.Lc(1),y.Wb()),2&e){var i=t.$implicit,n=y.jc();y.oc("value",n.getValue(i))("selected",n.getSelectedState(i)),y.Eb(1),y.Nc(" ",i.text," ")}}var wx=["kendoGridGroupHeader",""];function _x(e,t){1&e&&y.Sb(0,"td",4)}function xx(e,t){if(1&e&&y.Jc(0,_x,1,0,"td",3),2&e){var i=y.jc();y.oc("ngForOf",i.prefixGroupCell(i.item))}}function Sx(e,t){if(1&e&&(y.Lc(0),y.kc(1,"valueOf")),2&e){var i=y.jc(3);y.Oc(" ",i.groupTitle(i.item),": ",y.lc(1,2,i.item.data,"value",i.formatForGroup(i.item))," ")}}function Tx(e,t){}var Ix=function(e,t){return{"k-i-collapse":e,"k-i-expand":t}},Ox=function(e,t,i,n,r,a,o,s){return{templateRef:e,group:t,aggregates:i,value:n,field:r,index:a,expanded:o,$implicit:s}};function Ex(e,t){if(1&e){var i=y.Yb();y.Xb(0,"a",7),y.gc("click",(function(){y.Cc(i);var e=y.jc(2);return e.toggleGroup(e.item)})),y.Wb(),y.Jc(1,Sx,2,6,"ng-template",0),y.Jc(2,Tx,0,0,"ng-template",8)}if(2&e){var n=y.jc(2);y.oc("ngClass",y.sc(3,Ix,n.isExpanded,!n.isExpanded)),y.Eb(1),y.oc("ngIf",!n.groupHeaderTemplate(n.item)),y.Eb(1),y.oc("templateContext",y.yc(6,Ox,n.groupHeaderTemplate(n.item),n.item.data,null==n.item.data?null:n.item.data.aggregates,null==n.item.data?null:n.item.data.value,null==n.item.data?null:n.item.data.field,n.item.index,n.isExpanded,n.item.data))}}function Ax(e,t){if(1&e&&(y.Xb(0,"td",5),y.Xb(1,"p",6),y.Jc(2,Ex,3,15,"ng-template",0),y.Wb(),y.Wb()),2&e){var i=y.jc();y.oc("logicalRowIndex",i.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",i.skipGroupDecoration)("groupItem",i.item)("colSpan",i.logicalColSpan()),y.Fb("colspan",i.groupSpan(i.item))("role",i.ariaRole())("aria-expanded",i.isExpanded),y.Eb(2),y.oc("ngIf",!i.skipGroupDecoration)}}var Rx=function(e,t,i,n,r,a){return{group:e,aggregates:t,value:i,field:n,index:r,$implicit:a}};function Dx(e,t){if(1&e&&y.Tb(0,12),2&e){var i=y.jc().$implicit,n=y.jc(2);y.oc("ngTemplateOutlet",i.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",y.wc(2,Rx,n.item.data,null==n.item.data?null:n.item.data.aggregates,null==n.item.data?null:n.item.data.value,null==n.item.data?null:n.item.data.field,n.item.index,n.item.data))}}function Mx(e,t){if(1&e&&(y.Xb(0,"td",10),y.Jc(1,Dx,1,9,"ng-container",11),y.Wb()),2&e){var i=t.$implicit,n=t.index,r=y.jc(2);y.oc("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",n+1)("logicalSlaveCell",!1)("groupItem",r.item)("colSpan",1),y.Eb(1),y.oc("ngIf",i.groupHeaderColumnTemplateRef)}}function zx(e,t){if(1&e&&(y.Vb(0),y.Jc(1,Mx,2,6,"td",9),y.Ub()),2&e){var i=y.jc();y.Eb(1),y.oc("ngForOf",i.groupHeaderColumns)}}var Px=function(){return{lastTarget:!0}};function Fx(e,t){if(1&e&&(y.Xb(0,"div",3),y.Lc(1),y.Wb()),2&e){var i=y.jc();y.oc("context",y.qc(2,Px)),y.Eb(1),y.Nc(" ",i.text," ")}}var Lx=function(e){return{field:e}},jx=function(e,t){return{field:e,type:"groupIndicator",hint:t}};function Vx(e,t){if(1&e){var i=y.Yb();y.Xb(0,"div",3),y.Xb(1,"div",4),y.gc("directionChange",(function(e){return y.Cc(i),y.jc().directionChange(e)}))("remove",(function(e){return y.Cc(i),y.jc().remove(e)})),y.Wb(),y.Wb()}if(2&e){var n=t.$implicit,r=t.index,a=y.jc();y.oc("context",y.rc(5,Lx,n.field)),y.Eb(1),y.oc("enableDrag",!0)("context",y.sc(7,jx,n.field,a.groupTitles[r]))("group",n)("groupTitle",a.groupTitles[r])}}function Bx(e,t){1&e&&(y.Xb(0,"div",3),y.Lc(1,"\xa0"),y.Wb()),2&e&&y.oc("context",y.qc(1,Px))}var Nx=["kendoGroupIndicator",""],Hx=["kendoGridHeader",""];function Gx(e,t){1&e&&y.Sb(0,"th",7)}function Wx(e,t){if(1&e&&y.Sb(0,"th",8),2&e){var i=y.jc().index;y.oc("logicalRowIndex",i)("logicalColIndex",0)}}function Ux(e,t){if(1&e&&y.Sb(0,"kendo-grid-filter-menu",15),2&e){var i=y.jc(2).$implicit,n=y.jc(3);y.oc("column",i)("filter",n.filter)}}function qx(e,t){if(1&e&&y.Sb(0,"kendo-grid-column-menu",16),2&e){var i=y.jc(2).$implicit,n=y.jc(3);y.oc("standalone",!1)("settings",n.columnMenu)("column",i)("columnMenuTemplate",n.columnMenuTemplate)("sort",n.sort)("filter",n.filter)("sortable",n.sortable)}}function Xx(e,t){}function Jx(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc(3).$implicit;y.Mc(i.displayTitle)}}var Yx=function(e,t,i,n){return{templateRef:e,columnIndex:t,column:i,$implicit:n}};function Kx(e,t){if(1&e&&(y.Jc(0,Xx,0,0,"ng-template",17),y.Jc(1,Jx,1,1,"ng-template",0)),2&e){var i=y.jc(2).$implicit;y.oc("templateContext",y.uc(2,Yx,i.headerTemplateRef,i.leafIndex,i,i)),y.Eb(1),y.oc("ngIf",!i.headerTemplateRef)}}function Zx(e,t){}function $x(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc(3).$implicit;y.Mc(i.displayTitle)}}function Qx(e,t){if(1&e&&(y.Xb(0,"span",23),y.Lc(1),y.Wb()),2&e){var i=y.jc(3).$implicit,n=y.jc(3);y.Eb(1),y.Mc(n.sortOrder(i.field))}}function eS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"span",18,19),y.gc("click",(function(e){y.Cc(i);var t=y.Ac(1),n=y.jc(2).$implicit;return y.jc(3).onSortClick(n,e,t)})),y.Jc(2,Zx,0,0,"ng-template",17),y.Jc(3,$x,1,1,"ng-template",0),y.Sb(4,"span",20),y.Jc(5,Qx,2,1,"span",21),y.Wb(),y.Sb(6,"span",22)}if(2&e){var n=y.jc(2).$implicit,r=y.jc(3);y.Eb(2),y.oc("templateContext",y.uc(6,Yx,n.headerTemplateRef,n.leafIndex,n,n)),y.Eb(1),y.oc("ngIf",!n.headerTemplateRef),y.Eb(1),y.oc("ngClass",r.sortIcon(n.field)),y.Fb("aria-label",r.sortableLabel),y.Eb(1),y.oc("ngIf",r.showSortNumbering(n)),y.Eb(1),y.oc("innerHtml",r.sortStatus(n),y.Dc)}}function tS(e,t){if(1&e&&(y.Sb(0,"input",24),y.Sb(1,"label",25)),2&e){var i=y.jc(5);y.Fb("id",i.selectAllCheckboxId()),y.Eb(1),y.Fb("for",i.selectAllCheckboxId())}}function iS(e,t){if(1&e&&y.Sb(0,"span",26),2&e){var i=y.jc(2).$implicit,n=y.jc(3);y.oc("column",i)("columns",n.columns)}}var nS=function(e,t,i,n){return{field:e,type:"column",column:t,hint:i,lastColumn:n}};function rS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"th",11),y.gc("keydown",(function(e){y.Cc(i);var t=y.jc().$implicit;return y.jc(3).onHeaderKeydown(t,e)})),y.Jc(1,Ux,1,2,"kendo-grid-filter-menu",12),y.Jc(2,qx,1,7,"kendo-grid-column-menu",13),y.Jc(3,Kx,2,7,"ng-template",0),y.Jc(4,eS,7,11,"ng-template",0),y.Jc(5,tS,2,2,"ng-template",0),y.Jc(6,iS,1,2,"span",14),y.Wb()}if(2&e){var n=y.jc(),r=n.$implicit,a=n.index,o=n.last,s=y.jc().index,l=y.jc(2);y.Jb("k-filterable",l.showFilterMenu&&l.isFilterable(r)||l.showColumnMenu(r))("k-first",l.isFirstOnRow(r,a)),y.oc("logicalRowIndex",s)("logicalColIndex",l.logicalColumnIndex(r))("colSpan",r.colspan)("rowSpan",r.rowspan(l.totalColumnLevels))("enableDrag",l.shouldActivate(r))("context",y.uc(21,nS,r.field,r,r.title||r.field,o&&0===a))("ngClass",r.headerClass)("ngStyle",r.headerStyle),y.Fb("aria-sort",l.sortState(r))("rowspan",r.rowspan(l.totalColumnLevels))("colspan",r.colspan),y.Eb(1),y.oc("ngIf",l.showFilterMenu&&l.isFilterable(r)),y.Eb(1),y.oc("ngIf",l.showColumnMenu(r)),y.Eb(1),y.oc("ngIf",!l.isSortable(r)),y.Eb(1),y.oc("ngIf",l.isSortable(r)),y.Eb(1),y.oc("ngIf",l.isCheckboxColumn(r)&&!r.headerTemplateRef&&r.showSelectAll),y.Eb(1),y.oc("ngIf",l.resizable)}}function aS(e,t){if(1&e&&y.Sb(0,"kendo-grid-column-menu",29),2&e){var i=y.jc(2).$implicit,n=y.jc(3);y.oc("standalone",!1)("settings",n.columnMenu)("column",i)("columnMenuTemplate",n.columnMenuTemplate)}}function oS(e,t){}function sS(e,t){if(1&e&&y.Lc(0),2&e){var i=y.jc(2).$implicit;y.Mc(i.displayTitle)}}function lS(e,t){if(1&e&&y.Sb(0,"span",26),2&e){var i=y.jc(2).$implicit,n=y.jc(3);y.oc("column",i)("columns",n.columns)}}var cS=function(e,t,i){return{type:"columnGroup",column:e,hint:t,lastColumn:i}};function uS(e,t){if(1&e&&(y.Xb(0,"th",27),y.Jc(1,aS,1,4,"kendo-grid-column-menu",28),y.Jc(2,oS,0,0,"ng-template",17),y.Jc(3,sS,1,1,"ng-template",0),y.Jc(4,lS,1,2,"span",14),y.Wb()),2&e){var i=y.jc(),n=i.$implicit,r=i.index,a=i.last,o=y.jc().index,s=y.jc(2);y.Jb("k-first",s.isFirstOnRow(n,r))("k-filterable",s.showColumnMenu(n)),y.oc("logicalRowIndex",o)("logicalColIndex",s.logicalColumnIndex(n))("rowSpan",n.rowspan(s.totalColumnLevels))("colSpan",n.colspan)("enableDrag",s.shouldActivate(n))("context",y.tc(18,cS,n,n.title,a&&0===r))("ngClass",n.headerClass)("ngStyle",n.headerStyle),y.Fb("rowspan",n.rowspan(s.totalColumnLevels))("colspan",n.colspan),y.Eb(1),y.oc("ngIf",s.showColumnMenu(n)),y.Eb(1),y.oc("templateContext",y.uc(22,Yx,n.headerTemplateRef,s.lockedColumnsCount+r,n,n)),y.Eb(1),y.oc("ngIf",!n.headerTemplateRef),y.Eb(1),y.oc("ngIf",s.resizable)}}function hS(e,t){if(1&e&&(y.Jc(0,rS,7,26,"th",9),y.Jc(1,uS,5,27,"th",10)),2&e){var i=t.$implicit,n=y.jc(3);y.oc("ngIf",!n.isColumnGroupComponent(i)),y.Eb(1),y.oc("ngIf",n.isColumnGroupComponent(i))}}function fS(e,t){if(1&e&&(y.Xb(0,"tr",3),y.Jc(1,Gx,1,0,"th",4),y.Jc(2,Wx,1,2,"th",5),y.Jc(3,hS,2,2,"ng-template",6),y.Wb()),2&e){var i=t.index,n=y.jc(2);y.oc("logicalRowIndex",i)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount),y.Eb(1),y.oc("ngForOf",n.groups),y.Eb(1),y.oc("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),y.Eb(1),y.oc("ngForOf",n.columnsForLevel(i))("ngForTrackBy",n.trackByIndex)}}function dS(e,t){if(1&e&&y.Sb(0,"tr",30),2&e){var i=y.jc(2);y.oc("columns",i.leafColumns)("filter",i.filter)("groups",i.groups)("detailTemplate",i.detailTemplate)("lockedColumnsCount",i.lockedColumnsCount)("logicalRowIndex",i.totalColumnLevels+1)("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount)}}function pS(e,t){if(1&e&&(y.Jc(0,fS,4,8,"tr",1),y.Jc(1,dS,1,9,"tr",2)),2&e){var i=y.jc();y.oc("ngForOf",i.columnLevels),y.Eb(1),y.oc("ngIf",i.showFilterRow)}}function vS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-grid-filter-menu-container",4),y.gc("close",(function(){return y.Cc(i),y.jc().close()})),y.Wb()}if(2&e){var n=y.jc();y.oc("column",n.column)("filter",n.filter)}}var gS=function(e){return{"k-grid-filter":!0,"k-state-active":e}};function mS(e,t){if(1&e&&(y.Vb(0),y.Tb(1,7),y.Ub()),2&e){var i=y.jc();y.Eb(1),y.oc("filterService",i.childService)("column",i.column)("filter",i.childFilter)}}function yS(e,t){}function bS(e,t){if(1&e&&y.Jc(0,yS,0,0,"ng-template",9),2&e){var i=y.jc(2);y.oc("ngTemplateOutlet",i.column.filterMenuTemplateRef)("ngTemplateOutletContext",i.templateContext)}}function kS(e,t){if(1&e&&(y.Vb(0),y.Jc(1,bS,1,2,void 0,8),y.Ub()),2&e){var i=y.jc();y.Eb(1),y.oc("ngIf",i.column.filterMenuTemplateRef)}}function CS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-dropdownlist",3),y.gc("valueChange",(function(e){return y.Cc(i),y.jc().logicChange(e)})),y.Wb()}if(2&e){var n=y.jc();y.oc("data",n.logicOperators)("valuePrimitive",!0)("value",null==n.filter?null:n.filter.logic)}}function wS(e,t){if(1&e&&y.Sb(0,"kendo-grid-string-filter-menu-input",4),2&e){var i=y.jc();y.oc("operators",i.operators)("currentFilter",i.secondFilter)("filterService",i.filterService)("column",i.column)("filter",i.filter)}}function _S(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-dropdownlist",3),y.gc("valueChange",(function(e){return y.Cc(i),y.jc().logicChange(e)})),y.Wb()}if(2&e){var n=y.jc();y.oc("data",n.logicOperators)("valuePrimitive",!0)("value",null==n.filter?null:n.filter.logic)}}function xS(e,t){if(1&e&&y.Sb(0,"kendo-grid-numeric-filter-menu-input",4),2&e){var i=y.jc();y.oc("operators",i.operators)("currentFilter",i.secondFilter)("filterService",i.filterService)("column",i.column)("filter",i.filter)("format",i.format)("decimals",i.decimals)("spinners",i.spinners)("min",i.min)("max",i.max)("step",i.step)}}function SS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-dropdownlist",3),y.gc("valueChange",(function(e){return y.Cc(i),y.jc().logicChange(e)})),y.Wb()}if(2&e){var n=y.jc();y.oc("data",n.logicOperators)("valuePrimitive",!0)("value",null==n.filter?null:n.filter.logic)}}function TS(e,t){if(1&e&&y.Sb(0,"kendo-grid-date-filter-menu-input",4),2&e){var i=y.jc();y.oc("operators",i.operators)("currentFilter",i.secondFilter)("filterService",i.filterService)("column",i.column)("filter",i.filter)("activeView",i.activeView)("bottomView",i.bottomView)("topView",i.topView)("format",i.format)("formatPlaceholder",i.formatPlaceholder)("placeholder",i.placeholder)("min",i.min)("max",i.max)("weekNumber",i.weekNumber)}}function IS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"li"),y.Xb(1,"input",2),y.gc("change",(function(){y.Cc(i);var e=t.$implicit;return y.jc().onChange(e.value)})),y.Wb(),y.Xb(2,"label",3),y.Lc(3),y.Wb(),y.Wb()}if(2&e){var n=t.$implicit,r=y.jc();y.Eb(1),y.oc("name",r.idPrefix)("checked",r.isSelected(n.value)),y.Fb("id",r.radioId(n.value)),y.Eb(1),y.Fb("for",r.radioId(n.value)),y.Eb(1),y.Mc(n.text)}}function OS(e,t){if(1&e&&(y.Xb(0,"label",3),y.Sb(1,"input",4),y.Xb(2,"span",5),y.Lc(3),y.Wb(),y.Wb()),2&e){var i=t.$implicit,n=t.index,r=y.jc();y.Eb(1),y.oc("checked",!i.hidden)("disabled",r.isDisabled(i)),y.Fb("data-index",n),y.Eb(2),y.Mc(i.displayTitle)}}function ES(e,t){if(1&e){var i=y.Yb();y.Xb(0,"div",6),y.Xb(1,"button",7),y.gc("click",(function(){return y.Cc(i),y.jc().cancelChanges()})),y.Lc(2),y.Wb(),y.Xb(3,"button",8),y.gc("click",(function(){return y.Cc(i),y.jc().applyChanges()})),y.Lc(4),y.Wb(),y.Wb()}if(2&e){var n=y.jc();y.oc("ngClass",n.actionsClass),y.Eb(2),y.Mc(n.resetText),y.Eb(2),y.Mc(n.applyText)}}function AS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"span",4),y.Lc(1),y.Wb(),y.Xb(2,"kendo-grid-columnlist",5),y.gc("apply",(function(e){return y.Cc(i),y.jc().onApply(e)}))("columnChange",(function(e){return y.Cc(i),y.jc().onChange(e)})),y.Wb()}if(2&e){var n=y.jc();y.Eb(1),y.Mc(n.localization.get("columns")),y.Eb(1),y.oc("columns",n.columns)("applyText",n.localization.get("columnsApply"))("resetText",n.localization.get("columnsReset"))("autoSync",n.autoSync)("allowHideAll",n.allowHideAll)}}function RS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-grid-columnlist",2),y.gc("apply",(function(e){return y.Cc(i),y.jc().onApply(e)})),y.Wb()}if(2&e){var n=y.jc();y.oc("applyText",n.localization.get("columnsApply"))("resetText",n.localization.get("columnsReset"))("columns",n.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",n.actionsClass)}}function DS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-grid-filter-menu-container",2),y.gc("close",(function(){return y.Cc(i),y.jc().close()})),y.Wb()}if(2&e){var n=y.jc();y.oc("column",n.service.column)("filter",n.service.filter)("actionsClass",n.actionsClass)}}function MS(e,t){if(1&e&&y.Sb(0,"span",3),2&e){var i=y.jc();y.oc("ngClass",i.iconClass)}}function zS(e,t){if(1&e&&(y.Xb(0,"div",4),y.Tb(1,5),y.Sb(2,"div"),y.Wb()),2&e){var i=y.jc();y.oc("@state",i.contentState),y.Eb(1),y.oc("ngTemplateOutlet",i.contentTemplate.templateRef)}}var PS=function(e,t){return{service:e,column:t}};function FS(e,t){if(1&e&&y.Tb(0,5),2&e){var i=y.jc(),n=y.Ac(6);y.oc("ngTemplateOutlet",i.column.columnMenuTemplateRef||i.columnMenuTemplate||n)("ngTemplateOutletContext",y.sc(2,PS,i.service,i.column))}}function LS(e,t){if(1&e&&y.Sb(0,"kendo-grid-columnmenu-sort",8),2&e){var i=y.jc(2);y.oc("service",i.service)}}function jS(e,t){if(1&e&&y.Sb(0,"kendo-grid-columnmenu-lock",8),2&e){var i=y.jc(2);y.oc("service",i.service)}}function VS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-grid-columnmenu-chooser",9),y.gc("expand",(function(){return y.Cc(i),y.jc(2).onColumnsExpand()})),y.Wb()}if(2&e){var n=y.jc(2);y.oc("service",n.service)("expanded",n.expandedColumns)}}function BS(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-grid-columnmenu-filter",9),y.gc("expand",(function(){return y.Cc(i),y.jc(2).onFilterExpand()})),y.Wb()}if(2&e){var n=y.jc(2);y.oc("service",n.service)("expanded",n.expandedFilter)}}function NS(e,t){if(1&e&&(y.Jc(0,LS,1,1,"kendo-grid-columnmenu-sort",6),y.Jc(1,jS,1,1,"kendo-grid-columnmenu-lock",6),y.Jc(2,VS,1,2,"kendo-grid-columnmenu-chooser",7),y.Jc(3,BS,1,2,"kendo-grid-columnmenu-filter",7)),2&e){var i=y.jc();y.oc("ngIf",i.hasSort),y.Eb(1),y.oc("ngIf",i.hasLock),y.Eb(1),y.oc("ngIf",i.hasColumnChooser),y.Eb(1),y.oc("ngIf",i.hasFilter)}}var HS=function(e){return{"k-state-active":e}},GS=["kendoGridTableBody",""];function WS(e,t){1&e&&y.Sb(0,"td",7)}function US(e,t){if(1&e&&y.Jc(0,WS,1,0,"td",6),2&e){var i=y.jc(2);y.oc("ngForOf",i.groups)}}function qS(e,t){if(1&e&&y.Sb(0,"td",8),2&e){var i=y.jc(2);y.oc("logicalRowIndex",i.addRowLogicalIndex())("logicalColIndex",0)}}function XS(e,t){if(1&e&&y.Sb(0,"td",9),2&e){var i=t.$implicit,n=t.index,r=y.jc(2);y.oc("rowIndex",-1)("columnIndex",r.lockedColumnsCount+n)("isNew",!0)("column",i)("dataItem",r.newDataItem)("ngClass",i.cssClass)("ngStyle",i.style)("logicalRowIndex",r.addRowLogicalIndex())("logicalColIndex",r.logicalColIndex(i))("colSpan",i.colspan),y.Fb("colspan",i.colspan)}}function JS(e,t){if(1&e&&(y.Xb(0,"tr",3),y.Jc(1,US,1,1,"ng-template",0),y.Jc(2,qS,1,2,"td",4),y.Jc(3,XS,1,11,"td",5),y.Wb()),2&e){var i=y.jc();y.oc("logicalRowIndex",i.addRowLogicalIndex())("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),y.Eb(1),y.oc("ngIf",!i.skipGroupDecoration),y.Eb(1),y.oc("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),y.Eb(1),y.oc("ngForOf",i.columns)("ngForTrackBy",i.trackByColumns)}}function YS(e,t){}function KS(e,t){if(1&e&&(y.Vb(0),y.Lc(1),y.Ub()),2&e){var i=y.jc(2);y.Eb(1),y.Nc(" ",i.noRecordsText," ")}}var ZS=function(e){return{templateRef:e}};function $S(e,t){if(1&e&&(y.Xb(0,"tr",10),y.Xb(1,"td"),y.Jc(2,YS,0,0,"ng-template",11),y.Jc(3,KS,2,1,"ng-container",12),y.Wb(),y.Wb()),2&e){var i=y.jc();y.Eb(1),y.Fb("colspan",i.colSpan),y.Eb(1),y.oc("ngIf",null==i.noRecordsTemplate?null:i.noRecordsTemplate.templateRef)("templateContext",y.rc(4,ZS,null==i.noRecordsTemplate?null:i.noRecordsTemplate.templateRef)),y.Eb(1),y.oc("ngIf",!(null!=i.noRecordsTemplate&&i.noRecordsTemplate.templateRef))}}function QS(e,t){if(1&e&&y.Sb(0,"tr",17),2&e){var i=y.jc(),n=i.$implicit,r=i.index,a=y.jc();y.oc("columns",a.columns)("groups",a.groups)("item",n)("hasDetails",null==a.detailTemplate?null:a.detailTemplate.templateRef)("skipGroupDecoration",a.skipGroupDecoration)("hasGroupHeaderColumn",a.hasGroupHeaderColumn)("groupHeaderColumns",a.groupHeaderColumns)("rowIndex",r+1)("totalColumnsCount",a.totalColumnsCount)("logicalRowIndex",a.logicalRowIndex(r))("logicalSlaveRow",a.lockedColumnsCount>0)("logicalCellsCount",a.columns.length)("logicalSlaveCellsCount",a.groupHeaderSlaveCellsCount)}}function eT(e,t){1&e&&y.Sb(0,"td",7)}function tT(e,t){if(1&e&&y.Jc(0,eT,1,0,"td",6),2&e){var i=y.jc(3);y.oc("ngForOf",i.groups)}}function iT(e,t){if(1&e){var i=y.Yb();y.Xb(0,"a",23),y.gc("click",(function(){y.Cc(i);var e=y.jc(3).$implicit;return y.jc().toggleRow(e.index,e.data)})),y.Wb()}if(2&e){var n=y.jc(3).$implicit,r=y.jc();y.oc("ngClass",r.detailButtonStyles(n)),y.Fb("title",r.detailButtonTitle(n))}}function nT(e,t){if(1&e&&(y.Xb(0,"td",21),y.Jc(1,iT,1,2,"a",22),y.Wb()),2&e){var i=y.jc(2),n=i.index,r=i.$implicit,a=y.jc();y.oc("logicalRowIndex",a.logicalRowIndex(n))("logicalColIndex",0)("dataRowIndex",r.index)("dataItem",r.data)("detailExpandCell",!0),y.Eb(1),y.oc("ngIf",a.detailTemplate.showIf(r.data,r.index))}}function rT(e,t){if(1&e&&y.Sb(0,"td",24),2&e){var i=t.$implicit,n=t.index,r=y.jc(2),a=r.$implicit,o=r.index,s=y.jc();y.Jb("k-grid-edit-cell",s.isEditingCell(a.index,i)),y.oc("rowIndex",a.index)("columnIndex",s.lockedColumnsCount+n)("column",i)("dataItem",a.data)("logicalRowIndex",s.logicalRowIndex(o))("logicalColIndex",s.logicalColIndex(i))("dataRowIndex",a.index)("dataItem",a.data)("colIndex",n)("colSpan",i.colspan)("ngClass",i.cssClass)("ngStyle",i.style),y.Fb("data-kendo-grid-column-index",s.lockedColumnsCount+n)("colspan",i.colspan)}}var aT=function(e,t){return{dataItem:e,index:t}};function oT(e,t){if(1&e&&(y.Xb(0,"tr",18),y.Jc(1,tT,1,1,"ng-template",0),y.Jc(2,nT,2,6,"td",19),y.Jc(3,rT,1,16,"td",20),y.Wb()),2&e){var i=y.jc(),n=i.$implicit,r=i.index,a=y.jc();y.Jb("k-alt",a.isOdd(n))("k-master-row",null==a.detailTemplate?null:a.detailTemplate.templateRef)("k-grid-edit-row",a.isEditingRow(n.index))("k-state-selected",a.isSelectable()&&a.isRowSelected(n)),y.oc("dataRowIndex",n.index)("dataItem",n.data)("logicalRowIndex",a.logicalRowIndex(r))("logicalSlaveRow",a.lockedColumnsCount>0)("logicalCellsCount",a.columns.length)("logicalSlaveCellsCount",a.unlockedColumnsCount)("ngClass",a.rowClass(y.sc(20,aT,n.data,n.index))),y.Fb("data-kendo-grid-item-index",n.index),y.Eb(1),y.oc("ngIf",!a.skipGroupDecoration),y.Eb(1),y.oc("ngIf",null==a.detailTemplate?null:a.detailTemplate.templateRef),y.Eb(1),y.oc("ngForOf",a.columns)("ngForTrackBy",a.trackByColumns)}}function sT(e,t){1&e&&y.Sb(0,"td",30)}function lT(e,t){}var cT=function(e,t,i){return{dataItem:e,rowIndex:t,$implicit:i}};function uT(e,t){if(1&e&&(y.Xb(0,"tr",25),y.Jc(1,sT,1,0,"td",26),y.Sb(2,"td",27),y.Xb(3,"td",28),y.Jc(4,lT,0,0,"ng-template",29),y.Wb(),y.Wb()),2&e){var i=y.jc(),n=i.$implicit,r=i.index,a=y.jc();y.Jb("k-alt",a.isOdd(n)),y.oc("dataRowIndex",n.index)("dataItem",n.data)("logicalRowIndex",a.logicalRowIndex(r)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),y.Eb(1),y.oc("ngForOf",a.groups),y.Eb(2),y.oc("logicalRowIndex",a.logicalRowIndex(r)+1)("logicalColIndex",0)("dataRowIndex",n.index)("dataItem",n.data)("colIndex",0)("colSpan",a.allColumnsSpan+1),y.Fb("colspan",a.columnsSpan),y.Eb(1),y.oc("ngTemplateOutlet",a.detailTemplate.templateRef)("ngTemplateOutletContext",y.tc(17,cT,n.data,n.index,n.data))}}function hT(e,t){1&e&&y.Sb(0,"td",30)}function fT(e,t){if(1&e&&y.Jc(0,hT,1,0,"td",26),2&e){var i=y.jc(3);y.oc("ngForOf",i.groups)}}function dT(e,t){if(1&e&&y.Sb(0,"td",8),2&e){var i=y.jc(2).index,n=y.jc();y.oc("logicalRowIndex",n.logicalRowIndex(i))("logicalColIndex",0)}}function pT(e,t){}var vT=function(e,t,i,n,r,a){return{templateRef:e,group:t,field:i,column:n,aggregates:r,$implicit:a}};function gT(e,t){if(1&e&&(y.Xb(0,"td",33),y.Jc(1,pT,0,0,"ng-template",34),y.Wb()),2&e){var i=t.$implicit,n=y.jc(2),r=n.index,a=n.$implicit,o=y.jc();y.oc("logicalRowIndex",o.logicalRowIndex(r))("logicalColIndex",o.logicalColIndex(i)),y.Fb("data-skip",o.skipGroupDecoration),y.Eb(1),y.oc("templateContext",y.wc(4,vT,i.groupFooterTemplateRef,a.data,i.field,i,null==a.data?null:a.data.aggregates,null==a.data?null:a.data.aggregates))}}function mT(e,t){if(1&e&&(y.Xb(0,"tr",31),y.Jc(1,fT,1,1,"ng-template",0),y.Jc(2,dT,1,2,"td",4),y.Jc(3,gT,2,11,"td",32),y.Wb()),2&e){var i=y.jc().index,n=y.jc();y.oc("logicalRowIndex",n.logicalRowIndex(i))("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount),y.Eb(1),y.oc("ngIf",!n.skipGroupDecoration),y.Eb(1),y.oc("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),y.Eb(1),y.oc("ngForOf",n.footerColumns)("ngForTrackBy",n.trackByColumns)}}function yT(e,t){if(1&e&&(y.Jc(0,QS,1,13,"tr",13),y.Jc(1,oT,4,23,"tr",14),y.Jc(2,uT,5,21,"tr",15),y.Jc(3,mT,4,8,"tr",16)),2&e){var i=t.$implicit,n=y.jc();y.oc("ngIf",n.isGroup(i)&&n.isParentGroupExpanded(i)&&n.showGroupHeader(i)),y.Eb(1),y.oc("ngIf",n.isDataItem(i)&&n.isInExpandedGroup(i)),y.Eb(1),y.oc("ngIf",n.isDataItem(i)&&n.isInExpandedGroup(i)&&(null==n.detailTemplate?null:n.detailTemplate.templateRef)&&n.detailTemplate.showIf(i.data,i.index)&&n.isExpanded(i)),y.Eb(1),y.oc("ngIf",n.isFooter(i)&&(n.isInExpandedGroup(i)||n.showGroupFooters&&n.isParentGroupExpanded(i))&&!i.data.hideFooter)}}var bT=["kendoGridCell",""];function kT(e,t){}function CT(e,t){if(1&e&&(y.Lc(0),y.kc(1,"valueOf")),2&e){var i=t.$implicit,n=y.jc(3);y.Nc(" ",y.lc(1,1,n.dataItem,i.field,i.format)," ")}}function wT(e,t){if(1&e&&y.Jc(0,CT,2,5,"ng-template",4),2&e){var i=y.jc(2);y.oc("ngForOf",i.childColumns)}}function _T(e,t){if(1&e&&(y.Lc(0),y.kc(1,"valueOf")),2&e){var i=y.jc(2);y.Mc(y.lc(1,1,i.dataItem,i.column.field,i.column.format))}}function xT(e,t){if(1&e&&(y.Sb(0,"input",5),y.Sb(1,"label",6)),2&e){var i=y.jc(2);y.oc("kendoGridSelectionCheckbox",i.rowIndex),y.Fb("id",i.selectionCheckboxId),y.Eb(1),y.Fb("for",i.selectionCheckboxId)}}function ST(e,t){if(1&e&&(y.Vb(0),y.Jc(1,kT,0,0,"ng-template",2),y.Jc(2,wT,1,1,"ng-template",3),y.Jc(3,_T,2,5,"ng-template",3),y.Jc(4,xT,2,3,"ng-template",3),y.Ub()),2&e){var i=y.jc();y.Eb(1),y.oc("ngIf",i.column.templateRef)("ngTemplateOutlet",i.column.templateRef)("ngTemplateOutletContext",i.templateContext),y.Eb(1),y.oc("ngIf",i.isSpanColumn),y.Eb(1),y.oc("ngIf",i.isBoundColumn),y.Eb(1),y.oc("ngIf",i.isCheckboxColumn&&!i.isNew)}}function TT(e,t){}function IT(e,t){if(1&e&&y.Jc(0,TT,0,0,"ng-template",9),2&e){var i=y.jc(2);y.oc("ngTemplateOutlet",i.column.editTemplateRef)("ngTemplateOutletContext",i.editTemplateContext)}}function OT(e,t){if(1&e&&y.Sb(0,"kendo-numerictextbox",13),2&e){var i=y.jc(3);y.oc("format",i.format)("formControl",i.formGroup.get(i.column.field))}}function ET(e,t){if(1&e&&y.Sb(0,"kendo-datepicker",13),2&e){var i=y.jc(3);y.oc("format",i.format)("formControl",i.formGroup.get(i.column.field))}}function AT(e,t){if(1&e&&y.Sb(0,"input",14),2&e){var i=y.jc(3);y.oc("formControl",i.formGroup.get(i.column.field))}}function RT(e,t){if(1&e&&y.Sb(0,"input",15),2&e){var i=y.jc(3);y.oc("formControl",i.formGroup.get(i.column.field))}}function DT(e,t){if(1&e&&(y.Vb(0,0),y.Jc(1,OT,1,2,"kendo-numerictextbox",10),y.Jc(2,ET,1,2,"kendo-datepicker",10),y.Jc(3,AT,1,1,"input",11),y.Jc(4,RT,1,1,"input",12),y.Ub()),2&e){var i=y.jc(2);y.oc("ngSwitch",i.column.editor),y.Eb(1),y.oc("ngSwitchCase","numeric"),y.Eb(1),y.oc("ngSwitchCase","date"),y.Eb(1),y.oc("ngSwitchCase","boolean")}}function MT(e,t){if(1&e&&(y.Vb(0),y.Jc(1,IT,1,2,void 0,7),y.Jc(2,DT,5,4,"ng-container",8),y.Ub()),2&e){var i=y.jc();y.Eb(1),y.oc("ngIf",i.column.editTemplateRef),y.Eb(1),y.oc("ngIf",!i.column.editTemplateRef)}}var zT=["kendoGridFooter",""];function PT(e,t){1&e&&y.Sb(0,"td"),2&e&&y.Jb("k-group-cell",!0)}function FT(e,t){1&e&&y.Sb(0,"td"),2&e&&y.Jb("k-hierarchy-cell",!0)}function LT(e,t){}function jT(e,t){if(1&e&&(y.Xb(0,"td",4),y.Jc(1,LT,0,0,"ng-template",5),y.Wb()),2&e){var i=t.$implicit,n=t.index,r=y.jc(2);y.oc("ngClass",i.footerClass)("ngStyle",i.footerStyle),y.Eb(1),y.oc("templateContext",y.uc(3,Yx,i.footerTemplateRef,r.lockedColumnsCount+n,i,i))}}function VT(e,t){if(1&e&&(y.Xb(0,"tr"),y.Jc(1,PT,1,2,"td",1),y.Jc(2,FT,1,2,"td",2),y.Jc(3,jT,2,8,"td",3),y.Wb()),2&e){var i=y.jc();y.Jb("k-footer-template",!0),y.Eb(1),y.oc("ngForOf",i.groups),y.Eb(1),y.oc("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),y.Eb(1),y.oc("ngForOf",i.columnsToRender)}}function BT(e,t){}function NT(e,t){if(1&e&&y.Jc(0,BT,0,0,"ng-template",1),2&e){var i=y.jc();y.oc("ngTemplateOutlet",i.toolbarTemplateRef)("ngTemplateOutletContext",i.context)}}var HT,GT,WT,UT,qT,XT,JT=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _classCallCheck(this,i),(n=t.call(this,r)).ngZone=e,n}return _createClass(i,[{key:"subscribe",value:function(e,t,n){var r,a=this,o=function(e){return null},s=function(){return null};return e&&"object"==typeof e?(r=function(t){a.ngZone.run((function(){return e.next(t)}))},e.error&&(o=function(t){a.ngZone.run((function(){return e.error(t)}))}),e.complete&&(s=function(){a.ngZone.run((function(){return e.complete()}))})):(r=function(t){a.ngZone.run((function(){return e(t)}))},t&&(o=function(e){a.ngZone.run((function(){return t(e)}))}),n&&(s=function(){a.ngZone.run((function(){return n()}))})),_get(_getPrototypeOf(i.prototype),"subscribe",this).call(this,r,o,s)}}]),i}(y.o),YT=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Rb(y.N,8))},e.\u0275dir=y.Mb({type:e,selectors:[["","kendoGridCellTemplate",""]]}),e}(),KT=((qT=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||qT)(y.Rb(y.N,8))},qT.\u0275dir=y.Mb({type:qT,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),qT),ZT=((UT=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||UT)(y.Rb(y.N,8))},UT.\u0275dir=y.Mb({type:UT,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),UT),$T=((WT=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||WT)(y.Rb(y.N,8))},WT.\u0275dir=y.Mb({type:WT,selectors:[["","kendoGridEditTemplate",""]]}),WT),QT=((GT=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||GT)(y.Rb(y.N,8))},GT.\u0275dir=y.Mb({type:GT,selectors:[["","kendoGridGroupFooterTemplate",""]]}),GT),eI=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Rb(y.N,8))},e.\u0275dir=y.Mb({type:e,selectors:[["","kendoGridHeaderTemplate",""]]}),e}(),tI=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Rb(y.N,8))},e.\u0275dir=y.Mb({type:e,selectors:[["","kendoGridFooterTemplate",""]]}),e}(),iI=((HT=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||HT)(y.Rb(y.N,8))},HT.\u0275dir=y.Mb({type:HT,selectors:[["","kendoGridColumnMenuTemplate",""]]}),HT),nI=function(e){return e.isSpanColumn},rI=function(e){return e.isCheckboxColumn},aI=((XT=function(){function e(t){if(_classCallCheck(this,e),this.parent=t,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.lockable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new y.E,this.columnMenuTemplates=new y.E,t&&!(i=t).isColumnGroup&&!nI(i))throw new Error("Columns can be nested only inside ColumnGroupComponent");var i}return _createClass(e,[{key:"rowspan",value:function(e){return this.level<e?e-this.level+1:1}},{key:"width",set:function(e){this._width=parseInt(e,10)},get:function(){return this._width}},{key:"level",get:function(){return this.parent&&nI(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}},{key:"isLocked",get:function(){return this.parent?this.parent.isLocked:this.locked}},{key:"colspan",get:function(){return 1}},{key:"headerTemplateRef",get:function(){var e=this.headerTemplates.first;return e?e.templateRef:void 0}},{key:"footerTemplateRef",get:function(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}},{key:"columnMenuTemplateRef",get:function(){var e=this.columnMenuTemplates.first;return e?e.templateRef:null}},{key:"displayTitle",get:function(){return this.title}},{key:"isVisible",get:function(){return!this.hidden&&this.matchesMedia}}]),e}()).\u0275fac=function(e){y.fc()},XT.\u0275dir=y.Mb({type:XT,contentQueries:function(e,t,i){var n;1&e&&(y.Kb(i,tI,!0),y.Kb(i,eI,!1),y.Kb(i,iI,!1)),2&e&&(y.zc(n=y.hc())&&(t.footerTemplate=n.first),y.zc(n=y.hc())&&(t.headerTemplates=n),y.zc(n=y.hc())&&(t.columnMenuTemplates=n))},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",lockable:"lockable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",footerClass:"footerClass"}}),XT),oI=/^\s*$/,sI=function(e){return null!=e},lI=function(e){return null==e},cI=function(e){return Array.isArray(e)},uI=function(e){return!!e},hI=function(e){return lI(e)||oI.test(e)},fI=function(e){return Object(pt.a)(Object(vt.a)(e),e.changes)},dI=function(){return"undefined"==typeof document},pI=function(e){return"string"==typeof e},vI=function(e){return"number"==typeof e&&!isNaN(e)},gI=function(e){return pI(e)&&!hI(e)&&e.startsWith("{0:")?e.slice(3,e.length-1):e},mI=function(e){return function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return!e.apply(null,i)}},yI=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(t,i){return t||i(e)}),!1)}},bI=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(t,i){return t&&i(e)}),!0)}},kI=new y.r("Skip"),CI=function(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;for(var e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype,i=0;i<e.length;++i){var n=e[i];if("entries"!==n&&"size"!==n&&t[n]===t.entries)return n}}();var wI,_I,xI="undefined"!=typeof window?window:{},SI=xI.requestAnimationFrame||xI.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},TI=xI.cancelAnimationFrame||xI.msCancelRequestAnimationFrame||clearTimeout,II=((_I=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||_I)(y.Rb(y.N,8))},_I.\u0275dir=y.Mb({type:_I,selectors:[["","kendoGridFilterCellTemplate",""]]}),_I),OI=((wI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||wI)(y.Rb(y.N,8))},wI.\u0275dir=y.Mb({type:wI,selectors:[["","kendoGridFilterMenuTemplate",""]]}),wI);function EI(e){return sI(e.field)}var AI,RI=((AI=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).sortable=!0,n.groupable=!0,n.editor="text",n.filter="text",n.filterable=!0,n.editable=!0,n}return _createClass(i,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}},{key:"groupHeaderTemplateRef",get:function(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}},{key:"groupHeaderColumnTemplateRef",get:function(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}},{key:"groupFooterTemplateRef",get:function(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}},{key:"editTemplateRef",get:function(){return this.editTemplate?this.editTemplate.templateRef:void 0}},{key:"filterCellTemplateRef",get:function(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}},{key:"filterMenuTemplateRef",get:function(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}},{key:"displayTitle",get:function(){return void 0===this.title?this.field:this.title}}]),i}(aI)).\u0275fac=function(e){return new(e||AI)(y.Rb(aI,13))},AI.\u0275cmp=y.Lb({type:AI,selectors:[["kendo-grid-column"]],contentQueries:function(e,t,i){var n;1&e&&(y.Kb(i,YT,!0),y.Kb(i,KT,!0),y.Kb(i,ZT,!0),y.Kb(i,QT,!0),y.Kb(i,$T,!0),y.Kb(i,II,!0),y.Kb(i,OI,!0)),2&e&&(y.zc(n=y.hc())&&(t.template=n.first),y.zc(n=y.hc())&&(t.groupHeaderTemplate=n.first),y.zc(n=y.hc())&&(t.groupHeaderColumnTemplate=n.first),y.zc(n=y.hc())&&(t.groupFooterTemplate=n.first),y.zc(n=y.hc())&&(t.editTemplate=n.first),y.zc(n=y.hc())&&(t.filterCellTemplate=n.first),y.zc(n=y.hc())&&(t.filterMenuTemplate=n.first))},inputs:{sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",field:"field",format:"format"},features:[y.Db([{provide:aI,useExisting:Object(y.W)((function(){return AI}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),AI);function DI(e){return e.isSpanColumn}var MI,zI=((MI=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;if(_classCallCheck(this,i),(n=t.call(this,e)).isSpanColumn=!0,n.template=new y.E,n.editTemplate=new y.E,n.childColumns=new y.E,n.includeInChooser=!1,n._editable=!0,n._locked=!1,e&&e.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn");return _possibleConstructorReturn(n)}return _createClass(i,[{key:"editable",set:function(e){this._editable=e},get:function(){return sI(this.editTemplateRef)&&this._editable}},{key:"width",set:function(e){},get:function(){return this.childColumns.reduce((function(e,t){return e+t.width}),0)}},{key:"leafIndex",get:function(){return this.childColumns.first.leafIndex}},{key:"templateRef",get:function(){var e=this.template.first;return e?e.templateRef:void 0}},{key:"editTemplateRef",get:function(){var e=this.editTemplate.first;return e?e.templateRef:void 0}},{key:"colspan",get:function(){return this.childColumns.filter((function(e){return e.isVisible})).length}},{key:"locked",set:function(e){this._locked=e},get:function(){return this._locked||this.childColumns.some((function(e){return e.locked}))}},{key:"childrenArray",get:function(){return this.childColumns.toArray()}},{key:"hasChildren",get:function(){return this.childColumns.length>0}}]),i}(aI)).\u0275fac=function(e){return new(e||MI)(y.Rb(aI,13))},MI.\u0275cmp=y.Lb({type:MI,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,t,i){var n;1&e&&(y.Kb(i,YT,!1),y.Kb(i,$T,!1),y.Kb(i,RI,!1)),2&e&&(y.zc(n=y.hc())&&(t.template=n),y.zc(n=y.hc())&&(t.editTemplate=n),y.zc(n=y.hc())&&(t.childColumns=n))},inputs:{editable:"editable",locked:"locked"},features:[y.Db([{provide:aI,useExisting:Object(y.W)((function(){return MI}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),MI),PI=function(e){return e.reduce((function(e,t){return e.concat(DI(t)?t.childrenArray:[t])}),[])},FI=function(e){return e.reduce((function(e,t){return e.concat(DI(t)?[t].concat(t.childrenArray):[t])}),[])},LI=function(e){return PI(e).filter((function(e){return e.isVisible}))},jI=function(e){return function(t){return(t||[]).reduce((function(t,i){return t+(i[e]||0)}),0)}},VI=jI("width"),BI=jI("colspan"),NI=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),HI=function e(t){return t.reduce((function(t,i){return i.isColumnGroup?t=t.concat(e(function(e){return e.children.filter((function(t){return t!==e}))}(i))):i.isSpanColumn?t=t.concat(i.childrenArray):t.push(i),t}),[]).filter((function(e){return e.isVisible}))},GI=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return HI(i).some(e)},WI=function(e){return ir(e,[{field:"orderIndex",dir:"asc"}])},UI=function(e){return uI(e.parent)&&DI(e.parent)};function qI(e){return e.isColumnGroup}var XI,JI,YI,KI,ZI,$I,QI,eO,tO,iO,nO,rO,aO,oO,sO,lO,cO,uO,hO,fO,dO,pO,vO,gO,mO,yO,bO,kO,CO,wO,_O,xO,SO,TO=((JI=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;if(_classCallCheck(this,i),(n=t.call(this,e)).parent=e,n.includeInChooser=!1,n.isColumnGroup=!0,n.minResizableWidth=10,e&&e.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent");return _possibleConstructorReturn(n)}return _createClass(i,[{key:"rowspan",value:function(){return 1}},{key:"colspan",get:function(){var e=this;return this.children&&1!==this.children.length?BI(this.children.filter((function(t){return t!==e&&t.isVisible}))):1}},{key:"leafIndex",get:function(){return this.children?(this.firstChild||{}).leafIndex:-1}},{key:"childrenArray",get:function(){var e=this;return this.children.filter((function(t){return t!==e}))}},{key:"hasChildren",get:function(){return Boolean(this.firstChild)}},{key:"firstChild",get:function(){var e=this;return this.children.find((function(t){return t!==e}))}}]),i}(aI)).\u0275fac=function(e){return new(e||JI)(y.Rb(aI,13))},JI.\u0275cmp=y.Lb({type:JI,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,aI,!1),2&e&&y.zc(n=y.hc())&&(t.children=n)},features:[y.Db([{provide:aI,useExisting:Object(y.W)((function(){return JI}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),JI),IO=((XI=function(){function e(t){_classCallCheck(this,e),this.templateRef=t,this._condition=function(){return!0}}return _createClass(e,[{key:"showIf",set:function(e){if("function"!=typeof e)throw new Error("showIf must be a function, but received ".concat(JSON.stringify(e),"."));this._condition=e},get:function(){return this._condition}}]),e}()).\u0275fac=function(e){return new(e||XI)(y.Rb(y.N,8))},XI.\u0275dir=y.Mb({type:XI,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:["kendoGridDetailTemplateShowIf","showIf"]}}),XI),OO=function(){return Si()&&document.createElement},EO=null,AO=null,RO=((KI=function(){function e(t,i){var n=this;_classCallCheck(this,e),this.zone=t,this.changeDetector=i,this.changes=new y.o,"undefined"!=typeof window&&this.zone.runOutsideAngular((function(){n.subscriptions=mt(window,"resize").pipe(Vt(100)).subscribe((function(){YI!==window.devicePixelRatio&&t.run((function(){EO=null,n.changes.emit(),n.changeDetector.markForCheck()}))}))}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}},{key:"scrollbarWidth",get:function(){return function(){if(null===EO&&OO()){YI=window.devicePixelRatio||1;var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),EO=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return EO}()}},{key:"rtlScrollLeft",get:function(){return function(){if(null===AO&&OO()){var e=document.createElement("div");e.style.cssText="overflow:scroll;zoom:1;clear:both;display:block;width:100px;visibility:hidden;position:absolute;left:-10000px;direction:rtl;",e.innerHTML="<div style='width:200px;height:1px;'</div>",document.body.appendChild(e);var t=e.scrollLeft;e.scrollLeft=-1,AO=e.scrollLeft<0?e.scrollLeft:t,document.body.removeChild(e)}return AO}()}}]),e}()).\u0275fac=function(e){return new(e||KI)(y.cc(y.A),y.cc(y.h))},KI.\u0275prov=y.Nb({token:KI,factory:KI.\u0275fac}),KI),DO=function(e){return void 0!==e.items&&void 0!==e.field},MO=function(e,t){var i,n=t.footers,r=t.level,a=t.dataIndex,o=t.parentGroupIndex,s=t.groupIndex,l=e[0];return sI(l)&&DO(l)?(void 0!==(i=l).offset&&void 0!==i.skipHeader&&(s=sI(l.offset)?l.offset:s),new LO(e,n,r,a,o,s)):new FO(e,a,o)},zO=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.arr=t,this.idx=i,this.arr=t||[]}return _createClass(e,[{key:CI,value:function(){return this}},{key:"next",value:function(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}]),e}(),PO=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};_classCallCheck(this,e),this.dataIndex=i,this.resultMap=n,this._innerIterator=t[CI]?t[CI]():new zO(t)}return _createClass(e,[{key:CI,value:function(){return this}},{key:"next",value:function(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}]),e}(),FO=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){return _classCallCheck(this,i),t.call(this,e,n,(function(e,t){return{done:e.done,value:{data:e.value,groupIndex:r,index:t,type:"data"}}}))}return _createClass(i,[{key:"index",get:function(){return this.dataIndex}}]),i}(PO),LO=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;_classCallCheck(this,e),this.arr=t,this.outputFooters=i,this.level=n,this.dataIndex=r,this.parentIndex=a,this.groupIndex=o,this.currentGroupIndex="",this.arr=t||[],this._iterator=new PO(this.arr,this.dataIndex)}return _createClass(e,[{key:CI,value:function(){return this}},{key:"nextGroupItem",value:function(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex="".concat((e=this.parentIndex)?e+"_":e).concat(this.groupIndex++),{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group"}}):(this.current=null,{done:!0,value:void 0});var e}},{key:"footerItem",value:function(){if(this.current){var e=this.current;return this.current=null,{done:!1,value:{data:e,groupIndex:this.currentGroupIndex,level:this.level,type:"footer"}}}return this.current=null,{done:!0,value:void 0}}},{key:"innerIterator",value:function(e){return this._innerIterator||(this._innerIterator=MO(e.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex})),this._innerIterator}},{key:"nextDataItem",value:function(e){var t=this.innerIterator(e).next();return sI(t.value)&&!t.done&&"data"===t.value.type&&(this.dataIndex=t.value.index+1),t.done?void 0:t}},{key:"next",value:function(){return sI(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}},{key:"index",get:function(){return this.dataIndex+1}}]),e}(),jO=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.source=t,this.skip=i,this.groupFooters=n,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}return _createClass(e,[{key:"isGridDataResult",value:function(e){return void 0!==e.total&&void 0!==e.data}},{key:"map",value:function(e){return this.data.map(e)}},{key:"filter",value:function(e){return this.data.filter(e)}},{key:"reduce",value:function(e,t){return this.data.reduce(e,t)}},{key:"forEach",value:function(e){this.data.forEach(e)}},{key:"some",value:function(e){return this.data.some(e)}},{key:CI,value:function(){return MO(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}},{key:"toString",value:function(){return this.data.toString()}},{key:"total",get:function(){return this.isObject?this.source.total:this.source.length}},{key:"data",get:function(){return this.isObject?this.source.data:this.source}}]),e}(),VO=function(){function e(t){_classCallCheck(this,e),this.accessor=t}return _createClass(e,[{key:"at",value:function(e){return function(e,t){var i=e[0];return sI(i)&&DO(i)?function e(t){return t.reduce((function(t,i){return DO(i)?t.concat(e(i.items)):t.concat([i])}),[])}(e)[t]:e[t]}(this.accessor().data,e)}},{key:"map",value:function(e){return this.accessor().map(e)}},{key:"filter",value:function(e){return this.accessor().filter(e)}},{key:"reduce",value:function(e,t){return this.accessor().reduce(e,t)}},{key:"forEach",value:function(e){this.accessor().forEach(e)}},{key:"some",value:function(e){return this.accessor().some(e)}},{key:CI,value:function(){return this.accessor()[CI]()}},{key:"toString",value:function(){return this.accessor().toString()}},{key:"total",get:function(){return this.accessor().total}},{key:"length",get:function(){return this.accessor().data.length}},{key:"first",get:function(){return this.accessor().data[0]}},{key:"last",get:function(){return this.accessor().data[this.length-1]}}]),e}(),BO=((QI=function e(){_classCallCheck(this,e),this.cellClick=new y.o,this.cellMousedown=new y.o,this.click=new y.o,this.keydown=new y.o,this.focus=new y.o,this.focusIn=new y.o,this.focusOut=new y.o,this.windowBlur=new y.o}).\u0275fac=function(e){return new(e||QI)},QI.\u0275prov=y.Nb({token:QI,factory:QI.\u0275fac}),QI),NO=(($I=function e(){_classCallCheck(this,e),this.changes=new y.o}).\u0275fac=function(e){return new(e||$I)},$I.\u0275prov=y.Nb({token:$I,factory:$I.\u0275fac}),$I),HO=function(){var e=function(){function e(t,i){var n=this;_classCallCheck(this,e),this.changes=new y.o,this.lastSelectionStartIndex=0,this.currentSelection=[],this.selectAllChecked=!1,this.cellClickSubscription=t.cellClick.subscribe((function(e){n.options.enabled&&!n.options.checkboxOnly&&"contextmenu"!==e.type&&n.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription=t.cellMousedown.subscribe((function(e){!n.options.enabled||n.options.mode&&"multiple"!==n.options.mode||n.options.checkboxOnly||!e.originalEvent.shiftKey||e.originalEvent.preventDefault()})),i&&(this.dataChangedSubscription=i.changes.subscribe((function(e){sI(e.action)&&"remove"===e.action&&n.deselect(e.item)})))}return _createClass(e,[{key:"init",value:function(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){var t=this.getIterator();for(this._selectAllState=!0;;){var i=t.next();if(i.done)break;if(i.value&&"data"===i.value.type){var n={dataItem:i.value.data,index:i.value.index};e.rowSelected(n)?this.currentSelection[i.value.index]=n:this._selectAllState=void 0}}0===this.currentSelection.length&&(this._selectAllState=!1)}}},{key:"isSelected",value:function(e){return this.options.enabled&&sI(this.currentSelection[e])}},{key:"handleClick",value:function(e,t){var i,n=t.ctrlKey||t.metaKey;"single"===this.options.mode&&n&&this.isSelected(e.index)?i=this.toggle(e):"multiple"===this.options.mode&&(n&&!t.shiftKey?i=this.toggle(e):t.shiftKey&&(i=this.addAllTo(e,n))),sI(i)||(i=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(i.selectedRows.length||i.deselectedRows.length)&&(i.ctrlKey=t.ctrlKey||t.metaKey,i.shiftKey=t.shiftKey,this.changes.emit(i))}},{key:"toggle",value:function(e){var t=[],i=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)?i.push({dataItem:e.data,index:e.index}):t.push({dataItem:e.data,index:e.index}),{deselectedRows:i,selectedRows:t}}},{key:"toggleByIndex",value:function(e){var t=this.getIterator();for(this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);;){var i=t.next();if(i.done)break;if(i.value&&"data"===i.value.type&&i.value.index===e){var n={data:i.value.data,index:i.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(n):this.select(n)}}}},{key:"select",value:function(e){var t=[],i=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)||i.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach((function(i){i.index!==e.index&&t.push(i)})),{deselectedRows:t,selectedRows:i}}},{key:"deselect",value:function(e){for(var t=this.getIterator();;){var i=t.next();if(i.done)break;if(i.value&&"data"===i.value.type&&i.value.data===e){var n={dataItem:i.value.data,index:i.value.index};this.isSelected(n.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[n],selectedRows:[]})}}}},{key:"addAllTo",value:function(e,t){for(var i=[],n=[],r=Math.min(this.lastSelectionStartIndex,e.index),a=Math.max(this.lastSelectionStartIndex,e.index),o=this.getIterator();;){var s=o.next();if(s.done)break;if(s.value&&"data"===s.value.type){var l=s.value.index;(l<r||l>a)&&this.isSelected(l)&&!t&&n.push({dataItem:s.value.data,index:l}),l>=r&&l<=a&&!this.isSelected(l)&&i.push({dataItem:s.value.data,index:l})}}return{deselectedRows:n,selectedRows:i}}},{key:"updateAll",value:function(e){this.selectAllChecked=e;for(var t=[],i=[],n=this.getIterator();;){var r=n.next();if(r.done)break;if(r.value&&"data"===r.value.type){var a=r.value.index;this.isSelected(a)&&!e&&i.push({dataItem:r.value.data,index:a}),!this.isSelected(a)&&e&&t.push({dataItem:r.value.data,index:a})}}(t.length||i.length)&&this.changes.emit({ctrlKey:!0,deselectedRows:i,selectedRows:t,shiftKey:!0})}},{key:"ngOnDestroy",value:function(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}},{key:"getIterator",value:function(){var e=this.settings.view.accessor();if(e)return e[CI]()}},{key:"selectAllState",get:function(){return this._selectAllState}},{key:"selected",get:function(){return this.currentSelection.map((function(e){return e.index})).filter((function(e){return"number"==typeof e}))}},{key:"options",get:function(){var e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return sI(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.cc(BO),y.cc(NO))},e.\u0275prov=y.Nb({token:e,factory:e.\u0275fac}),e}(),GO=((ZI=function(){function e(t,i){_classCallCheck(this,e),this.grid=t,this.cd=i,this.selectedKeys=[],this.selectedKeysChange=new y.o,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;sI(this.grid.rowSelected)||(this.grid.rowSelected=function(t){return e.selectedKeys.indexOf(e.getItemKey(t))>=0}),this.selectionChangeSubscription=this.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}},{key:"destroy",value:function(){this.selectionChangeSubscription.unsubscribe()}},{key:"reset",value:function(){this.selectedKeys.splice(0,this.selectedKeys.length)}},{key:"getItemKey",value:function(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}},{key:"onSelectionChange",value:function(e){var t=this;e.deselectedRows.forEach((function(e){var i=t.getItemKey(e),n=t.selectedKeys.indexOf(i);n>=0&&t.selectedKeys.splice(n,1)})),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedRows.forEach((function(e){var i=t.getItemKey(e);t.selectedKeys.indexOf(i)<0&&t.selectedKeys.push(i)})),this.cd.markForCheck(),this.selectedKeysChange.emit(this.selectedKeys)}}]),e}()).\u0275fac=function(e){y.fc()},ZI.\u0275dir=y.Mb({type:ZI,inputs:{selectedKeys:"selectedKeys",selectionKey:["kendoGridSelectBy","selectionKey"]},outputs:{selectedKeysChange:"selectedKeysChange"}}),ZI),WO=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),UO=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).action="cellClose",Object.assign(_assertThisInitialized(n),e),n}return i}(WO),qO=function(e){return-1===e||void 0===e},XO=((eO=function(){function e(t){var i=this;_classCallCheck(this,e),this.ngZone=t,this.changes=new y.o,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new yt.a,this.changed=this.changedSource.asObservable().pipe(Object(Bt.a)((function(){return i.ngZone.onStable.asObservable().pipe(Object(Nt.a)(1))})))}return _createClass(e,[{key:"editRow",value:function(e,t){this.editedIndices.push({index:e,group:t}),this.onChanged()}},{key:"addRow",value:function(e){this.newItemGroup={group:e},this.onChanged()}},{key:"editCell",value:function(e,t,i){qO(e)||!1===t.editable||!t.editTemplate&&!t.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,i),this.column=t,this.onChanged()))}},{key:"isEditing",value:function(){return this.editedIndices.length>0}},{key:"isEditingCell",value:function(){return this.isEditing()&&void 0!==this.column}},{key:"close",value:function(e){qO(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter(function(e){return function(t){return t.index!==e}}(e)),delete this.column,this.onChanged())}},{key:"closeCell",value:function(e){var t=this;if(this.column&&!this.closingCell)return this.ngZone.run((function(){var i=t.editedIndices[0],n=i.index,r=i.group,a=new UO({column:t.column,formGroup:r,originalEvent:e,rowIndex:n});return t.closingCell=!0,t.changes.emit(a),t.closingCell=!1,a.isDefaultPrevented()||t.cancelCell(),a.isDefaultPrevented()}))}},{key:"cancelCell",value:function(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}},{key:"shouldCloseCell",value:function(){return this.column&&!this.keepEditCell}},{key:"preventCellClose",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){window.clearTimeout(e.keepCellTimeout),e.keepEditCell=!0,e.keepCellTimeout=window.setTimeout((function(){e.keepEditCell=!1}),0)}))}},{key:"context",value:function(e){return qO(e)?this.newItemGroup:this.findByIndex(e)}},{key:"columnContext",value:function(e,t){return qO(e)?this.newItemGroup:this.column&&t!==this.column?void 0:this.findByIndex(e)}},{key:"isEdited",value:function(e){return!(!qO(e)||!sI(this.newItemGroup))||!this.column&&sI(this.findByIndex(e))}},{key:"hasEdited",value:function(e){return sI(this.context(e))}},{key:"isEditedColumn",value:function(e,t){return!(!this.column||this.column!==t)&&sI(this.findByIndex(e))}},{key:"beginEdit",value:function(e){this.changes.emit({action:"edit",rowIndex:e})}},{key:"beginAdd",value:function(){this.changes.emit({action:"add"})}},{key:"endEdit",value:function(e){var t=this.context(e).group;this.changes.emit({action:"cancel",rowIndex:e,formGroup:t,isNew:qO(e)})}},{key:"save",value:function(e){var t=this.context(e).group;this.changes.emit({action:"save",rowIndex:e,formGroup:t,isNew:qO(e)})}},{key:"remove",value:function(e){this.changes.emit({action:"remove",rowIndex:e})}},{key:"findByIndex",value:function(e){return this.editedIndices.find(function(e){return function(t){return t.index===e}}(e))}},{key:"onChanged",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.changedSource.next()}))}},{key:"hasNewItem",get:function(){return sI(this.newItemGroup)}},{key:"newDataItem",get:function(){return this.hasNewItem?this.newItemGroup.group.value:{}}}]),e}()).\u0275fac=function(e){return new(e||eO)(y.cc(y.A))},eO.\u0275prov=y.Nb({token:eO,factory:eO.\u0275fac}),eO),JO=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),n=t.call(this),Object.assign(_assertThisInitialized(n),e),n}return i}(WO),YO=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),n=t.call(this),Object.assign(_assertThisInitialized(n),e),n}return i}(WO),KO=((tO=function(){function e(){_classCallCheck(this,e),this.changes=new yt.a,this.rowState=new Set}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.rowState.clear()}},{key:"isExpanded",value:function(e,t){return this.userCallback?this.userCallback({index:e,dataItem:t}):this.rowState.has(e)}},{key:"toggleRow",value:function(e,t){this.isExpanded(e,t)?this.collapseRow(e,t):this.expandRow(e,t)}},{key:"expandRow",value:function(e,t){this.emitEvent({dataItem:t,index:e,expand:!0})||this.userCallback||this.rowState.add(e)}},{key:"collapseRow",value:function(e,t){this.emitEvent({dataItem:t,index:e,expand:!1})||this.userCallback||this.rowState.delete(e)}},{key:"emitEvent",value:function(e){var t=new(e.expand?YO:JO)(e);return this.changes.next(t),t.isDefaultPrevented()}}]),e}()).\u0275fac=function(e){return new(e||tO)},tO.\u0275prov=y.Nb({token:tO,factory:tO.\u0275fac}),tO),ZO=function(e){return e.lastIndexOf("_")>-1?e.slice(0,e.lastIndexOf("_")):""},$O=((iO=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,i),t.call(this,e)}return _createClass(i,[{key:"isInExpandedGroup",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(e=ZO(e));for(var i=!0;e&&i;)i=this.isExpanded(e),e=ZO(e);return i}},{key:"expandChildren",value:function(e){var t=this;this.rowState.forEach((function(i){return function(e,t){return t!==e&&e.startsWith(t)}(i,e)&&t.rowState.delete(i)}))}}]),i}(function(){function e(t){_classCallCheck(this,e),this.isInitiallyCollapsed=t,this.changes=new yt.a,this.rowState=new Set}return _createClass(e,[{key:"toggleRow",value:function(e,t){var i=this.rowState.has(e);this.emitEvent({dataItem:t,expand:this.isInitiallyCollapsed?!i:i,index:e})||(i?this.rowState.delete(e):this.rowState.add(e))}},{key:"isExpanded",value:function(e){var t=this.rowState.has(e);return this.isInitiallyCollapsed?t:!t}},{key:"reset",value:function(){this.rowState.clear()}},{key:"emitEvent",value:function(e){return this.changes.next(e),!1}}]),e}())).\u0275fac=function(e){return new(e||iO)(y.cc(kI,8))},iO.\u0275prov=y.Nb({token:iO,factory:iO.\u0275fac}),iO),QO=function(){function e(t){_classCallCheck(this,e),this.columns=t,this.allColumns=new y.E,this.leafColumns=new y.E,this.lockedColumns=new y.E,this.nonLockedColumns=new y.E,this.lockedLeafColumns=new y.E,this.nonLockedLeafColumns=new y.E,this.totalLevels=0,this.changes=new y.o,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}return _createClass(e,[{key:"refresh",value:function(){var e=this,t=this.totalLevels,i=new Array,n=new Array,r=new Array,a=new Array,o=new Array,s=new Array,l=new Array,c=new Array,u=new Array,h=!1,f=!1,d=!1,p=0,v=0;this.totalLevels=0,this.columns().forEach((function(t){var g=!0===t.isLocked?n:r,m=!0===t.isLocked?a:o,y=!0===t.isLocked?c:u;qI(t)||(g.push(t),i.push(t),l.push.apply(l,LI([t])),y.push.apply(y,LI([t])),h=h||GI((function(e){return Boolean(e.groupHeaderColumnTemplateRef)}),t),f=f||GI((function(e){return Boolean(e.groupFooterTemplateRef)}),t),d=d||GI((function(e){return Boolean(e.footerTemplateRef)}),t),t.isLocked||(p+=t.width||0),t.isSpanColumn?t.childColumns.forEach((function(e){e.leafIndex=v++})):t.leafIndex=v++),m.push(t),s.push(t),e.totalLevels=t.level>e.totalLevels?t.level:e.totalLevels})),this.hasGroupHeaderColumn=h,this.hasGroupFooter=f,this.hasFooter=d,this.leafColumnsToRender=l,this.lockedColumnsToRender=c,this.nonLockedColumnsToRender=u,this.unlockedWidth=p;var g=function(){for(var e=!1,t=0;t<arguments.length;t++){var i=t<0||arguments.length<=t?void 0:arguments[t],n=_slicedToArray(i,2),r=n[0],a=n[1];e=e||r.length!==a.length,r.reset(a)}return e}([this.leafColumns,i],[this.lockedLeafColumns,n],[this.nonLockedLeafColumns,r],[this.lockedColumns,a],[this.allColumns,s],[this.nonLockedColumns,o])||t!==this.totalLevels;return g&&this.changes.emit(),g}}]),e}(),eE=function e(t,i){t.forEach((function(t){i(t),t.isColumnGroup&&t.hasChildren&&e(t.childrenArray,i)}))},tE=function(e,t){var i=[];return WI(e).forEach((function(e){if(t(e))if(e.isColumnGroup){var n=tE(e.childrenArray,t);n.length&&i.push.apply(i,[e].concat(_toConsumableArray(n)))}else e.isSpanColumn&&!tE(e.childrenArray,t).length||i.push(e)})),i},iE=function(){function e(t){_classCallCheck(this,e),this.columns=t}return _createClass(e,[{key:"forEach",value:function(e){eE(this.columns,e)}},{key:"filter",value:function(e){var t=[];return eE(this.columns,(function(i){e(i)&&t.push(i)})),t}},{key:"filterHierarchy",value:function(e){return tE(this.columns.toArray(),e)}},{key:"filterSort",value:function(e){var t=[];return function e(t,i){WI(t).forEach((function(t){i(t),t.isColumnGroup&&t.hasChildren&&e(t.childrenArray,i)}))}(this.columns.toArray(),(function(i){e(i)&&t.push(i)})),t}},{key:"toArray",value:function(){var e=[];return eE(this.columns,(function(t){e.push(t)})),e}},{key:"rootColumns",value:function(){return this.columns.toArray()}}],[{key:"empty",value:function(){return new e(new y.E)}}]),e}(),nE=((aO=function(){function e(){_classCallCheck(this,e),this._columnList=iE.empty}return _createClass(e,[{key:"registerColumnsContainer",value:function(e){this._columnList=e}},{key:"formatForGroup",value:function(e){var t=this.columnForGroup(e);return t?t.format:""}},{key:"isGroupable",value:function(e){var t=_slicedToArray(this.columns.filter((function(t){return t.field===e})),1)[0];return!t||t.groupable}},{key:"groupTitle",value:function(e){var t=this.columnForGroup(e);return t?t.title||t.field:this.groupField(e)}},{key:"groupHeaderTemplate",value:function(e){var t=this.columnForGroup(e);return t?t.groupHeaderTemplateRef||t.groupHeaderColumnTemplateRef:void 0}},{key:"groupField",value:function(e){return e.data?e.data.field:e.field}},{key:"columnForGroup",value:function(e){var t=this.groupField(e);return _slicedToArray(this.columns.filter((function(e){return e.field===t})),1)[0]}},{key:"columns",get:function(){return PI(this._columnList().toArray()).filter(EI)}}]),e}()).\u0275fac=function(e){return new(e||aO)},aO.\u0275prov=y.Nb({token:aO,factory:aO.\u0275fac}),aO),rE=((rO=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.changes=new y.o}return _createClass(e,[{key:"notify",value:function(){var e=this;this.subscription&&!this.subscription.closed||(this.subscription=this.ngZone.onStable.asObservable().pipe(Object(Nt.a)(1)).subscribe((function(){return e.changes.emit()})))}}]),e}()).\u0275fac=function(e){return new(e||rO)(y.cc(y.A))},rO.\u0275prov=y.Nb({token:rO,factory:rO.\u0275fac}),rO),aE=((nO=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||nO)(y.Rb(y.N,8))},nO.\u0275dir=y.Mb({type:nO,selectors:[["","kendoGridNoRecordsTemplate",""]]}),nO),oE=function(e){return function(t){return t.forEach((function(t){return t.style.height=e}))}},sE=function(e,t){var i=document.activeElement,n=function(e,t){for(var i=[],n=0,r=e.length;n<r&&t[n];n++)i.push([e[n],t[n]]);return i}(e.rows,t.rows);n.filter((function(e){var t=_slicedToArray(e,2),i=t[0],n=t[1];return i.style.height||n.style.height})).forEach(oE(""));var r=function(e){return e.map((function(e){var t=_slicedToArray(e,2),i=t[0],n=t[1],r=i.offsetHeight,a=n.offsetHeight;return r<a?a:r}))}(n);[e,t].forEach((function(e){return e.style.display="none"})),n.forEach(function(e){return function(t,i){return oE("".concat(e[i]+1,"px"))(t)}}(r)),[e,t].forEach((function(e){return e.style.display=""})),document.activeElement!==i&&(e.contains(i)||t.contains(i))&&i.focus()},lE=new y.r("grid-cell-context"),cE=((cO=function(){function e(){_classCallCheck(this,e),this.changes=new yt.a}return _createClass(e,[{key:"filter",value:function(e){this.changes.next(e)}}]),e}()).\u0275fac=function(e){return new(e||cO)},cO.\u0275prov=y.Nb({token:cO,factory:cO.\u0275fac}),cO),uE=((lO=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||lO)(y.Rb(y.N,8))},lO.\u0275dir=y.Mb({type:lO,selectors:[["","kendoPagerTemplate",""]]}),lO),hE=((sO=function(){function e(){_classCallCheck(this,e),this.changes=new yt.a,this.pageChange=new yt.a}return _createClass(e,[{key:"notifyChanges",value:function(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.changes.next(e)}},{key:"changePage",value:function(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}},{key:"changePageSize",value:function(e){this.pageChange.next({skip:0,take:e})}},{key:"nextPage",value:function(){var e=this.currentPage+1;e*this.pageSize<=this.total&&this.changePage(e)}},{key:"prevPage",value:function(){var e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}},{key:"currentPage",get:function(){return this.skip/this.pageSize}}]),e}()).\u0275fac=function(e){return new(e||sO)},sO.\u0275prov=y.Nb({token:sO,factory:sO.\u0275fac}),sO),fE=((oO=function(){function e(){_classCallCheck(this,e),this.savePDF=new y.o,this.drawPDF=new y.o,this.exportClick=new y.o,this.dataChanged=new y.o}return _createClass(e,[{key:"save",value:function(e){this.emitEvent(this.savePDF,e)}},{key:"draw",value:function(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}},{key:"emitEvent",value:function(e,t){if(0===e.observers.length){if(Object(y.Y)())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-grid-pdf> component.")}else e.emit(t)}}]),e}()).\u0275fac=function(e){return new(e||oO)},oO.\u0275prov=y.Nb({token:oO,factory:oO.\u0275fac}),oO),dE=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(WO),pE=((uO=function e(){_classCallCheck(this,e),this.scroll=!1}).\u0275fac=function(e){return new(e||uO)},uO.\u0275prov=y.Nb({token:uO,factory:uO.\u0275fac}),uO),vE=function(e){return window.matchMedia(e).matches},gE=((dO=function(){function e(){_classCallCheck(this,e),this.matchMedia=vE}return _createClass(e,[{key:"matchesMedia",value:function(e){return!e||this.matchMedia(function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]||e}(e))}}]),e}()).\u0275fac=function(e){return new(e||dO)},dO.\u0275prov=y.Nb({token:dO,factory:dO.\u0275fac}),dO),mE=((fO=function(){function e(){_classCallCheck(this,e),this.saveToExcel=new y.o,this.exportClick=new y.o}return _createClass(e,[{key:"save",value:function(e){if(0===this.saveToExcel.observers.length){if(Object(y.Y)())throw new Error("Saving excel requires including the ExcelModule and adding the <kendo-grid-excel> component.")}else this.saveToExcel.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||fO)},fO.\u0275prov=y.Nb({token:fO,factory:fO.\u0275fac}),fO),yE=((hO=function(){function e(t){_classCallCheck(this,e),this.templateRef=t,this._position="top"}return _createClass(e,[{key:"position",set:function(e){this._position=e},get:function(){return this._position}}]),e}()).\u0275fac=function(e){return new(e||hO)(y.Rb(y.N,8))},hO.\u0275dir=y.Mb({type:hO,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),hO),bE=function(){var e=function(){function e(t){var i=this;_classCallCheck(this,e),this.ngZone=t,this.changes=new yt.a,this.elements=[],this.subscriptions=new bt.a,this.headerSubscription=new bt.a,this.bodySubscription=new bt.a,this.subscriptions.add(this.changes.subscribe((function(e){return i.scrollLeft(e)})))}return _createClass(e,[{key:"registerEmitter",value:function(e,t){var i=this;this.unregister(t),this.elements.push({element:e,sourceType:t}),"body"!==t&&"header"!==t||this.ngZone.runOutsideAngular((function(){var n=mt(e,"scroll").pipe(Object(w.a)((function(e){return{scrollLeft:e.target.scrollLeft,sourceType:t}}))),r=n.pipe(function(e,t){return function(t){return t.lift(new Ht(e,void 0))}}((function(e,t){return e.scrollLeft===t.scrollLeft})),Object(Wt.a)((function(e){return!i.source||i.source===e.sourceType})),Object(Ut.a)((function(e){return i.source=e.sourceType}))).subscribe((function(e){return i.changes.next(e)}));r.add(n.pipe(Object(Wt.a)((function(e){return i.source&&i.source!==e.sourceType}))).subscribe((function(){return i.source=void 0}))),"body"===t?i.bodySubscription.add(r):i.headerSubscription.add(r)}))}},{key:"destroy",value:function(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}},{key:"scrollLeft",value:function(e){var t=this,i=e.scrollLeft,n=e.sourceType;this.ngZone.runOutsideAngular((function(){t.elements.filter((function(e){return n!==e.sourceType})).forEach((function(e){return e.element.scrollLeft=i}))}))}},{key:"unregister",value:function(e){var t=this.elements.findIndex((function(t){return t.sourceType===e}));t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new bt.a):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new bt.a),this.elements.splice(t,1))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.cc(y.A))},e.\u0275prov=y.Nb({token:e,factory:e.\u0275fac}),e}(),kE=function(){var e=function(){function e(){_classCallCheck(this,e),this.resizeSubscription=new bt.a((function(){})),this.dispatcher=new yt.a,this.changes=this.dispatcher.asObservable().pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:At.a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt;return function(n){return n.lift(new Xt(e,t,i.leading,i.trailing))}}(100))}return _createClass(e,[{key:"connect",value:function(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}},{key:"destroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=y.Nb({token:e,factory:e.\u0275fac}),e}(),CE=/^(?:a|input|select|option|textarea|button|object)$/i,wE={},_E=function(e){return String(e).trim().split(" ")},xE=function(e,t){var i=_E(t);return Boolean(_E(e.className).find((function(e){return i.indexOf(e)>=0})))},SE=function(e){return function(t){return xE(t,e)}},TE=function(e){return wE[e]||(wE[e]=function(t){return String(t.nodeName).toLowerCase()===e.toLowerCase()}),wE[e]},IE=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},OE=function(e,t,i){for(;e&&e!==i&&!t(e);)e=e.parentNode;if(e!==i)return e},EE=function(e){var t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility},AE=function(e){if(!e.tagName)return!1;var t=e.tagName.toLowerCase(),i=Boolean(e.getAttribute("tabIndex"));return!e.disabled&&CE.test(t)||i},RE=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!AE(e))return!1;var i=e.getAttribute("tabIndex");return(!t||EE(e))&&"-1"!==i},DE=function e(t,i){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){if(n&&i(t))return t;for(t=t.firstChild;t;){if(1===t.nodeType){var r=e(t,i);if(r)return r}t=t.nextSibling}}},ME=function e(t){return t.parent?e(t.parent):!!t.locked},zE=function(e,t){return Object.assign({columns:HI([e]),locked:ME(e)},t)},PE=((pO=function(){function e(){_classCallCheck(this,e),this.changes=new y.o,this.tables=[],this.batch=null}return _createClass(e,[{key:"start",value:function(e){this.trackColumns(e);var t=(this.column.isColumnGroup?[e]:[]).concat(HI([e]));this.changes.emit({columns:t,locked:ME(this.column),type:"start"})}},{key:"resizeColumns",value:function(e){var t=zE(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}},{key:"resizeTable",value:function(e,t){var i=zE(e,{delta:t,type:"resizeTable"});this.changes.emit(i)}},{key:"resizedColumn",value:function(e){this.resizedColumns.push(e)}},{key:"end",value:function(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}},{key:"registerTable",value:function(e){var t=this;return this.tables.push(e),function(){t.tables.splice(t.tables.indexOf(e),1)}}},{key:"measureColumns",value:function(e){var t,i=this;null!==this.batch?(t=this.batch).push.apply(t,_toConsumableArray(e)):this.autoFitBatch(e,(function(){return i.end()}))}},{key:"autoFit",value:function(){for(var e=this,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=i.filter((function(e){return!e.isLocked}));this.autoFitStart(r),this.autoFitBatch(this.batch,(function(){if(r.length<i.length){var t=i.filter((function(e){return e.isLocked}));e.autoFitStart(t),e.autoFitBatch(e.batch,(function(){return e.end()}))}else e.end()}))}},{key:"trackColumns",value:function(e){this.resizedColumns=[],this.column=e}},{key:"autoFitStart",value:function(e){if(this.batch=[],this.resizedColumns=[],0!==e.length){var t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}}},{key:"autoFitBatch",value:function(e,t){var i=this,n=e.length>0&&e[0].column.isLocked;(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(kt.a)(t,void 0).lift(new St(n))}).apply(void 0,_toConsumableArray(this.tables.filter((function(e){return e.locked===n})).map((function(t){return t.autoFit(e)})))).pipe(Object(Nt.a)(1)).subscribe((function(r){i.changes.emit({columns:e.map((function(e){return e.column})),type:"autoFitComplete",widths:r,locked:n}),t&&t()})),this.batch=null}}]),e}()).\u0275fac=function(e){return new(e||pO)},pO.\u0275prov=y.Nb({token:pO,factory:pO.\u0275fac}),pO),FE=function(e){return!0===e||"string"==typeof e&&e.indexOf("row")>-1},LE=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).originalEvent=e,n}return i}(WO),jE=((vO=function(){function e(t,i,n,r,a){var o=this;_classCallCheck(this,e),this.popupService=t,this.renderer=i,this.ngZone=n,this.localization=a,this.onClose=new yt.a,this.scrollSubscription=r.changes.subscribe((function(){return o.destroy()}))}return _createClass(e,[{key:"open",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"k-grid-filter-popup",r=sI(i)&&this.popupRef===i;if(this.destroy(),!r){var a=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:a},popupAlign:{vertical:"top",horizontal:a},anchor:e,popupClass:n,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}},{key:"destroy",value:function(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}},{key:"ngOnDestroy",value:function(){this.destroy(),this.scrollSubscription.unsubscribe()}},{key:"detachClose",value:function(){this.removeClick&&this.removeClick()}},{key:"attachClose",value:function(e){var t=this;this.detachClose(),this.ngZone.runOutsideAngular((function(){return t.removeClick=t.renderer.listen("document","click",(function(i){if(!function(i,n){for(;i;){if(r=i,t.popupRef.popupElement===r||r===e)return!0;i=i.parentNode}var r;return!1}(i.target)){var n=new LE(i);t.onClose.next(n),n.isDefaultPrevented()||t.destroy()}}))}))}}]),e}()).\u0275fac=function(e){return new(e||vO)(y.cc(ra),y.cc(y.F),y.cc(y.A),y.cc(bE),y.cc(cr))},vO.\u0275prov=y.Nb({token:vO,factory:vO.\u0275fac}),vO),VE=function(e){var t=!1;return function(){return t||(document.body.appendChild(e),t=!0),e}},BE=function(e){var t=function(e){return e.ownerDocument.documentElement}(e),i=t.clientTop,n=t.clientLeft,r=function(e){return e.ownerDocument.defaultView}(e),a=r.pageYOffset,o=r.pageXOffset,s=e.getBoundingClientRect();return{top:s.top+a-i,left:s.left+o-n}},NE=function(e,t){return 0!=(4&t.compareDocumentPosition(e))},HE=function(e,t){return e===t||0!=(16&t.compareDocumentPosition(e))},GE=function(e,t){var i=BE(e),n=e.offsetWidth,r=e.offsetHeight;return{left:i.left+(t?0:n),top:i.top,height:r}},WE=((gO=function(){function e(){_classCallCheck(this,e),this.changes=new y.o,this.register=[],this.lastTarget=null}return _createClass(e,[{key:"add",value:function(e){this.register.push(e)}},{key:"remove",value:function(e){this.register=this.register.filter((function(t){return t!==e}))}},{key:"notifyDrag",value:function(e,t,i){var n=this.targetFor(t);this.lastTarget!==n&&(this.changes.next({draggable:e,mouseEvent:i,target:this.lastTarget,type:"leave"}),n&&this.changes.next({draggable:e,mouseEvent:i,target:n,type:"enter"}),this.lastTarget=n)}},{key:"notifyDrop",value:function(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}},{key:"targetFor",value:function(e){var t=HE.bind(null,e);return this.register.find((function(e){var i=e.element.nativeElement;return t(i)}))}}]),e}()).\u0275fac=function(e){return new(e||gO)},gO.\u0275prov=y.Nb({token:gO,factory:gO.\u0275fac}),gO),UE=function(e,t){var i=e.querySelector(".k-icon");i.className=i.className.replace(/(plus|cancel)/,t?"plus":"cancel")},qE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.querySelectorAll(".k-icon")[1],n=null==t?"":t?"k-i-lock":"k-i-unlock";i.className=i.className.replace(/(k-i-unlock|k-i-lock)/,"")+" ".concat(n)},XE=((bO=function(){function e(t){_classCallCheck(this,e),this.santizer=t}return _createClass(e,[{key:"create",value:function(e,t,i){this.initCoords(e),this.dom=document.createElement("div"),function(e,t){var i=getComputedStyle(t);e.className="k-header k-drag-clue",e.style.position="absolute",e.style.zIndex="20000",e.style.paddingLeft=i.paddingLeft,e.style.paddingTop=i.paddingTop,e.style.paddingBottom=i.paddingBottom,e.style.paddingRight=i.paddingRight,e.style.width=i.width,e.style.height=i.height}(this.dom,t);var n=this.santizer.sanitize(y.J.HTML,i);this.dom.innerHTML='\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            '.concat(n,"\n        ")}},{key:"attach",value:function(){return VE(this.dom)}},{key:"remove",value:function(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout((function(){return document.body.removeChild(e)})),this.dom=null)}},{key:"show",value:function(){this.dom.style.display=""}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"enable",value:function(){UE(this.dom,!0)}},{key:"disable",value:function(){UE(this.dom,!1)}},{key:"removeLock",value:function(){qE(this.dom)}},{key:"toggleLock",value:function(e){qE(this.dom,e)}},{key:"move",value:function(e){this.dom.style.top=this.initialTop+e.pageY+"px",this.dom.style.left=this.initialLeft+e.pageX+"px"}},{key:"initCoords",value:function(e){var t=BE(e.originalEvent.target),i=t.top,n=t.left;this.initialTop=i-e.pageY,this.initialLeft=n-e.pageX}}]),e}()).\u0275fac=function(e){return new(e||bO)(y.cc(e_.b))},bO.\u0275prov=y.Nb({token:bO,factory:bO.\u0275fac}),bO),JE=((yO=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(){this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide()}},{key:"attach",value:function(){return VE(this.dom)}},{key:"remove",value:function(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"position",value:function(e){var t=e.left,i=e.top,n=e.height;this.dom.style.display="block",this.dom.style.height=n+"px",this.dom.style.top=i+"px",this.dom.style.left=t-this.dom.offsetWidth/2+"px"}}]),e}()).\u0275fac=function(e){return new(e||yO)},yO.\u0275prov=y.Nb({token:yO,factory:yO.\u0275fac}),yO),YE=((mO=function(){function e(){_classCallCheck(this,e),this.changes=new y.o}return _createClass(e,[{key:"reorder",value:function(e){this.changes.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||mO)},mO.\u0275prov=y.Nb({token:mO,factory:mO.\u0275fac}),mO),KE=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n,r=e.column,a=e.newIndex,o=e.oldIndex;return _classCallCheck(this,i),(n=t.call(this)).column=r,n.newIndex=a,n.oldIndex=o,n}return i}(WO),ZE=((kO=function(){function e(){_classCallCheck(this,e),this.groups=new Set}return _createClass(e,[{key:"registerGroup",value:function(e){this.alive&&this.groups.add(e)}},{key:"unregisterGroup",value:function(e){this.alive&&this.groups.delete(e)}},{key:"activate",value:function(){this.alive&&this.groups.forEach((function(e){return e.activate()}))}},{key:"deactivate",value:function(){this.alive&&this.groups.forEach((function(e){return e.deactivate()}))}}]),e}()).\u0275fac=function(e){return new(e||kO)},kO.\u0275prov=y.Nb({token:kO,factory:kO.\u0275fac}),kO),$E=TE("button"),QE=TE("input"),eA=/(button|checkbox|color|file|radio|reset|submit)/i,tA=function(){function e(t,i){var n=this;_classCallCheck(this,e),this.renderer=i,this.element=t.nativeElement,this.focusable=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return DE(n.element,(function(e){return RE(e,t)}))}(0,!1)||this.element}return _createClass(e,[{key:"isNavigable",value:function(){return this.canFocus()&&!(e=this.element).disabled&&($E(e)||function(e){return QE(e)&&eA.test(e.type)}(e));var e}},{key:"toggle",value:function(e){this.renderer.setAttribute(this.focusable,"tabIndex",e?"0":"-1")}},{key:"focus",value:function(){this.focusable&&this.focusable.focus()}},{key:"canFocus",value:function(){return this.visible&&this.enabled}},{key:"hasFocus",value:function(){var e=this;return document.activeElement!==this.element&&IE(document.activeElement,(function(t){return t===e.element}))}},{key:"enabled",get:function(){return this.focusable&&!this.focusable.disabled}},{key:"visible",get:function(){return this.focusable&&EE(this.focusable)}}]),e}(),iA=((CO=function(){function e(t,i,n){_classCallCheck(this,e),this.cellContext=t,this.hostElement=i,this.renderer=n,this.active=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.element||(this.element=new tA(this.hostElement,this.renderer)),this.group&&this.toggle(this.group.isActive)}},{key:"ngOnDestroy",value:function(){this.group&&this.group.unregisterElement(this)}},{key:"toggle",value:function(e){this.element&&e!==this.active&&(this.active=e,this.element.toggle(e))}},{key:"canFocus",value:function(){return this.element&&this.element.canFocus()}},{key:"isNavigable",value:function(){return this.element&&this.element.isNavigable()}},{key:"focus",value:function(){this.element&&this.element.focus()}},{key:"hasFocus",value:function(){return this.element&&this.element.hasFocus()}},{key:"registerElement",value:function(e){this.element=e}}]),e}()).\u0275fac=function(e){return new(e||CO)(y.Rb(lE,12),y.Rb(y.m),y.Rb(y.F))},CO.\u0275dir=y.Mb({type:CO,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]]}),CO),nA=function(){function e(t){_classCallCheck(this,e),this.navigationService=t}return _createClass(e,[{key:"focus",value:function(){this.navigationService.focusCell()}},{key:"toggle",value:function(e){this.navigationService.toggle(e)}},{key:"canFocus",value:function(){return!0}},{key:"hasFocus",value:function(){return this.navigationService.hasFocus()}},{key:"isNavigable",value:function(){return!1}}]),e}(),rA=function(){function e(t){_classCallCheck(this,e),this.model=t,this.changes=new yt.a,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}return _createClass(e,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeRow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeCol,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.activate(e,t,i)&&(this.virtualRow=e,this.virtualCol=t)}},{key:"activate",value:function(e,t,i){if(!i&&this.isActiveRange(e,t))return!1;var n=this.activeCol,r=this.activeRow;return this.activeCol=t,this.activeRow=e,this.changes.next({colIndex:t,prevColIndex:n,prevRowIndex:r,rowIndex:e}),!0}},{key:"isActiveRange",value:function(e,t){if(this.activeRow!==e)return!1;var i=this.cell,n=this.model.cellRange(i),r=n.start,a=n.end;return!Boolean(i)||r<=t&&t<=a}},{key:"assume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeRow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeCol;this.virtualRow=e,this.virtualCol=t,this.activeCol=t,this.activeRow=e}},{key:"announce",value:function(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}},{key:"activateVirtualCell",value:function(e){var t=this.model.rowRange(e),i=this.model.cellRange(e),n=this.activeCol,r=this.activeRow;if(t.start<=r&&r<=t.end&&i.start<=n&&n<=i.end)return this.activeRow=e.rowIndex,this.activeCol=e.colIndex,!0}},{key:"isActive",value:function(e,t){return this.activeCol===t&&this.activeRow===e}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetRow(-e)}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetRow(e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetCol(-e)}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetCol(e)}},{key:"lastCellIndex",value:function(e){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||e&&e.groupItem?0:1)}},{key:"offsetCol",value:function(e){var t=this.model.findRow(this.virtualRow),i=this.lastCellIndex(t),n=this.virtualCol;this.virtualCol=Math.max(0,Math.min(n+e,i));var r=this.virtualCol,a=this.virtualRow,o=this.model.findCell(this.virtualCol,t);if(!o&&this.metadata.virtualColumns)return this.activate(a,r);if(o.colSpan>1&&o.colIndex<=n&&n<o.colIndex+o.colSpan){r=e>0?Math.min(o.colIndex+o.colSpan,i):Math.max(0,o.colIndex+e);var s=this.model.findCell(r,t);o!==s?(o=s,this.virtualCol=o.colIndex):this.virtualCol=n}return this.activate(o.rowIndex,o.colIndex)}},{key:"offsetRow",value:function(e){var t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){var i=this.metadata.maxLogicalRowIndex,n=Math.max(0,Math.min(this.activeRow+e,i));this.metadata.hasDetailTemplate&&!this.model.findRow(n)&&(n=e>0?n+1:n-1,n=Math.max(0,Math.min(n,i))),this.metadata.hasDetailTemplate&&n===i&&this.model.lastRow.index!==i&&n--;var r=this.model.findRow(n);if(r){var a=this.model.findCell(this.virtualCol,r);a.rowIndex<=this.virtualRow&&e>0&&a.rowSpan>1&&(a=this.model.findCell(this.virtualCol,this.model.findRow(a.rowIndex+a.rowSpan-1+e))),n=a.rowIndex,t=a.colIndex}return this.virtualRow=n,this.activate(n,t)}var o=this.model.findRow(this.virtualRow+e)||this.model.nextRow(this.virtualRow,e);if(!o)return!1;var s=this.model.findCell(this.virtualCol,o);return s&&s.rowIndex<=this.virtualRow&&e>0&&s.rowSpan>1&&(s=this.model.findCell(this.virtualCol,this.model.findRow(s.rowIndex+s.rowSpan-1+e))),!s&&this.metadata.virtualColumns?this.activate(this.virtualRow+e,this.virtualCol):(this.virtualRow=s.rowIndex,this.activate(this.virtualRow,s.colIndex))}},{key:"row",get:function(){return this.model.findRow(this.activeRow)}},{key:"cell",get:function(){var e=this.row;if(e)return this.model.findCell(this.activeCol,e)}},{key:"dataRowIndex",get:function(){var e=this.row;return e?e.dataRowIndex:-1}}]),e}(),aA=function(){function e(){_classCallCheck(this,e),this.count=0,this.items={}}return _createClass(e,[{key:"removeItem",value:function(e){this.items[e]&&(delete this.items[e],this.count--)}},{key:"setItem",value:function(e,t){this.items[e]||this.count++,this.items[e]=t}},{key:"getItem",value:function(e){return this.items[e]}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"forEach",value:function(e){for(var t in this.items)if(this.items.hasOwnProperty(t)&&e(this.items[t]))return this.items[t]}},{key:"find",value:function(e){return this.forEach(e)}},{key:"first",get:function(){var e;if(this.count>0)return this.forEach((function(t){return e=t,!0})),e}},{key:"last",get:function(){if(this.count>0){var e=Object.keys(this.items);return this.items[e[e.length-1]]}}}]),e}(),oA=function(){function e(){_classCallCheck(this,e),this.rows=new aA}return _createClass(e,[{key:"registerCell",value:function(e){var t=this.rows.getItem(e.logicalRowIndex);if(t){var i=e.logicalColIndex,n={uid:e.uid,colIndex:i,rowIndex:t.index,colSpan:e.colSpan,rowSpan:e.rowSpan,detailExpandCell:e.detailExpandCell,dataItem:t.dataItem,dataRowIndex:t.dataRowIndex,focusGroup:e.focusGroup};return t.cells.setItem(i,n),e.groupItem&&(t.groupItem=e.groupItem),n}}},{key:"unregisterCell",value:function(e,t,i){var n=this.rows.getItem(t);if(n){var r=n.cells.getItem(e);r&&r.uid===i.uid&&n.cells.removeItem(e)}}},{key:"registerRow",value:function(e){var t={uid:e.uid,index:e.logicalRowIndex,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,cells:new aA};this.rows.setItem(e.logicalRowIndex,t)}},{key:"updateRow",value:function(e){var t=this.rows.getItem(e.logicalRowIndex);t&&Object.assign(t,{dataItem:e.dataItem,dataRowIndex:e.dataRowIndex})}},{key:"unregisterRow",value:function(e,t){var i=this.rows.getItem(e);i&&i.uid===t.uid&&this.rows.removeItem(e)}},{key:"cellRange",value:function(e){return e?{start:e.colIndex,end:e.colIndex+(e.colSpan||1)-1}:{}}},{key:"rowRange",value:function(e){return e?{start:e.rowIndex,end:e.rowIndex+(e.rowSpan||1)-1}:{}}},{key:"nextRow",value:function(e,t){var i=this.rows.toArray(),n=this.rows.getItem(e),r=i.indexOf(n);return i[r+t]}},{key:"findRow",value:function(e){return this.rows.getItem(e)}},{key:"findCell",value:function(e,t){if(t){for(var i=t.index,n=t.cells.getItem(e),r=i;!n&&t;)t=this.rows.getItem(r),n=this.rowCell(e,t),r--;return n&&i<=t.index+(n.rowSpan||1)-1?n:void 0}}},{key:"rowCell",value:function(e,t){if(t&&t.cells.count){for(var i,n=t.cells.first,r=e;!i&&r>=n.colIndex;)i=t.cells.getItem(r),r--;return i&&e<=i.colIndex+(i.colSpan||1)-1?i:void 0}}},{key:"firstRow",get:function(){return this.rows.first}},{key:"lastRow",get:function(){return this.rows.last}}]),e}(),sA=((wO=function(){function e(){_classCallCheck(this,e),this.requests=new yt.a}return _createClass(e,[{key:"scrollTo",value:function(e){this.requests.next(e)}}]),e}()).\u0275fac=function(e){return new(e||wO)},wO.\u0275prov=y.Nb({token:wO,factory:wO.\u0275fac}),wO),lA=function(e,t){return IE(e,TE("kendo-grid"))===t},cA=TE("th"),uA=TE("td"),hA=function(e){return uA(e)||cA(e)},fA=function(e,t){var i=function(e,t){for(var i=IE(e,hA);i&&!lA(i,t);)i=IE(i.parentElement,hA);return i}(e,t),n=IE(i,TE("tr"));if(i&&n){var r=n.getAttribute("aria-rowindex");r=r?parseInt(r,10)-1:null;var a=i.getAttribute("aria-colindex");if(a=a?parseInt(a,10)-1:null,null!==r&&null!==a)return{colIndex:a,rowIndex:r,element:i}}},dA=function(e){return function(e){return e===Wi.ArrowLeft||e===Wi.ArrowRight||e===Wi.ArrowUp||e===Wi.ArrowDown}(e)||e===Wi.PageUp||e===Wi.PageDown||e===Wi.Home||e===Wi.End},pA=TE("input"),vA=function(){function e(t,i){_classCallCheck(this,e),this.firstItemIndex=t,this.lastItemIndex=i}return _createClass(e,[{key:"containsRow",value:function(e){return e<0||e>=this.firstItemIndex&&e<=this.lastItemIndex}},{key:"intersects",value:function(e,t){return e<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=e&&e<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}]),e}(),gA=function(){var e=function(){function e(t,i,n,r,a,o,s,l,c,u,h){_classCallCheck(this,e),this.zone=t,this.domEvents=i,this.pagerContextService=n,this.scrollRequestService=r,this.groupsService=a,this.detailsService=o,this.focusRoot=s,this.editService=l,this.cd=c,this.localization=u,this.focusableParent=h,this.cellKeydown=new y.o,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new oA,this.cursor=new rA(this.model),this.changes=this.cursor.changes}return _createClass(e,[{key:"init",value:function(e){var t=this;this.alive=!0,this.focusRoot.alive=!0,this.metadata=e;var i=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return function(e){var n;return t.zone.isStable?Object(x.a)([!0]).pipe(Object(w.a)((function(){return e}))):(n=t.zone.onStable).pipe.apply(n,[Object(Nt.a)(1),Object(w.a)((function(){return e}))].concat(i))}},n=i();if(this.subs=new bt.a,this.subs.add(this.cursor.changes.subscribe((function(e){return t.onCursorChanges(e)}))),this.subs.add(this.domEvents.focus.pipe(Object(Bt.a)(n)).subscribe((function(e){return t.navigateTo(e.target)}))),this.subs.add(this.domEvents.focusOut.pipe(Object(Wt.a)((function(){return 0!==t.mode})),Object(Bt.a)(i(Kt(this.domEvents.focus)))).subscribe((function(e){return t.onFocusOut(e)}))),this.subs.add(this.domEvents.windowBlur.pipe(Object(Wt.a)((function(){return 0!==t.mode}))).subscribe((function(){return t.onWindowBlur()}))),this.subs.add(this.editService.changes.pipe(Object(Wt.a)((function(e){return"edit"!==e.action&&2===t.mode})),Object(Wt.a)((function(e){return"cellClose"===e.action&&!e.prevented})),Object(Bt.a)(n)).subscribe((function(){return t.leaveCell()}))),this.subs.add(this.pagerContextService.pageChange.subscribe((function(){return t.cursor.reset(0,0)}))),this.subs.add(this.domEvents.keydown.subscribe((function(e){return t.onKeydown(e)}))),this.subs.add(this.domEvents.keydown.pipe(Object(Wt.a)((function(e){return e.keyCode===Wi.Tab&&2===t.mode})),Qt(this.domEvents.focusOut.pipe(Kt(Dt(0).pipe(Object(Nt.a)(1)))))).subscribe((function(){return t.onTabout()}))),this.focusableParent){var r=new nA(this);this.focusableParent.registerElement(r)}this.deactivateElements()}},{key:"ngOnDestroy",value:function(){this.subs&&this.subs.unsubscribe(),this.alive=!1}},{key:"registerCell",value:function(e){if(e.logicalRowIndex!==this.pendingRowIndex){var t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}},{key:"registerCellOnCurrentRow",value:function(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}},{key:"unregisterCell",value:function(e,t,i){this.model.unregisterCell(e,t,i)}},{key:"registerRow",value:function(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}},{key:"updateRow",value:function(e){this.model.updateRow(e)}},{key:"unregisterRow",value:function(e,t){this.model.unregisterRow(e,t)}},{key:"isCellFocusable",value:function(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}},{key:"isCellFocused",value:function(e){return 1===this.mode&&this.isCellFocusable(e)}},{key:"navigateTo",value:function(e){if(this.alive){var t=fA(e,this.meta.gridElement.nativeElement);if(t){var i=this.mode,n=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!IE(t,(function(t){return t===e})))return!1;var n=IE(t,(function(e){return e===t}));return n&&(i||n!==e)}(t.element,document.activeElement),r=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(n)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!r){this.mode=1,this.deactivateElements();var a=this.cursor.isActive(t.rowIndex,t.colIndex);1===i&&a||this.cursor.reset(t.rowIndex,t.colIndex)}}}}},{key:"tryFocus",value:function(e){this.activateElements();var t=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return DE(e,(function(e){return RE(e,t)}),!1)}(e);if(t){var i=fA(t,this.meta.gridElement.nativeElement);i&&(this.cursor.reset(i.rowIndex,i.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}},{key:"needsViewport",value:function(){return this.meta&&this.meta.isVirtual}},{key:"setViewport",value:function(e,t){if(this.viewport=new vA(e,t),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){var i=this.activeDataRow,n=i-t;e-i>0?this.cursor.reset(e+this.meta.headerRows):n>0&&this.cursor.reset(t-this.meta.headerRows)}}},{key:"setColumnViewport",value:function(e,t){this.columnViewport=new vA(e,t)}},{key:"focusCell",value:function(e,t){return this.mode=1,this.cursor.reset(e,t),this.activeCell}},{key:"focusNextCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.focusAdjacentCell(!0,e)}},{key:"focusPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.focusAdjacentCell(!1,e)}},{key:"toggle",value:function(e){this.active=e,this.cursor.announce()}},{key:"hasFocus",value:function(){return 1===this.mode||2===this.mode}},{key:"autoFocusCell",value:function(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}},{key:"focusAdjacentCell",value:function(e,t){this.focusCell();var i=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!i&&(i=e?this.cursor.moveDown(1):this.cursor.moveUp(1))){var n=this.cursor.row,r=e?0:this.cursor.lastCellIndex(n);this.cursor.reset(n.index,r)}return i?this.activeCell:(this.mode=0,this.cursor.announce(),null)}},{key:"enterCell",value:function(){var e=this.cursor.cell;if(e){var t=e.focusGroup,i=t&&t.canFocus();this.mode=i?2:1,this.cursor.announce(),i&&(this.activateRow(),t.focus())}}},{key:"leaveCell",value:function(){var e=this.cursor.cell;if(e){var t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}}},{key:"activateElements",value:function(){this.focusRoot.activate()}},{key:"deactivateElements",value:function(){this.focusRoot.deactivate()}},{key:"activateRow",value:function(){this.cursor.row.cells.forEach((function(e){return e.focusGroup&&e.focusGroup.activate()}))}},{key:"moveCursorFwd",value:function(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}},{key:"moveCursorBwd",value:function(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}},{key:"onCursorKeydown",value:function(e){var t=this,i=!1,n=e.ctrlKey||e.metaKey,r=n?5:1;if(this.onCellKeydown(e)){var a,o=this.cursor.row;switch(e.keyCode){case Wi.ArrowDown:i=this.cursor.moveDown(r);break;case Wi.ArrowUp:i=this.cursor.moveUp(r);break;case Wi.ArrowRight:i=this.moveCursorFwd();break;case Wi.ArrowLeft:i=this.moveCursorBwd();break;case Wi.PageDown:if(this.metadata.isVirtual&&this.viewport){var s=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&s++,s=Math.min(this.meta.maxLogicalRowIndex,s),this.cursor.reset(s),i=!0}else this.metadata.hasPager&&(this.zone.run((function(){return t.pagerContextService.nextPage()})),i=!0);break;case Wi.PageUp:if(this.metadata.isVirtual&&this.viewport){var l=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(l),i=!0}else this.metadata.hasPager&&(this.zone.run((function(){return t.pagerContextService.prevPage()})),i=!0);break;case Wi.Home:this.cursor.reset(n?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:o.index,0,!1),i=!0;break;case Wi.End:if(n)if(this.meta.isVirtual){var c=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&c--,this.cursor.reset(c,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{var u=this.cursor.lastCellIndex(o),h=this.model.findCell(u,o);h?this.cursor.reset(h.rowIndex,h.colIndex):this.cursor.reset(o.index,u)}i=!0;break;case Wi.Enter:case Wi.F2:var f=o.groupItem;f?this.zone.run((function(){return t.groupsService.toggleRow(f.index,f.data)})):this.cursor.cell.detailExpandCell?this.zone.run((function(){return t.detailsService.toggleRow(o.dataRowIndex,o.dataItem)})):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(i=!0));break;default:e.ctrlKey||e.altKey||1!==(a=e.key).length||!a.match(/\S/)||this.enterCell()}i&&e.preventDefault()}}},{key:"onContentKeydown",value:function(e){if(this.onCellKeydown(e)){var t,i=!e.defaultPrevented&&e.keyCode===Wi.Enter&&(t=e.srcElement)&&pA(t)&&"text"===t.type.toLowerCase();e.keyCode===Wi.Escape||e.keyCode===Wi.F2||i?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):dA(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}}},{key:"onCellKeydown",value:function(e){if(this.editService.isEditingCell()){var t=e.keyCode===Wi.Enter,i=e.keyCode===Wi.Escape,n=dA(e.keyCode);if(t)this.editService.closeCell(e);else if(i)this.editService.cancelCell(),this.cd.detectChanges();else if(n)return!1}return this.cellKeydown.emit(e),!0}},{key:"onCursorChanges",value:function(e){this.activeRowIndex=e.rowIndex;var t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){var i=this.activeCell,n=this.model.cellRange(i),r=n.start,a=n.end;i||(this.virtualCell=!0),(!i&&0!==this.mode||i&&!this.columnViewport.intersects(r,a))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}},{key:"onFocusOut",value:function(e){this.mode=EE(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}},{key:"onWindowBlur",value:function(){this.mode=0,this.deactivateElements(),this.cursor.announce()}},{key:"onKeydown",value:function(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}},{key:"onTabout",value:function(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}},{key:"metadata",set:function(e){this.meta=e,this.cursor.metadata=e},get:function(){return this.meta}},{key:"enabled",get:function(){return this.alive}},{key:"activeCell",get:function(){if(0!==this.mode)return this.cursor.cell}},{key:"activeRow",get:function(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}},{key:"activeDataRow",get:function(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.cc(y.A),y.cc(BO),y.cc(hE),y.cc(sA),y.cc($O),y.cc(KO),y.cc(ZE),y.cc(XO),y.cc(y.h),y.cc(cr),y.cc(iA,8))},e.\u0275prov=y.Nb({token:e,factory:e.\u0275fac}),e}(),mA=function(){function e(t,i,n,r,a,o,s,l){_classCallCheck(this,e),this.dataRows=t,this.headerRows=i,this.isVirtual=n,this.hasPager=r,this.hasDetailTemplate=a,this.gridElement=o,this.virtualColumns=s,this.columns=l}return _createClass(e,[{key:"maxLogicalRowIndex",get:function(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}]),e}(),yA=0,bA=((SO=function(){function e(){_classCallCheck(this,e),this.prefix="k-grid".concat(yA++)}return _createClass(e,[{key:"cellId",value:function(e,t){return"".concat(this.prefix,"-r").concat(e,"c").concat(t)}},{key:"selectionCheckboxId",value:function(e){return"".concat(this.prefix,"-checkbox").concat(e)}},{key:"selectAllCheckboxId",value:function(){return"".concat(this.prefix,"-select-all")}}]),e}()).\u0275fac=function(e){return new(e||SO)},SO.\u0275prov=y.Nb({token:SO,factory:SO.\u0275fac}),SO),kA=((xO=function(){function e(){_classCallCheck(this,e),this.visibilityChange=new y.o,this.lockedChange=new y.o,this.columnRangeChange=new y.o,this.columnsContainer=new QO((function(){return[]}))}return _createClass(e,[{key:"init",value:function(e,t){this.columnsContainer=e,this.list=t}},{key:"changeVisibility",value:function(e){this.visibilityChange.emit(e)}},{key:"changeLocked",value:function(e){this.lockedChange.emit(e)}},{key:"lockedLeafColumns",get:function(){return this.columnsContainer.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columnsContainer.nonLockedLeafColumns}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"totalLevels",get:function(){return this.columnsContainer.totalLevels}},{key:"leafNamedColumns",get:function(){var e=PI(this.list().filterSort((function(e){return!e.isColumnGroup}))).filter((function(e){return e.matchesMedia&&e.displayTitle}));return ir(e,[{field:"locked",dir:"desc"}])}},{key:"unlockedRootCount",get:function(){return this.list().rootColumns().filter((function(e){return!e.locked&&e.isVisible})).length}}]),e}()).\u0275fac=function(e){return new(e||xO)},xO.\u0275prov=y.Nb({token:xO,factory:xO.\u0275fac}),xO),CA=((_O=function(){function e(){_classCallCheck(this,e),this.changes=new yt.a}return _createClass(e,[{key:"sort",value:function(e){this.changes.next(e)}}]),e}()).\u0275fac=function(e){return new(e||_O)},_O.\u0275prov=y.Nb({token:_O,factory:_O.\u0275fac}),_O),wA=function e(t){_classCallCheck(this,e),this.columns=t},_A=function e(t){_classCallCheck(this,e),this.columns=t};function xA(e,t){return"data"===t.type&&t.isEditing?t.data:e}var SA,TA=function(e,t,i,n){return e.changes.pipe(Object(Wt.a)((function(e){var t=e.dataItem;return sI(t)}))).subscribe((function(e){return e.expand?t.emit(n(e)):i.emit(n(e))}))},IA=function(e,t){return IE(e,SE("k-grid-edit-cell"))&&IE(e,TE("kendo-grid"))===t},OA={},EA=((SA=function(){function e(t,i,n,r,a,o,s,l,c,u,h,f,d,p,v,g,m,b,k,C,w,_,x,S){var T=this;_classCallCheck(this,e),this.supportService=t,this.selectionService=i,this.wrapper=n,this.groupInfoService=r,this.groupsService=a,this.changeNotification=o,this.detailsService=s,this.editService=l,this.filterService=c,this.pdfService=u,this.responsiveService=h,this.renderer=f,this.excelService=d,this.ngZone=p,this.scrollSyncService=v,this.domEvents=g,this.columnResizingService=m,this.changeDetectorRef=b,this.columnReorderService=k,this.columnInfoService=C,this.navigationService=w,this.sortService=_,this.scrollRequestService=x,this.data=[],this.scrollable="scrollable",this.selectable=!1,this.trackBy=xA,this.virtualColumns=!1,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.navigable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.loading=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new y.o,this.pageChange=new y.o,this.groupChange=new JT(this.ngZone),this.sortChange=new y.o,this.selectionChange=new y.o,this.dataStateChange=new y.o,this.groupExpand=new y.o,this.groupCollapse=new y.o,this.detailExpand=new y.o,this.detailCollapse=new y.o,this.edit=new y.o,this.cancel=new y.o,this.save=new y.o,this.remove=new y.o,this.add=new y.o,this.cellClose=new y.o,this.cellClick=new JT(this.ngZone),this.pdfExport=new y.o,this.excelExport=new y.o,this.columnResize=new JT(this.ngZone),this.columnReorder=new y.o,this.columnVisibilityChange=new y.o,this.columnLockedChange=new y.o,this.scrollBottom=new y.o,this.contentScroll=new y.o,this.columns=new y.E,this.footer=new y.E,this.selectionDirective=!1,this.columnsContainer=new QO((function(){return T.columnList.filterHierarchy((function(e){return e.matchesMedia=T.matchesMedia(e),e.isVisible}))})),this.view=new VO((function(){return new jO(T.data,T.skip,T.hasGroupFooters)})),this.shouldGenerateColumns=!0,this._sort=new Array,this._group=new Array,this._skip=0,this.cachedWindowWidth=0,this._rowSelected=null,this.rtl=!1,this._rowClass=function(){return null},this.localizationSubscription=S.changes.subscribe((function(e){var t=e.rtl;T.rtl=t,T.direction=T.rtl?"rtl":"ltr"})),this.groupInfoService.registerColumnsContainer((function(){return T.columnList})),this.columnInfoService.init(this.columnsContainer,(function(){return T.columnList})),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe((function(e){T.columnVisibilityChange.emit(new wA(e))})),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe((function(e){T.columnLockedChange.emit(new _A(e))})),i&&(this.selectionSubscription=i.changes.subscribe((function(e){T.ngZone.run((function(){return T.selectionChange.emit(e)}))}))),this.groupExpandCollapseSubscription=TA(a,this.groupExpand,this.groupCollapse,(function(e){return{group:e.dataItem,groupIndex:e.index}})),this.detailsServiceSubscription=TA(s,this.detailExpand,this.detailCollapse,(function(e){return e})),this.filterSubscription=this.filterService.changes.subscribe((function(e){T.filterChange.emit(e)})),this.sortSubscription=this.sortService.changes.subscribe((function(e){T.sortChange.emit(e)})),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new iE(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}return _createClass(e,[{key:"expandRow",value:function(e){this.toggleDetailRowLegacy(e,!0)}},{key:"collapseRow",value:function(e){this.toggleDetailRowLegacy(e,!1)}},{key:"expandGroup",value:function(e){this.groupsService.isExpanded(e)||this.groupsService.toggleRow(e,null)}},{key:"collapseGroup",value:function(e){this.groupsService.isExpanded(e)&&this.groupsService.toggleRow(e,null)}},{key:"resetGroupsState",value:function(){this.groupsService.reset()}},{key:"expandGroupChildren",value:function(e){this.groupsService.expandChildren(e)}},{key:"onDataChange",value:function(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),sI(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}},{key:"ngOnChanges",value:function(e){var t=this;Ti("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&Ii(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),Ii(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),Ti("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),Ti("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height","".concat(this.height,"px")),Ti("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(Object(Nt.a)(1))),Ii(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:Boolean(this.filterable),sort:Boolean(this.sortable)},this.columnMenu)),Ti("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(Object(Nt.a)(1)).subscribe((function(){return t.attachScrollSync()}))}},{key:"ngAfterViewInit",value:function(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}},{key:"ngAfterContentChecked",value:function(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}},{key:"ngAfterContentInit",value:function(){var e=this;this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new iE(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe((function(){return e.verifySettings()}))}},{key:"ngOnInit",value:function(){this.navigable&&this.navigationService.init(this.navigationMetadata())}},{key:"ngOnDestroy",value:function(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}},{key:"attachScrollSync",value:function(){var e=this;dI()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=fI(this.footer).subscribe((function(t){return t.map((function(e){return e.nativeElement})).filter(sI).forEach((function(t){return e.scrollSyncService.registerEmitter(t,"footer")}))}))))}},{key:"editRow",value:function(e,t,i){if(this.editService.editRow(e,t),!sI(i)||!i.skipFocus){var n='tr[data-kendo-grid-item-index="'.concat(e,'"]'),r=i&&i.columnIndex,a=isNaN(r)?n:"".concat(n,' td[data-kendo-grid-column-index="').concat(r,'"]');this.focusEditElement(a)}}},{key:"closeRow",value:function(e){this.editService.close(e)}},{key:"addRow",value:function(e){if(!(e instanceof Xe)){var t=Object.keys(e).reduce((i=e,function(e,t){return e[t]=new qe(i[t]),e}),{});e=new Xe(t)}var i;this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}},{key:"editCell",value:function(e,t,i){var n=this.columnInstance(t);this.editService.editCell(e,n,i),this.focusEditElement(".k-grid-edit-cell")}},{key:"closeCell",value:function(){return!this.editService.closeCell()}},{key:"cancelCell",value:function(){this.editService.cancelCell()}},{key:"isEditing",value:function(){return this.editService.isEditing()}},{key:"isEditingCell",value:function(){return this.editService.isEditingCell()}},{key:"saveAsPDF",value:function(){this.pdfService.save(this)}},{key:"drawPDF",value:function(){var e=function(){var e,t,i=new Promise((function(n,r){e=function(e){return n(e),i},t=function(e){return r(e),i}}));return i.resolve=e,i.reject=t,i}();return this.pdfService.draw(this,e),e}},{key:"saveAsExcel",value:function(){this.excelService.save(this)}},{key:"autoFitColumn",value:function(e){this.columnResizingService.autoFit(e)}},{key:"autoFitColumns",value:function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.columns;t=i instanceof y.E?i.toArray():i,(e=this.columnResizingService).autoFit.apply(e,_toConsumableArray(t))}},{key:"notifyPageChange",value:function(e,t){("list"!==e||this.isVirtual)&&this.pageChange.emit(t)}},{key:"notifyScrollBottom",value:function(){var e=this;"none"!==this.scrollable&&Oi(this.scrollBottom)&&this.ngZone.run((function(){return e.scrollBottom.emit({sender:e})}))}},{key:"focusEditElement",value:function(e){var t=this;this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular((function(){t.focusElementSubscription=t.ngZone.onStable.asObservable().pipe(Object(Nt.a)(1)).subscribe((function(){var i=t.wrapper.nativeElement;!t.setEditFocus(i.querySelector(e))&&t.isLocked&&t.setEditFocus(i.querySelector(".k-grid-content ".concat(e))),t.focusElementSubscription=null}))}))}},{key:"focus",value:function(){return this.assertNavigable(),this.navigationService.focusCell()}},{key:"focusCell",value:function(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}},{key:"focusNextCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertNavigable(),this.navigationService.focusNextCell(e)}},{key:"focusPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertNavigable(),this.navigationService.focusPrevCell(e)}},{key:"scrollTo",value:function(e){this.scrollRequestService.scrollTo(e)}},{key:"reorderColumn",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{before:!1},n=this.columnsForLevel(e.level)[t];n&&(n.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(DI(n)&&!i.before&&(n=n.childColumns.last),this.reorder({before:i.before,source:e,target:n})))}},{key:"reorder",value:function(e){var t=this,i=e.target,n=e.source,r=e.before,a=e.changeContainer;this.ngZone.run((function(){var e=t.columnsForLevel(n.level),o=e.indexOf(i);i.parent&&i.parent.isSpanColumn&&(o=e.indexOf(i.parent),r&&(i=i.parent));var s=e.indexOf(n);a&&(r&&0<o&&s<o?o--:!r&&s>o&&o++);var l=new KE({column:n,oldIndex:s,newIndex:o});t.columnReorder.emit(l),l.isDefaultPrevented()||(a&&t.columnLockedChange.emit(new _A([n])),t.updateColumnIndices({source:n,target:i,before:r}),n.locked!==i.locked&&(n.locked=i.locked),t.columnsContainer.refresh(),t.changeDetectorRef.markForCheck())}))}},{key:"updateColumnIndices",value:function(e){var t=e.source,i=e.target,n=e.before,r=FI(this.columnsForLevel(t.level)),a=r.indexOf(t),o=0,s=0,l=1;t.isSpanColumn&&(l+=t.childColumns.length);for(var c=0;c<r.length;){var u=r[c];if(u===i)o=n?s:s+1,s=n?s+l:s,u.orderIndex=s,o===s+1&&(s+=l);else{if(u===t){c+=l;continue}u.orderIndex=s}s++,c++}for(c=a;c<a+l;c++)r[c].orderIndex=o++;this.updateIndicesForLevel(t.level+1)}},{key:"updateIndicesForLevel",value:function(e){var t=this.columnsForLevel(e-1),i=[];WI(t).forEach((function(e){e.isColumnGroup&&i.push.apply(i,_toConsumableArray(e.childrenArray.sort((function(e,t){return e.orderIndex-t.orderIndex}))))})),FI(i).map((function(e,t){return e.orderIndex=t})),e<this.columnsContainer.totalLevels&&this.updateIndicesForLevel(e+1)}},{key:"columnsForLevel",value:function(e){return this.columnsContainer.allColumns.filter((function(t){return t.level===e}))}},{key:"initSelectionService",value:function(){this.selectionDirective||sI(this.defaultSelection)||(this.defaultSelection=new GO(this,this.changeDetectorRef)),this.selectionService.init({rowSelected:this.rowSelected,selectable:this.selectable,view:this.view}),this.selectionDirective||this.selectableSettings.enabled||this.defaultSelection.reset()}},{key:"setEditFocus",value:function(e){if(e)return this.navigationService.tryFocus(e)}},{key:"columnInstance",value:function(e){var t;if(!(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter((function(t){return t.field===e}))[0]:e)&&Object(y.Y)())throw new Error("Invalid column ".concat(e));return t}},{key:"verifySettings",value:function(){if(Object(y.Y)()){var e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock;if(e&&this.detailTemplate)throw new Error("Having both detail template and locked columns is not supported.");if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length)throw new Error("There should be at least one non-locked column");if((e||this.virtualColumns)&&PI(this.columnList.toArray()).filter((function(e){return!e.width&&!qI(e)})).length)throw new Error((e?"Locked":"Virtual")+" columns feature requires all columns to have set width.");if(e&&!this.isScrollable)throw new Error("Locked columns are only supported when scrolling is enabled.");if(this.columnList.filter(qI).filter((function(e){return!e.hasChildren})).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter((function(e){return e.locked&&e.parent&&!e.parent.isLocked})).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual)throw new Error("Row height and detail row height settings require virtual scrolling mode to be enabled.");PI(this.columnList.toArray()).filter(EI).filter((function(e){var t,i=e.field;return!(!hI(t=i)&&NI.test(t)&&"."!==t[0]&&"."!==t[t.length-1])})).forEach((function(e){var t=e.field;return console.warn("\n                Grid column field name '".concat(t,'\' does not look like a valid JavaScript identifier.\n                Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n                Please use only valid identifier names to ensure error-free operation.\n            '))}))}}},{key:"autoGenerateColumns",value:function(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map((function(e){var t=new RI;return t.field=e,t})))}},{key:"attachStateChangesEmitter",value:function(){var e=this;this.stateChangeSubscription=Object(pt.a)(this.pageChange.pipe(Object(w.a)((function(t){return{filter:e.filter,group:e.group,skip:t.skip,sort:e.sort,take:t.take}}))),this.sortChange.pipe(Object(w.a)((function(t){return{filter:e.filter,group:e.group,skip:e.skip,sort:t,take:e.pageSize}}))),this.groupChange.pipe(Object(w.a)((function(t){return{filter:e.filter,group:t,skip:e.skip,sort:e.sort,take:e.pageSize}}))),this.filterChange.pipe(Object(w.a)((function(t){return{filter:t,group:e.group,skip:0,sort:e.sort,take:e.pageSize}})))).subscribe((function(t){e.closeCell(),e.cancelCell(),e.dataStateChange.emit(t)}))}},{key:"attachEditHandlers",value:function(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}},{key:"emitCRUDEvent",value:function(e){var t=e.action,i=e.rowIndex,n=e.formGroup,r=this.view.at(i-this.skip);switch("add"===t||r||(r=n.value),this.closeCell(),Object.assign(e,{dataItem:r,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}},{key:"attachDomEventHandlers",value:function(){var e=this;this.cellClickSubscription=this.domEvents.cellClick.subscribe((function(t){e.cellClick.emit(Object.assign({sender:e},t))}))}},{key:"attachElementEventHandlers",value:function(){var e=this;if(!dI()){var t=this.wrapper.nativeElement,i=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular((function(){var n=e.resizeCheck.bind(e),r=e.renderer.listen("window","resize",n),a=e.renderer.listen("window","orientationchange",n),o=e.renderer.listen("document","click",(function(t){var i=document.activeElement;!e.editService.shouldCloseCell()||IE(t.target,SE("k-animation-container k-grid-ignore-click"))||i&&(IE(i,SE("k-animation-container"))||IA(i,e.wrapper.nativeElement))||e.editService.closeCell(t)})),s=e.renderer.listen("window","blur",(function(t){var i=document.activeElement;!i||TE("input")(i)&&"file"===i.type&&IA(i,e.wrapper.nativeElement)||e.editService.closeCell(t),e.domEvents.windowBlur.emit(t)})),l=e.renderer.listen(t,"click",(function(t){e.domEvents.click.emit(t)})),c=e.renderer.listen(t,"keydown",(function(t){e.domEvents.keydown.emit(t)})),u=!1,h=e.renderer.listen(i,"focusin",(function(t){e.domEvents.focus.emit(t),u||(e.domEvents.focusIn.emit(t),u=!0)})),f=e.renderer.listen(i,"focusout",(function(t){var n=t.relatedTarget||document.activeElement;!IE(n,(function(e){return e===i}))&&(e.domEvents.focusOut.emit(t),u=!1)}));e.detachElementEventHandlers=function(){r(),a(),o(),s(),l(),c(),h(),f()}}))}}},{key:"matchesMedia",value:function(e){return this.responsiveService.matchesMedia(e.media)}},{key:"resizeCheck",value:function(){var e=this;if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;var t=!1;this.columnList.filterHierarchy((function(i){var n=e.matchesMedia(i);return i.matchesMedia!==n&&(t=!0,i.matchesMedia=n),i.isVisible})),t&&this.ngZone.run((function(){e.changeDetectorRef.markForCheck()}))}}},{key:"emitPDFExportEvent",value:function(){var e=new dE;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}},{key:"syncHeaderHeight",value:function(e){var t=this;return e.pipe(Object(Wt.a)((function(){return sI(t.lockedHeader)}))).subscribe((function(){return sE(t.lockedHeader.nativeElement.children[0],t.header.nativeElement.children[0])}))}},{key:"columnsContainerChange",value:function(){var e=this;this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(Object(Wt.a)((function(){return e.lockedColumns.length>0})),Object(Bt.a)((function(){return e.ngZone.onStable.asObservable().pipe(Object(Nt.a)(1))}))))}},{key:"handleColumnResize",value:function(){var e=this,t=this.columnResizingService.changes;this.columnResizingSubscription=t.pipe(Object(Ut.a)((function(t){"start"===t.type?e.renderer.addClass(e.wrapper.nativeElement,"k-grid-column-resizing"):"end"===t.type&&e.renderer.removeClass(e.wrapper.nativeElement,"k-grid-column-resizing")})),Object(Wt.a)((function(e){return"start"===e.type})),Object(Bt.a)((function(){return t.pipe(Kt(t.pipe(Object(Wt.a)((function(e){return"triggerAutoFit"===e.type})))),Object(Wt.a)((function(e){return"end"===e.type})))}))).subscribe(this.notifyResize.bind(this))}},{key:"notifyResize",value:function(e){var t=e.resizedColumns.filter((function(e){return uI(e.column.resizable)&&!e.column.isColumnGroup})).map((function(e){return{column:e.column,newWidth:e.column.width,oldWidth:e.oldWidth}}));this.columnResize.emit(t)}},{key:"assertNavigable",value:function(){if(Object(y.Y)()&&!this.navigable)throw new Error('The Grid should be configured as [navigable]="true" to control focus')}},{key:"navigationMetadata",value:function(){var e=this.isVirtual,t=e?this.view.total:this.pageSize,i=this.editService.hasNewItem?1:0,n=FE(this.filterable)?1:0;return new mA(t,this.totalColumnLevels+1+n+i,e,this.showPager,sI(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}},{key:"updateNavigationMetadata",value:function(){this.navigationService.metadata=this.navigationMetadata()}},{key:"applyAutoSize",value:function(){var e=this,t=this.columns.filter((function(t){return e.autoSize?!1!==t.autoSize:t.autoSize}));t.length>0&&this.ngZone.onStable.pipe(Object(Nt.a)(1)).subscribe((function(i){return e.autoFitColumns(t)}))}},{key:"onColumnRangeChange",value:function(e){for(var t=this.viewportColumns=[],i=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1),n=0;n<i.length;n++){for(var r=i[n];r.parent;)r=r.parent;for(var a=[r];a.length;)r=a.shift(),t.push(r),r.isColumnGroup&&a.unshift.apply(a,r.childrenArray);var o=t[t.length-1];for(r=i[n];r!==o&&n<i.length;)r=i[++n]}if(e.start>0){for(var s=i[0],l=e.offset,c=t[0],u=0;c!==s;)l-=c.isColumnGroup?0:c.width,c=t[++u];if(l>0)for(var h,f=this.columnsContainer.totalLevels,d=0;d<=f;d++){var p=d<f?new TO(h):new aI(h);h=p,p.title="\xa0",p.width=l,t.unshift(p)}}this.leafViewportColumns=t.filter((function(e){return!e.isColumnGroup}))}},{key:"toggleDetailRowLegacy",value:function(e,t){var i="function"==typeof this.isDetailExpanded;if(Object(y.Y)()&&i)throw new Error("The expandRow and collapseRow methods should not be called when using the kendoGridDetailsExpandBy directive or the isDetailExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Object(y.Y)()&&i||this.detailsService.isExpanded(e,null)!==t&&this.detailsService.toggleRow(e,null)}},{key:"skip",get:function(){return this._skip},set:function(e){e>=0&&(this._skip=e)}},{key:"sort",set:function(e){cI(e)&&(this._sort=e)},get:function(){return this._sort}},{key:"group",set:function(e){cI(e)&&(this._group=e)},get:function(){return this._group}},{key:"showTopToolbar",get:function(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}},{key:"showBottomToolbar",get:function(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"showPager",get:function(){return!this.isVirtual&&!1!==this.pageable}},{key:"showGroupPanel",get:function(){return this.groupable&&!1!==this.groupable.enabled}},{key:"groupableEmptyText",get:function(){return this.groupable.emptyText}},{key:"navigatable",set:function(e){this.navigable=e},get:function(){return this.navigable}},{key:"rowClass",set:function(e){if("function"!=typeof e)throw new Error("rowClass must be a function, but received ".concat(JSON.stringify(e),"."));this._rowClass=e},get:function(){return this._rowClass}},{key:"rowSelected",set:function(e){if("function"!=typeof e)throw new Error("rowSelected must be a function, but received ".concat(JSON.stringify(e),"."));this._rowSelected=e},get:function(){return this._rowSelected}},{key:"activeCell",get:function(){return this.navigationService.activeCell}},{key:"activeRow",get:function(){return this.navigationService.activeRow}},{key:"dir",get:function(){return this.direction}},{key:"hostClasses",get:function(){return!0}},{key:"lockedClasses",get:function(){return this.lockedLeafColumns.length>0}},{key:"virtualClasses",get:function(){return this.isVirtual}},{key:"noScrollbarClass",get:function(){return 0===this.scrollbarWidth}},{key:"detailTemplate",get:function(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0},set:function(e){this._customDetailTemplate=e}},{key:"noRecordsTemplate",get:function(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0},set:function(e){this._customNoRecordsTemplate=e}},{key:"pagerTemplate",get:function(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0},set:function(e){this._customPagerTemplate=e}},{key:"toolbarTemplate",get:function(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0},set:function(e){this._customToolbarTemplate=e}},{key:"scrollbarWidth",get:function(){return this.supportService.scrollbarWidth}},{key:"headerPadding",get:function(){if(dI())return"";var e=Math.max(0,this.scrollbarWidth-1)+"px";return"0 ".concat(this.rtl?0:e," 0 ").concat(this.rtl?e:0)}},{key:"hasGroupFooters",get:function(){return this.columnsContainer.hasGroupFooter}},{key:"showFooter",get:function(){return this.columnsContainer.hasFooter}},{key:"showGroupFooters",get:function(){return this.groupable&&this.groupable.showFooter}},{key:"ariaRowCount",get:function(){return this.totalColumnLevels+1+this.view.total}},{key:"ariaColCount",get:function(){return this.columnsContainer.leafColumnsToRender.length}},{key:"isVirtual",get:function(){return"virtual"===this.scrollable}},{key:"isScrollable",get:function(){return"none"!==this.scrollable}},{key:"visibleColumns",get:function(){return this.columnsContainer.allColumns}},{key:"lockedColumns",get:function(){return this.columnsContainer.lockedColumns}},{key:"nonLockedColumns",get:function(){return this.columnsContainer.nonLockedColumns}},{key:"lockedLeafColumns",get:function(){return this.columnsContainer.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columnsContainer.nonLockedLeafColumns}},{key:"leafColumns",get:function(){return this.columnsContainer.leafColumns}},{key:"totalColumnLevels",get:function(){return this.columnsContainer.totalLevels}},{key:"headerColumns",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}},{key:"headerLeafColumns",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}},{key:"lockedWidth",get:function(){var e=32*this.group.length;return PI(this.lockedLeafColumns.toArray()).reduce((function(e,t){return e+(t.width||0)}),e)}},{key:"nonLockedWidth",get:function(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((function(e,t){return e+(t.width||0)}),0):this.columnsContainer.unlockedWidth}},{key:"selectableSettings",get:function(){if(this.selectionService)return this.selectionService.options}},{key:"columnMenuTemplate",get:function(){var e=this.columnMenuTemplates.first;return e?e.templateRef:null}},{key:"totalCount",get:function(){return this.isVirtual||!sI(this.pageSize)?this.view.total:this.pageSize}},{key:"isDetailExpanded",set:function(e){this.detailsService.userCallback=e},get:function(){return this.detailsService.userCallback}}]),e}()).\u0275fac=function(e){return new(e||SA)(y.Rb(RO),y.Rb(HO),y.Rb(y.m),y.Rb(nE),y.Rb($O),y.Rb(rE),y.Rb(KO),y.Rb(XO),y.Rb(cE),y.Rb(fE),y.Rb(gE),y.Rb(y.F),y.Rb(mE),y.Rb(y.A),y.Rb(bE),y.Rb(BO),y.Rb(PE),y.Rb(y.h),y.Rb(YE),y.Rb(kA),y.Rb(gA),y.Rb(CA),y.Rb(sA),y.Rb(cr))},SA.\u0275cmp=y.Lb({type:SA,selectors:[["kendo-grid"]],contentQueries:function(e,t,i){var n;1&e&&(y.Kb(i,aI,!1),y.Kb(i,IO,!1),y.Kb(i,aE,!1),y.Kb(i,uE,!1),y.Kb(i,yE,!1),y.Kb(i,iI,!1)),2&e&&(y.zc(n=y.hc())&&(t.columns=n),y.zc(n=y.hc())&&(t.detailTemplateChildren=n),y.zc(n=y.hc())&&(t.noRecordsTemplateChildren=n),y.zc(n=y.hc())&&(t.pagerTemplateChildren=n),y.zc(n=y.hc())&&(t.toolbarTemplateChildren=n),y.zc(n=y.hc())&&(t.columnMenuTemplates=n))},viewQuery:function(e,t){var i;1&e&&(y.Qc(t_,!0),y.Qc(i_,!0),y.Qc(n_,!0),y.Qc(r_,!0)),2&e&&(y.zc(i=y.hc())&&(t.lockedHeader=i.first),y.zc(i=y.hc())&&(t.header=i.first),y.zc(i=y.hc())&&(t.ariaRoot=i.first),y.zc(i=y.hc())&&(t.footer=i))},hostVars:11,hostBindings:function(e,t){2&e&&(y.Fb("dir",t.dir),y.Jb("k-widget",t.hostClasses)("k-grid",t.hostClasses)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{data:"data",scrollable:"scrollable",selectable:"selectable",trackBy:"trackBy",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",navigable:"navigable",autoSize:"autoSize",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",skip:"skip",sort:"sort",group:"group",navigatable:"navigatable",rowClass:"rowClass",rowSelected:"rowSelected",isDetailExpanded:"isDetailExpanded",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",filter:"filter"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[y.Db([RO,cr,kA,HO,KO,$O,nE,rE,XO,fE,pE,{provide:lE,useValue:OA},{provide:lr,useValue:"kendo.grid"},cE,gE,hE,mE,bE,kE,NO,BO,PE,jE,WE,XE,JE,YE,gA,ZE,bA,sA,CA]),y.Cb],decls:10,vars:8,consts:[["kendoGridLocalizedMessages","",6,"groupPanelEmpty","noRecords","pagerFirstPage","pagerPreviousPage","pagerNextPage","pagerLastPage","pagerPage","pagerOf","pagerItems","pagerItemsPerPage","filter","filterEqOperator","filterNotEqOperator","filterIsNullOperator","filterIsNotNullOperator","filterIsEmptyOperator","filterIsNotEmptyOperator","filterStartsWithOperator","filterContainsOperator","filterNotContainsOperator","filterEndsWithOperator","filterGteOperator","filterGtOperator","filterLteOperator","filterLtOperator","filterIsTrue","filterIsFalse","filterBooleanAll","filterAfterOrEqualOperator","filterAfterOperator","filterBeforeOperator","filterBeforeOrEqualOperator","filterFilterButton","filterClearButton","filterAndLogic","filterOrLogic","loading","columnMenu","columns","lock","unlock","sortable","sortAscending","sortDescending","sortedAscending","sortedDescending","sortedDefault","columnsApply","columnsReset","detailExpand","detailCollapse"],["position","top",4,"ngIf"],[3,"text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root"],["ariaRoot",""],[3,"ngIf"],[3,"template","pageSize","total","skip","options","pageChange",4,"ngIf"],["position","bottom",4,"ngIf"],["position","top"],[3,"text","groups","change"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],[3,"data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","rowClass","loading","isVirtual","virtualColumns","pageChange","scrollBottom","contentScroll"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["header",""],["role","presentation",3,"virtualColumns"],["kendoGridColGroup","","role","presentation",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","presentation",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","detailTemplate"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["lockedHeader",""],["role","presentation",3,"locked"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","detailTemplate"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["footer",""],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridFooter","",3,"scrollable","groups","columns","lockedColumnsCount","detailTemplate"],[1,"k-grid-footer-locked"],[3,"locked"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate",4,"ngIf"],["kendoGridTableBody","",3,"groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate"],["kendoGridLoading",""],[3,"template","pageSize","total","skip","options","pageChange"],["position","bottom"]],template:function(e,t){1&e&&(y.Vb(0,0),y.bc(1,a_),y.Ub(),y.Jc(2,o_,1,0,"kendo-grid-toolbar",1),y.Jc(3,s_,1,2,"kendo-grid-group-panel",2),y.Xb(4,"div",3,4),y.Jc(6,p_,3,20,"ng-template",5),y.Jc(7,y_,6,19,"ng-template",5),y.Wb(),y.Jc(8,b_,1,5,"kendo-pager",6),y.Jc(9,k_,1,0,"kendo-grid-toolbar",7)),2&e&&(y.Eb(2),y.oc("ngIf",t.showTopToolbar),y.Eb(1),y.oc("ngIf",t.showGroupPanel),y.Eb(1),y.Fb("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount),y.Eb(2),y.oc("ngIf",t.isScrollable),y.Eb(1),y.oc("ngIf",!t.isScrollable),y.Eb(1),y.oc("ngIf",t.showPager),y.Eb(1),y.oc("ngIf",t.showBottomToolbar))},directives:function(){return[qD,b.j,IP,fz,HD,OM,HM,TM,Az,xP,vP,IM,ZM]},styles:["   .k-grid .k-grid-aria-root {\n            display: flex;\n            flex-direction: column;\n            flex: 1 1 auto;\n            overflow: hidden;\n        }\n\n        .k-grid .k-filter-row td {\n            white-space: nowrap;\n        }"],encapsulation:2}),SA),AA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.total=t,this.rowHeight=i,this.detailRowHeight=n,this.offsets=[],this.heights=[];for(var r=0,a=0;a<t;a++)this.offsets.push(r),r+=i,this.heights.push(i)}return _createClass(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"isExpanded",value:function(e){return this.height(e)>this.rowHeight}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,i,n){return void 0!==t?t:i===e?n:i>e?n-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.total>0&&(this.heights[e]+=t,this.offsets=function(e,t,i){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+i}))))}(this.offsets,e,t))}}]),e}(),RA=function e(t){_classCallCheck(this,e),this.offset=t},DA=function e(t,i){_classCallCheck(this,e),this.skip=t,this.take=i},MA=function e(){_classCallCheck(this,e)},zA=function(){function e(t){_classCallCheck(this,e),this.scrollObservable=t,this.firstLoaded=0}return _createClass(e,[{key:"create",value:function(e,t,i,n){var r=this;this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=n,this.lastScrollTop=0;var a=new zt.a(new RA(this.rowHeightService.offset(t)));return this.subscription=k.a.create((function(e){r.unsubscribe(),r.scrollSubscription=r.scrollObservable.subscribe((function(t){return r.onScroll(t,e)}))})).subscribe((function(e){return a.next(e)})),a}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var i=e.scrollTop,n=e.offsetHeight,r=e.scrollHeight,a=e.clientHeight;if(this.lastScrollTop!==i){var o=this.lastScrollTop>=i;this.lastScrollTop=i;var s=this.rowHeightService.index(i),l=this.rowHeightService.offset(s),c=this.rowHeightService.index(i+n);if(!o)if(c>=this.lastLoaded&&this.lastLoaded<this.total){var u=s+this.take-this.total;u>0&&(s-=u,l=this.rowHeightService.offset(s)),this.firstLoaded=s,t.next(new RA(l));var h=this.firstLoaded+this.take;this.lastLoaded=Math.min(h,this.total),h=h>this.total?this.total-this.firstLoaded:this.take,t.next(new DA(this.firstLoaded,this.take))}else r-a-i<1&&t.next(new MA);if(o&&s<this.firstLoaded){var f=Math.floor(.3*this.take);this.firstLoaded=Math.max(s-f,0),t.next(new RA(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new DA(this.firstLoaded,this.take))}}}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}]),e}(),PA=function(e,t,i){for(var n=0,r=0;n<t.length;n++){var a=i(t[n]);if(r<=e&&e<=r+a-1)return t[n];r+=a}},FA=function(e,t){return PA(e,t,(function(e){return e.hasAttribute("data-kendo-grid-item-index")?1:0}))},LA={},jA=new y.r("grid-scroll-service-factory");function VA(e){return new zA(e)}var BA,NA,HA,GA,WA,UA,qA,XA,JA,YA,KA,ZA,$A,QA,eR,tR,iR,nR,rR,aR,oR,sR,lR,cR,uR,hR,fR,dR,pR,vR,gR,mR,yR,bR,kR,CR,wR,_R,xR,SR,TR,IR,OR,ER,AR,RR,DR,MR,zR,PR,FR,LR,jR,VR,BR,NR,HR,GR,WR,UR,qR,XR,JR,YR,KR,ZR,$R,QR,eD,tD,iD,nD,rD,aD,oD,sD,lD,cD,uD,hD,fD,dD,pD,vD,gD,mD,yD,bD,kD,CD,wD,_D,xD,SD,TD,ID,OD,ED,AD,RD,DD,MD,zD,PD,FD,LD,jD,VD,BD=function(e){var t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},ND=function(e){return e?e.nativeElement:null},HD=function(){var e=function(){function e(t,i,n,r,a,o,s,l,c,u,h,f,d,p,v,g,m,b){var k=this;_classCallCheck(this,e),this.changeNotification=n,this.suspendService=r,this.groupsService=a,this.ngZone=o,this.renderer=s,this.scrollSyncService=l,this.resizeService=c,this.editService=u,this.supportService=h,this.navigationService=f,this.localization=p,this.columnResizingService=v,this.changeDetector=g,this.pdfService=m,this.columnInfo=b,this.groups=[],this.skip=0,this.columns=new QO((function(){return[]})),this.selectable=!1,this.groupable=!1,this.trackBy=xA,this.contentScroll=new y.o,this.pageChange=new y.o,this.scrollBottom=new y.o,this.columnsStartIdx=0,this.resizeSensors=new y.E,this.dispatcher=new yt.a,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=t(this.dispatcher),this.subscriptions=i.changes.subscribe((function(e){return k.detailExpand(e)})).add(d.requests.subscribe((function(e){return k.scrollTo(e)})))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(Object(pt.a)(this.columns.changes,this.resizeService.changes).subscribe((function(){e.virtualColumns&&e.ngZone.run((function(){e.updateViewportColumns(),e.changeDetector.markForCheck()}))}))),this.subscriptions.add(this.localization.changes.subscribe((function(t){var i=t.rtl;return e.rtl=i})))}},{key:"ngOnChanges",value:function(e){Ti("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),Ii(["total","take"],e)&&this.init(),this.rebind=!1}},{key:"ngDoCheck",value:function(){!this.virtualColumns||this.viewportColumns&&!this.viewportWidthChange()||this.updateViewportColumns()}},{key:"ngAfterViewInit",value:function(){this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService()}},{key:"ngAfterViewChecked",value:function(){var e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}},{key:"syncRowsHeight",value:function(){this.lockedContainer&&sE(this.lockedTable.nativeElement,this.table.nativeElement)}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}},{key:"init",value:function(){this.suspendService.scroll||(this.rowHeightService=new AA(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),dI()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}},{key:"lockedScroll",value:function(){if(!this.suspendService.scroll){var e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}},{key:"lockedMousewheel",value:function(e){if(!e.ctrlKey){!function(e,t){var i=BD(e),n=t.scrollTop;0===n&&0<i||t.scrollHeight<=t.offsetHeight+n&&i<0||event.preventDefault()}(e,this.container.nativeElement);var t=BD(e);this.container.nativeElement.scrollTop-=t}}},{key:"lockedKeydown",value:function(e){if(e.keyCode===Wi.PageDown||e.keyCode===Wi.PageUp){var t=this.container.nativeElement;t.scrollTop+=t.offsetHeight*(e.keyCode===Wi.PageDown?1:-1)*.8,e.preventDefault()}}},{key:"detailExpand",value:function(e){var t=e.index;e.expand?this.rowHeightService.expandDetail(t):this.rowHeightService.collapseDetail(t),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}},{key:"attachContainerScroll",value:function(){var e=this;dI()||(this.ngZone.runOutsideAngular((function(){e.subscriptions.add(mt(e.container.nativeElement,"scroll").pipe(Object(w.a)((function(e){return e.target})),Object(Wt.a)((function(){return!e.suspendService.scroll})),Object(Ut.a)((function(t){e.onContainerScroll(t),e.resetNavigationViewport(),e.virtualColumns&&e.handleColumnScroll();var i=e.navigationService.viewport||LA,n=e.navigationService.columnViewport||LA;e.contentScroll.emit({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,startRow:i.firstItemIndex,endRow:i.lastItemIndex,startColumn:n.firstItemIndex,endColumn:n.lastItemIndex})}))).subscribe(e.dispatcher))})),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}},{key:"createScroller",value:function(){var e=this;this.cleanupScroller();var t=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=t.pipe(Object(Wt.a)((function(e){return e instanceof DA})),Object(Wt.a)((function(){var t=e.skipScroll;return e.skipScroll=!1,!t})),Object(Ut.a)((function(){return e.rebind=!0}))).subscribe((function(t){return e.ngZone.run((function(){return e.pageChange.emit(t)}))})),this.scrollerSubscription.add(t.pipe(Object(Wt.a)((function(e){return e instanceof RA}))).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(t.pipe(Object(Wt.a)((function(e){return e instanceof MA}))).subscribe((function(){return e.scrollBottom.emit()})))}},{key:"scroll",value:function(e){var t,i,n=e.offset,r=void 0===n?0:n;this.isVirtual&&[ND(this.table),ND(this.lockedTable)].filter(sI).forEach((t=this.renderer,i=r,function(e){return t.setStyle(e,"transform","translateY(".concat(i,"px)"))})),this.resetNavigationViewport()}},{key:"onContainerScroll",value:function(e){var t=e.scrollTop;this.containerScrollTop=t,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=t)}},{key:"handleRowSync",value:function(){var e=this,t=function(){return sI(e.lockedContainer)};return Object(pt.a)(this.changeNotification.changes,this.groupsService.changes.pipe(Object(Wt.a)(t),Qt(e.ngZone.onStable.asObservable().pipe(Object(Nt.a)(1)))),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(Object(Wt.a)((function(e){return"end"===e.type}))),this.supportService.changes).pipe(Object(Ut.a)((function(){return e.resetNavigationViewport()})),Object(Wt.a)(t)).subscribe((function(){var t=e.container.nativeElement.scrollTop,i=e.container.nativeElement.scrollLeft;e.syncRowsHeight(),e.syncContainerHeight(),e.lockedContainer.nativeElement.scrollTop=e.container.nativeElement.scrollTop=t,e.container.nativeElement.scrollLeft=i,e.resizeSensors.forEach((function(e){return e.acceptSize()}))}))}},{key:"handleRowNavigationLocked",value:function(){var e=this;return this.navigationService.changes.pipe(Object(Wt.a)((function(){return sI(e.lockedContainer)})),ti(10)).subscribe((function(t){if(e.lockedLeafColumns.length<=t.prevColIndex&&t.colIndex<e.lockedLeafColumns.length){var i=e.navigationService.activeCell;i&&i.colIndex+i.colSpan<t.prevColIndex&&(e.container.nativeElement.scrollLeft=0)}}))}},{key:"scrollToVirtualRow",value:function(e){sI(this.detailTemplate)&&(e=Math.floor(e/2));var t=this.rowHeightService.offset(e);this.container.nativeElement.scrollTop=t,this.resetNavigationViewport()}},{key:"scrollTo",value:function(e){var t=e.row,i=e.column;if(vI(t))if(this.isVirtual)this.scrollToVirtualRow(t);else{var n=FA(t,this.table.nativeElement.rows);n&&(this.container.nativeElement.scrollTop=n.offsetTop)}if(vI(i))if(i-=this.lockedLeafColumns.length,this.virtualColumns){for(var r=this.columns.leafColumnsToRender,a=0,o=0;o<i;o++)a+=r[o].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(a+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&i>0?32:0)))}else if(0===i&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{var s=FA(0,this.table.nativeElement.rows);if(s){var l=PA(i,s.cells,(function(e){return xE(e,"k-hierarchy-cell k-detail-cell k-group-cell")?0:parseInt(e.getAttribute("colSpan"),10)||1}));l&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(l))}}}},{key:"resetNavigationViewport",value:function(){if(this.container&&this.navigationService.enabled&&this.navigationService.needsViewport()&&0!==this.data.length){var e=this.container.nativeElement,t=e.scrollTop,i=t+e.offsetHeight,n=this.rowHeightService.index(t),r=this.rowHeightService.index(i),a=this.rowHeightService.offset(r);r>0&&a+this.rowHeight>i&&r--;var o=n,s=r;if(sI(this.detailTemplate)){o*=2,s*=2,this.rowHeightService.offset(n)+this.rowHeight<t&&o++;var l=a+this.rowHeightService.height(r)>i;this.rowHeightService.isExpanded(r)&&!l&&s++}this.navigationService.setViewport(o,s)}}},{key:"cleanupScroller",value:function(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}},{key:"initResizeService",value:function(){this.resizeService.connect(Object(pt.a).apply(void 0,_toConsumableArray(this.resizeSensors.map((function(e){return e.resize})))))}},{key:"syncContainerHeight",value:function(){var e,t=this;[ND(this.lockedContainer)].filter(sI).map((function(e){e.style.height="";var i=t.container.nativeElement.offsetHeight;return t.table.nativeElement.offsetWidth>t.container.nativeElement.clientWidth&&(i-=t.supportService.scrollbarWidth),{el:e,height:i}})).forEach((e=this.renderer,function(t){var i=t.el,n=t.height;return e.setStyle(i,"height","".concat(n,"px"))}))}},{key:"updateViewportColumns",value:function(e){var t=this.columns.nonLockedLeafColumns.toArray(),i=e||this.calculateViewportColumns(),n=i.startIdx,r=i.endIdx,a=i.offset,o=Math.max(0,n-1),s=Math.min(r+1,t.length-1);if(o<n)for(var l=n-1;l>=o;l--)a-=t[l].width;var c=t.slice(o,s+1);if(this.viewportColumnsWidth=c.reduce((function(e,t){return e+t.width}),0),o>0){var u=new aI;u.width=a,c.unshift(u)}this.viewportColumns=new y.E,this.viewportColumns.reset(c),this.columnsStartIdx=o,this.columnsEndIdx=s,this.columnInfo.columnRangeChange.emit({start:o,end:s,offset:a}),e||this.updateColumnViewport(n,r)}},{key:"handleColumnScroll",value:function(){var e=this,t=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==t){this.scrollLeft=t;var i=this.calculateViewportColumns();this.updateColumnViewport(i.startIdx,i.endIdx),(i.startIdx<this.columnsStartIdx||this.columnsEndIdx<i.endIdx)&&(TI(this.columnUpdateFrame),this.columnUpdateFrame=SI((function(){e.ngZone.run((function(){e.updateViewportColumns(i),e.changeDetector.markForCheck()}))})))}}},{key:"updateColumnViewport",value:function(e,t){for(var i=this.lockedLeafColumns.length,n=this.nonLockedLeafColumns.toArray(),r=i+e+(this.detailTemplate&&e>0?1:0),a=i+t+(this.detailTemplate?1:0),o=0;o<n.length;o++){var s=n[o];s.isSpanColumn&&(a+=s.childColumns.length)}this.navigationService.setColumnViewport(r,a)}},{key:"calculateViewportColumns",value:function(){var e,t,i=this.container.nativeElement,n=i.scrollLeft,r=i.clientWidth,a=this.columns.nonLockedLeafColumns.toArray(),o=this.normalizeScrollLeft(n),s=o+r,l=0,c=0,u=0;for(t=0;t<a.length;t++){var h=a[t];if(c+=h.width||0,void 0===e&&c>o&&(e=t,u=c-(h.width||0)),c>=s){l=t;break}}return!l&&t>0&&(l=a.length-1),{startIdx:e,endIdx:l,offset:u}}},{key:"viewportWidthChange",value:function(){return this.viewportColumns.toArray().reduce((function(e,t){return e+t.width}),0)!==this.viewportColumnsWidth}},{key:"normalizeScrollLeft",value:function(e){return this.rtl?function(e,t,i){var n=e;return i<0?n=-e:i>0&&(n=t.scrollWidth-t.offsetWidth-e),n}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}},{key:"elementScrollLeft",value:function(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}},{key:"hostClass",get:function(){return!0}},{key:"hostRole",get:function(){return"presentation"}},{key:"showFooter",get:function(){return this.groupable&&this.groupable.showFooter}},{key:"totalWidth",get:function(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}},{key:"lockedLeafColumns",get:function(){return this.columns.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columns.nonLockedLeafColumns}},{key:"nonLockedColumnsToRender",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}},{key:"leafColumns",get:function(){return this.columns.leafColumnsToRender}},{key:"lockedWidth",get:function(){var e=32*this.groups.length;return PI(this.lockedLeafColumns.toArray()).reduce((function(e,t){return e+(t.width||0)}),e)}},{key:"nonLockedWidth",get:function(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return VI(PI(this.nonLockedColumnsToRender.toArray()))}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Rb(jA),y.Rb(KO),y.Rb(rE),y.Rb(pE),y.Rb($O),y.Rb(y.A),y.Rb(y.F),y.Rb(bE),y.Rb(kE),y.Rb(XO),y.Rb(RO),y.Rb(gA),y.Rb(sA),y.Rb(cr),y.Rb(PE),y.Rb(y.h),y.Rb(fE),y.Rb(kA))},e.\u0275cmp=y.Lb({type:e,selectors:[["kendo-grid-list"]],viewQuery:function(e,t){var i;1&e&&(y.Hc(C_,!0),y.Qc(w_,!0),y.Qc(__,!0),y.Qc(x_,!0),y.Qc(Ni,!0)),2&e&&(y.zc(i=y.hc())&&(t.container=i.first),y.zc(i=y.hc())&&(t.lockedContainer=i.first),y.zc(i=y.hc())&&(t.lockedTable=i.first),y.zc(i=y.hc())&&(t.table=i.first),y.zc(i=y.hc())&&(t.resizeSensors=i))},hostVars:3,hostBindings:function(e,t){2&e&&(y.Fb("role",t.hostRole),y.Jb("k-grid-container",t.hostClass))},inputs:{groups:"groups",skip:"skip",columns:"columns",selectable:"selectable",groupable:"groupable",trackBy:"trackBy",data:"data",total:"total",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",take:"take",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",filterable:"filterable",rowClass:"rowClass",loading:"loading",virtualColumns:"virtualColumns",isVirtual:"isVirtual"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[y.Db([{provide:jA,useValue:VA}]),y.Cb],decls:14,vars:32,consts:[["class","k-grid-content-locked","role","presentation",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["container",""],["role","presentation",1,"k-grid-table-wrap"],["role","presentation",1,"k-grid-table",3,"virtualColumns"],["table",""],["kendoGridColGroup","","role","presentation",3,"groups","columns","detailTemplate"],["kendoGridTableBody","","role","presentation",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","skip","selectable","trackBy","filterable","rowClass","virtualColumns"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["role","presentation",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["lockedContainer",""],["role","presentation",1,"k-grid-table",3,"locked"],["lockedTable",""],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass"],["role","presentation",1,"k-width-container"],["kendoGridLoading",""]],template:function(e,t){1&e&&(y.Jc(0,T_,10,30,"div",0),y.Xb(1,"div",1,2),y.Xb(3,"div",3),y.Xb(4,"table",4,5),y.Sb(6,"colgroup",6),y.Sb(7,"tbody",7),y.Wb(),y.Jc(8,I_,1,0,"kendo-resize-sensor",8),y.Wb(),y.Jc(9,O_,1,0,"kendo-resize-sensor",8),y.Xb(10,"div",9),y.Sb(11,"div"),y.Wb(),y.Jc(12,E_,2,2,"div",10),y.Wb(),y.Jc(13,A_,1,0,"div",11)),2&e&&(y.oc("ngIf",t.isLocked),y.Eb(1),y.oc("kendoGridResizableContainer",t.lockedLeafColumns.length)("lockedWidth",t.lockedWidth+1),y.Eb(3),y.Ic("width",t.nonLockedWidth,"px"),y.oc("virtualColumns",t.virtualColumns),y.Eb(2),y.oc("groups",t.isLocked?y.qc(31,u_):t.groups)("columns",t.nonLockedColumnsToRender)("detailTemplate",t.detailTemplate),y.Eb(1),y.oc("skipGroupDecoration",t.isLocked)("data",t.data)("groups",t.groups)("showGroupFooters",t.showFooter)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("virtualColumns",t.virtualColumns),y.Eb(1),y.oc("ngIf",t.isLocked),y.Eb(1),y.oc("ngIf",t.isLocked||t.virtualColumns),y.Eb(2),y.Ic("height",t.totalHeight,"px"),y.Eb(1),y.oc("ngIf",t.virtualColumns),y.Eb(1),y.oc("ngIf",t.loading))},directives:function(){return[b.j,OM,HM,TM,vP,Di,Ni,IM]},encapsulation:2}),e}(),GD=(BA=function(){function e(t,i,n){_classCallCheck(this,e),this.grid=t,this.changeDetector=i,this.localDataChangesService=n,this.state={skip:0},this.originalData=[],n&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(this.rebind.bind(this)))}return _createClass(e,[{key:"ngOnInit",value:function(){this.applyState(this.state),this.stateChangeSubscription=this.grid.dataStateChange.subscribe(this.onStateChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.dataChangedSubscription&&this.dataChangedSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){Ii(["pageSize","skip","sort","group","filter"],e)&&this.rebind()}},{key:"ngDoCheck",value:function(){this.dataChanged&&this.updateGridData()}},{key:"onStateChange",value:function(e){this.applyState(e),this.rebind()}},{key:"rebind",value:function(){this.data=this.originalData,this.updateGridData(),this.notifyDataChange()}},{key:"notifyDataChange",value:function(){this.grid.onDataChange(),this.changeDetector&&this.changeDetector.markForCheck()}},{key:"process",value:function(e){return function(e,t){var i=t.skip,n=t.take,r=t.filter,a=t.sort,o=t.group,s=[].concat(_toConsumableArray(Qn(o||[])),_toConsumableArray(a||[]));s.length&&(e=ir(e,s));var l,c=Ui(r)&&Un.length,u=Ui(o)&&o.length;if(!c&&!u)return{data:n?e.slice(i,i+n):e,total:e.length};var h,f,d=[];if(c?(l=function(e,t){for(var i=0,n=0,r=e.length;n<r;n++)t(e[n])&&i++;return i}(e,h=$n(tn(r))),d.push(Un(h))):l=e.length,Ui(i)&&Ui(n)&&(d.push((f=i,function(e){return function(t,i){return f--<=0?e(t,i):t}})),d.push(function(e){return function(t){return function(i,n){return e-- >0?t(i,n):qn(r=i)?r:{__value:r,reduced:!0};var r}}}(n))),d.length){var p=en.apply(void 0,d);return{data:u?tr(e,o,p,function(e,t){return t?e.filter(t):e}(e,h)):Xn(p(Gn),[],e),total:l}}return{data:u?tr(e,o):e,total:l}}(this.originalData,e)}},{key:"applyState",value:function(e){var t=e.skip,i=e.take,n=e.sort,r=e.group,a=e.filter;this.skip=t,this.pageSize=i,this.sort=n,this.group=r,this.filter=a}},{key:"updateGridData",value:function(){this.grid.data=this.process(this.state),this.dataChanged=!1}},{key:"skip",set:function(e){sI(e)||(e=0),this.grid.skip=this.state.skip=e}},{key:"sort",set:function(e){this.grid.sort=this.state.sort=e}},{key:"filter",set:function(e){this.grid.filter=this.state.filter=e}},{key:"pageSize",set:function(e){this.grid.pageSize=this.state.take=e}},{key:"group",set:function(e){this.grid.group=this.state.group=e}},{key:"data",set:function(e){this.originalData=e||[],this.localDataChangesService&&(this.localDataChangesService.data=e),this.dataChanged=!0}}]),e}(),BA.\u0275fac=function(e){return new(e||BA)(y.Rb(EA),y.Rb(y.h),y.Rb(NO))},BA.\u0275dir=y.Mb({type:BA,selectors:[["","kendoGridBinding",""]],inputs:{skip:"skip",sort:"sort",filter:"filter",pageSize:"pageSize",group:"group",data:["kendoGridBinding","data"]},features:[y.Cb]}),BA),WD=function(){var e=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(or);return e.\u0275fac=function(t){return UD(t||e)},e.\u0275dir=y.Mb({type:e,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",filter:"filter",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",columnMenu:"columnMenu",columns:"columns",lock:"lock",unlock:"unlock",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse"},features:[y.Bb]}),e}(),UD=y.Zb(WD),qD=function(){var e=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).service=e,n}return i}(WD);return e.\u0275fac=function(t){return new(t||e)(y.Rb(cr))},e.\u0275dir=y.Mb({type:e,selectors:[["","kendoGridLocalizedMessages",""]],features:[y.Db([{provide:WD,useExisting:Object(y.W)((function(){return e}))}]),y.Bb]}),e}(),XD=(NA=function e(t){_classCallCheck(this,e),this.localization=t,this.columns=[],this.groups=[],this.filterRowClass=!0,this.filterLabel=this.localization.get("filter")},NA.\u0275fac=function(e){return new(e||NA)(y.Rb(cr))},NA.\u0275cmp=y.Lb({type:NA,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",groups:"groups",filter:"filter",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:R_,decls:3,vars:3,consts:[["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&(y.Jc(0,D_,1,2,"td",0),y.Jc(1,M_,1,2,"td",1),y.Jc(2,z_,1,5,"td",2)),2&e&&(y.oc("ngForOf",t.groups),y.Eb(1),y.oc("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),y.Eb(1),y.oc("ngForOf",t.columns))},directives:function(){return[b.i,b.j,YD,DM]},encapsulation:2}),NA),JD=function e(t){if(t)return $i(t)?{filters:e(t.filters),logic:t.logic}:Array.isArray(t)?t.map(e):function(e){return function(e){var t={};if(Object.assign(t,e),e.constructor!==Object){var i=e.constructor.prototype;Object.getOwnPropertyNames(i).forEach((function(n){"constructor"!==n&&i.hasOwnProperty(n)&&(t[n]=e[n])}))}return t}(e)}(t)},YD=(HA=function(){function e(){_classCallCheck(this,e),this._templateContext={}}return _createClass(e,[{key:"filter",get:function(){return this._filter},set:function(e){this._filter=JD(e)}},{key:"templateContext",get:function(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}},{key:"hasTemplate",get:function(){return sI(this.column.filterCellTemplateRef)}},{key:"isFilterable",get:function(){return sI(this.column)&&!hI(this.column.field)&&this.column.filterable}}]),e}(),HA.\u0275fac=function(e){return new(e||HA)},HA.\u0275cmp=y.Lb({type:HA,selectors:[["","kendoGridFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:P_,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&y.Jc(0,B_,3,3,"ng-template",0),2&e&&y.oc("ngIf",t.isFilterable)},directives:function(){return[b.j,b.l,b.m,JM,b.o]},encapsulation:2}),HA),KD=(GA={filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"},function(e){return Object.keys(GA).reduce((function(t,i){return t[GA[i]]=e.get(i),t}),{})}),ZD=function(e){return e.map((function(e){return e.toJSON()}))},$D=(WA=function(){function e(t,i){_classCallCheck(this,e),this.operator=t,this.localization=i,this.messages=KD(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}return _createClass(e,[{key:"toJSON",value:function(){return{text:this.text,value:this.operator}}},{key:"refreshText",value:function(){var e=this._text===this.messages[this.operator];this.messages=KD(this.localization),e&&(this._text=this.messages[this.operator])}},{key:"text",get:function(){return this._text},set:function(e){this._text=hI(e)?this.messages[this.operator]:e}}]),e}(),WA.\u0275fac=function(e){y.fc()},WA.\u0275dir=y.Mb({type:WA,inputs:{text:"text"}}),WA),QD=function(e,t,i,n){return sI(t)&&sI(t.filters)&&t.filters.length>e?t.filters[e]:function(e,t,i){return(t=t||{filters:[],logic:"and"}).filters[e]=i,i}(e,t,{field:i,operator:n})},eM=function(e){return[{text:e.get("filterAndLogic"),value:"and"},{text:e.get("filterOrLogic"),value:"or"}]},tM=function e(t){return sI(t.filters)?t.filters.reduce((function(t,i){return t.concat($i(i)?e(i):[i])}),[]):[]},iM=function(e,t){return tM(e||{}).filter((function(e){return e.field===t}))},nM=function(e,t){return function e(t,i){sI(t)&&sI(t.filters)&&(t.filters=t.filters.filter((function(t){return $i(t)?(e(t,i),t.filters.length):t.field!==i})))}(e,t),e},rM=function(e){return function(t){return Object.keys(e).map((function(i){return{text:t.get(i),value:e[i]}}))}},aM=(UA=function(){function e(t){_classCallCheck(this,e),this.filterService=t,this.operatorList=new y.E}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.operationListSubscription=fI(this.operatorList).pipe(Object(w.a)((function(e){return e.toArray()})),Object(w.a)(ZD)).subscribe((function(t){e.operators=t}))}},{key:"ngOnDestroy",value:function(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}},{key:"filterByField",value:function(e){return function(e,t){return _slicedToArray(iM(e,t),1)[0]}(this.filter,e)}},{key:"filtersByField",value:function(e){return iM(this.filter,e)}},{key:"removeFilter",value:function(e){return nM(this.filter,e)}},{key:"updateFilter",value:function(e){var t=this.filter||{filters:[],logic:"and"},i=_slicedToArray(tM(t).filter((function(t){return t.field===e.field})),1)[0];return sI(i)?Object.assign(i,e):t.filters.push(e),t}},{key:"applyFilter",value:function(e){this.filterService.filter(e)}},{key:"hostClasses",get:function(){return!0}},{key:"operators",get:function(){return this._operators.length?this._operators:this.defaultOperators},set:function(e){this._operators=e}}]),e}(),UA.\u0275fac=function(e){y.fc()},UA.\u0275dir=y.Mb({type:UA,contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,$D,!1),2&e&&y.zc(n=y.hc())&&(t.operatorList=n)},hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-filtercell",t.hostClasses)}}),UA),oM=rM({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"}),sM=(XA=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).localization=n,r.operator="eq",r.step=1,r.spinners=!0,r.defaultOperators=oM(r.localization),r}return _createClass(i,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(i.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=oM(this.localization),this.operatorList.length&&(this.operators=ZD(this.operatorList.toArray()))}},{key:"format",set:function(e){this._format=e},get:function(){return hI(this._format)?this.columnFormat:this._format}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}},{key:"columnFormat",get:function(){return this.column&&!hI(this.column.format)?gI(this.column.format):"n2"}}]),i}(aM),XA.\u0275fac=function(e){y.fc()},XA.\u0275dir=y.Mb({type:XA,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[y.Bb]}),XA),lM=(qA=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).localization=n,r.filterDelay=500,r.showOperators=!0,r}return i}(sM),qA.\u0275fac=function(e){return new(e||qA)(y.Rb(cE),y.Rb(cr))},qA.\u0275cmp=y.Lb({type:qA,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[y.Bb],decls:2,vars:14,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-filter-wrapper-cell",0),y.Sb(1,"kendo-numerictextbox",1),y.Wb()),2&e&&(y.oc("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),y.Eb(1),y.oc("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step))},directives:function(){return[pM,Ym,iA,cM]},encapsulation:2}),qA),cM=function(){var e=function(){function e(t,i,n,r){var a=this;_classCallCheck(this,e),this.change=new y.o,this.composing=!1,this.filterDelay=500,this.changeRequests=new yt.a,this.accessor=t[0],i.runOutsideAngular((function(){var e=r.listen(n.nativeElement,"compositionstart",(function(){return a.composing=!0})),t=r.listen(n.nativeElement,"compositionend",(function(){return a.composing=!1}));a.unsubscribeEvents=function(){e(),t()}}))}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.accessor.registerOnChange((function(t){return e.filterDelay>0?e.changeRequests.next(t):e.change.emit(t)})),this.subscribeChanges()}},{key:"ngOnChanges",value:function(e){Ti("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}},{key:"ngOnDestroy",value:function(){this.unsubscribeChanges(),this.unsubscribeEvents()}},{key:"subscribeChanges",value:function(){var e=this;this.changeRequestsSubscription=this.changeRequests.pipe(Object(ai.a)(this.filterDelay),Object(Wt.a)((function(){return!e.composing}))).subscribe((function(t){return e.change.emit(t)}))}},{key:"unsubscribeChanges",value:function(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}},{key:"value",set:function(e){this.accessor.writeValue(e)}},{key:"disabled",set:function(e){this.accessor.setDisabledState(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Rb(A,2),y.Rb(y.A),y.Rb(y.m),y.Rb(y.F))},e.\u0275dir=y.Mb({type:e,selectors:[["","kendoFilterInput",""]],inputs:{filterDelay:"filterDelay",value:"value"},features:[y.Cb]}),e}(),uM=new Set(["isnull","isnotnull","isempty","isnotempty"]),hM=function(e){return uM.has(e)},fM=(JA=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).operators=[],n}return _createClass(i,[{key:"ngAfterContentInit",value:function(){sI(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=hM(this.currentOperator))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(i.prototype),"ngOnDestroy",this).call(this),this.changeSubscription&&this.changeSubscription.unsubscribe()}},{key:"onChange",value:function(e){hI(e)&&!this.filterByField(this.column.field)||this.filterChange(hI(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}},{key:"onClear",value:function(){this.onChange(null),this.filterInputDisabled=hM(this.defaultOperator)}},{key:"applyNoValueFilter",value:function(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}},{key:"ngOnChanges",value:function(e){Ti("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=hM(this.currentOperator))}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){var e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator},set:function(e){this._operator=e;var t=hM(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!lI(e)&&sI(this.currentFilter)&&this.onChange(this.currentFilter.value)}},{key:"defaultOperator",get:function(){return hI(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator},set:function(e){this._defaultOperator=e}},{key:"filterInputDisabled",set:function(e){this.input&&(this.input.disabled=e)}}]),i}(aM),JA.\u0275fac=function(e){y.fc()},JA.\u0275dir=y.Mb({type:JA,contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,cM,!0),2&e&&y.zc(n=y.hc())&&(t.input=n.first)},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[y.Bb,y.Cb]}),JA),dM=["isnull","isnotnull","isempty","isnotempty"],pM=(YA=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).showOperators=!0,n}return _createClass(i,[{key:"filterChange",value:function(e){this.applyFilter(e)}},{key:"hostClasses",get:function(){return!0}},{key:"overrideBaseClasses",get:function(){return!1}},{key:"showButton",get:function(){var e=this.currentFilter;return sI(e)&&(!hI(e.value)||dM.indexOf(String(e.operator))>=0)}}]),i}(fM),YA.\u0275fac=function(e){return new(e||YA)(y.Rb(cE))},YA.\u0275cmp=y.Lb({type:YA,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&y.Jb("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[y.Bb],ngContentSelectors:N_,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,t){1&e&&(y.nc(),y.mc(0),y.Xb(1,"kendo-grid-filter-cell-operators",0),y.gc("clear",(function(){return t.onClear()}))("valueChange",(function(e){return t.currentOperator=e})),y.Wb()),2&e&&(y.Eb(1),y.oc("showOperators",t.showOperators)("operators",t.operators)("showButton",t.showButton)("value",t.currentOperator))},directives:function(){return[yM]},encapsulation:2}),YA),vM=rM({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"}),gM=($A=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).localization=n,r.operator="contains",r}return _createClass(i,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(i.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=vM(this.localization),this.operatorList.length&&(this.operators=ZD(this.operatorList.toArray()))}},{key:"currentFilter",get:function(){return this.filterByField((this.column||{}).field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),i}(aM),$A.\u0275fac=function(e){y.fc()},$A.\u0275dir=y.Mb({type:$A,inputs:{operator:"operator",column:"column",filter:"filter"},features:[y.Bb]}),$A),mM=(ZA=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).filterDelay=500,r.showOperators=!0,r}return i}(gM),ZA.\u0275fac=function(e){return new(e||ZA)(y.Rb(cE),y.Rb(cr))},ZA.\u0275cmp=y.Lb({type:ZA,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[y.Bb],decls:2,vars:7,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-filter-wrapper-cell",0),y.Sb(1,"input",1),y.Wb()),2&e&&(y.oc("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),y.Eb(1),y.oc("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[pM,P,iA,cM,W,at],encapsulation:2}),ZA),yM=(KA=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new y.o,this.clear=new y.o}return _createClass(e,[{key:"onChange",value:function(e){this.valueChange.emit(e)}},{key:"clearClick",value:function(){return this.clear.emit(),!1}},{key:"clearKeydown",value:function(e){e.keyCode!==Wi.Enter&&e.keyCode!==Wi.Space||this.clear.emit()}},{key:"dropdownKeydown",value:function(e){e.defaultPrevented||e.keyCode!==Wi.Enter||this.dropdown.isOpen||(this.dropdown.toggle(!0),e.preventDefault())}},{key:"ngOnInit",value:function(){var e=this;this.localization.changes.subscribe((function(){return e.clearText=e.localization.get("filterClearButton")}))}},{key:"hostClasses",get:function(){return!0}}]),e}(),KA.\u0275fac=function(e){return new(e||KA)(y.Rb(cr))},KA.\u0275cmp=y.Lb({type:KA,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,t){var i;1&e&&y.Qc(H_,!0),2&e&&y.zc(i=y.hc())&&(t.dropdown=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoGridFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoGridFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoGridFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,t){1&e&&(y.Jc(0,W_,2,5,"kendo-dropdownlist",0),y.Xb(1,"button",1),y.gc("click",(function(){return t.clearClick()}))("keydown",(function(e){return t.clearKeydown(e)})),y.Sb(2,"span",2),y.Wb()),2&e&&(y.oc("ngIf",t.showOperators),y.Eb(1),y.oc("ngClass",y.rc(3,U_,t.showButton))("title",t.clearText))},directives:[b.j,iA,b.h,Fs],encapsulation:2}),KA),bM=rM({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"}),kM=(tR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e)).localization=r,a.showOperators=!0,a.defaultOperators=bM(a.localization),a.column=n,a}return _createClass(i,[{key:"valueField",set:function(e){this._valueField=e},get:function(){return this._valueField?this._valueField:this.column.field}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:"contains"}}]),i}(aM),tR.\u0275fac=function(e){return new(e||tR)(y.Rb(cE),y.Rb(RI),y.Rb(cr))},tR.\u0275cmp=y.Lb({type:tR,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[y.Bb],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-filter-wrapper-cell",0),y.Sb(1,"kendo-autocomplete",1),y.Wb()),2&e&&(y.oc("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),y.Eb(1),y.oc("data",t.data)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[pM,Ds,cM],encapsulation:2}),tR),CM=(eR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).localization=n,r.operator="eq",r.items=[{text:r.localization.get("filterIsTrue"),value:!0},{text:r.localization.get("filterIsFalse"),value:!1}],r.defaultItem={text:r.localization.get("filterBooleanAll"),value:null},r}return _createClass(i,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(i.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}},{key:"hostClasses",get:function(){return!0}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),i}(aM),eR.\u0275fac=function(e){y.fc()},eR.\u0275dir=y.Mb({type:eR,hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[y.Bb]}),eR),wM=(QA=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e,n)).cd=r,a}return _createClass(i,[{key:"localizationChange",value:function(){_get(_getPrototypeOf(i.prototype),"localizationChange",this).call(this),this.cd.markForCheck()}}]),i}(CM),QA.\u0275fac=function(e){return new(e||QA)(y.Rb(cE),y.Rb(cr),y.Rb(y.h))},QA.\u0275cmp=y.Lb({type:QA,selectors:[["kendo-grid-boolean-filter-cell"]],features:[y.Bb],decls:2,vars:10,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","textField","text","valueField","value",3,"defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-filter-wrapper-cell",0),y.Sb(1,"kendo-dropdownlist",1),y.Wb()),2&e&&(y.oc("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),y.Eb(1),y.oc("defaultItem",t.defaultItem)("data",t.items)("popupSettings",y.qc(9,G_))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[pM,Fs,cM],encapsulation:2}),QA),_M=rM({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"}),xM=(cR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).localization=n,r.operator="gte",r.activeView="month",r.bottomView="month",r.topView="century",r.weekNumber=!1,r.defaultOperators=_M(r.localization),r}return _createClass(i,[{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(i.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=_M(this.localization),this.operatorList.length&&(this.operators=ZD(this.operatorList.toArray()))}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"format",set:function(e){this._format=e},get:function(){return hI(this._format)?this.columnFormat:this._format}},{key:"columnFormat",get:function(){return this.column&&!hI(this.column.format)?gI(this.column.format):"d"}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}}]),i}(aM),cR.\u0275fac=function(e){y.fc()},cR.\u0275dir=y.Mb({type:cR,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[y.Bb]}),cR),SM=(lR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).localization=n,r.showOperators=!0,r}return i}(xM),lR.\u0275fac=function(e){return new(e||lR)(y.Rb(cE),y.Rb(cr))},lR.\u0275cmp=y.Lb({type:lR,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[y.Bb],decls:2,vars:15,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","",3,"value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-filter-wrapper-cell",0),y.Sb(1,"kendo-datepicker",1),y.Wb()),2&e&&(y.oc("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),y.Eb(1),y.oc("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber))},directives:[pM,_w,cM],encapsulation:2}),lR),TM=(sR=function(){function e(){_classCallCheck(this,e),this.columns=[],this.groups=[]}return _createClass(e,[{key:"trackBy",value:function(e,t){return e}},{key:"columnsToRender",get:function(){return LI(this.columns)}}]),e}(),sR.\u0275fac=function(e){return new(e||sR)},sR.\u0275cmp=y.Lb({type:sR,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate"},attrs:q_,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&y.Jc(0,K_,3,4,"ng-template",0),2&e&&y.oc("ngIf",!0)},directives:[b.j,b.i],encapsulation:2}),sR),IM=(oR=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.hostClass=!0}return _createClass(e,[{key:"loadingText",get:function(){return this.localization.get("loading")}}]),e}(),oR.\u0275fac=function(e){return new(e||oR)(y.Rb(cr))},oR.\u0275cmp=y.Lb({type:oR,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-loading-mask",t.hostClass)},attrs:Z_,decls:4,vars:1,consts:[[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&(y.Xb(0,"span",0),y.Lc(1),y.Wb(),y.Sb(2,"div",1),y.Sb(3,"div",2)),2&e&&(y.Eb(1),y.Mc(t.loadingText))},encapsulation:2}),oR),OM=(aR=function(){function e(t,i,n,r){_classCallCheck(this,e),this.el=t,this.renderer=i,this.resizeService=n,this.grid=r,this.enabled=!1}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"attachResize",value:function(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}},{key:"resize",value:function(){if(this.grid&&this.grid.wrapper){var e=Math.max(this.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&e>0?e+"px":"")}}},{key:"lockedWidth",set:function(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}},{key:"kendoGridResizableContainer",set:function(e){var t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}}]),e}(),aR.\u0275fac=function(e){return new(e||aR)(y.Rb(y.m),y.Rb(y.F),y.Rb(kE),y.Rb(EA,8))},aR.\u0275dir=y.Mb({type:aR,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),aR),EM=function(){var e=function(){function e(t){_classCallCheck(this,e),this.viewContainerRef=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.removeView()}},{key:"removeView",value:function(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}},{key:"templateContext",set:function(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Rb(y.Q))},e.\u0275dir=y.Mb({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e}(),AM=(rR=function(){function e(t){_classCallCheck(this,e),this.root=t,this.active=!0,this.children=[],this.root.registerGroup(this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.root.unregisterGroup(this)}},{key:"registerElement",value:function(e){this.unregisterElement(e),this.children.push(e)}},{key:"unregisterElement",value:function(e){this.children=this.children.filter((function(t){return t!==e}))}},{key:"isNavigable",value:function(){var e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}},{key:"canFocus",value:function(){return this.focusableChildren.length>0}},{key:"focus",value:function(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}},{key:"activate",value:function(){this.toggleState(!0)}},{key:"deactivate",value:function(){this.toggleState(!1)}},{key:"hasFocus",value:function(){return this.children.reduce((function(e,t){return e||t.hasFocus()}),!1)}},{key:"toggleState",value:function(e){this.active!==e&&(this.active=e,this.children.forEach((function(t){return t.toggle(e)})))}},{key:"focusableChildren",get:function(){return this.children.filter((function(e){return e.canFocus()}))}},{key:"isActive",get:function(){return this.active}}]),e}(),rR.\u0275fac=function(e){return new(e||rR)(y.cc(ZE))},rR.\u0275prov=y.Nb({token:rR,factory:rR.\u0275fac}),rR),RM=0,DM=(nR=function(){function e(t,i,n,r,a,o,s,l){_classCallCheck(this,e),this.focusGroup=t,this.element=i,this.columnInfoService=n,this.idService=r,this.navigationService=a,this.renderer=o,this.zone=s,this.cellContext=l,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=RM++}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.navigationService.enabled&&(this.navigationChange=this.navigationService.changes.subscribe((function(t){return e.onNavigationChange(t)})))}},{key:"ngDoCheck",value:function(){this.navigationService.enabled&&-1!==this.logicalColIndex&&(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}},{key:"ngOnChanges",value:function(e){if(this.navigationService.enabled){var t=Object.keys(e);if((1!==t.length||"groupItem"!==t[0])&&-1!==this.logicalColIndex){var i=e.logicalColIndex,n=e.logicalRowIndex,r=i&&!i.isFirstChange()?i.previousValue:this.logicalColIndex,a=n&&!n.isFirstChange()?n.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(r,a,this),this.registerChanges(),this.updateElement()}}}},{key:"ngOnDestroy",value:function(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}},{key:"onNavigationChange",value:function(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}},{key:"updateElement",value:function(){var e=this,t=this.element.nativeElement;this.renderer.setAttribute(t,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask((function(){return e.isFocused()&&t.focus()})),this.renderer.addClass(t,"k-state-focused")):this.renderer.removeClass(t,"k-state-focused")}},{key:"microtask",value:function(e){this.zone.runOutsideAngular((function(){return Promise.resolve(null).then(e)}))}},{key:"registerChanges",value:function(){this.logicalSlaveCell||this.navigationService.registerCell(this)}},{key:"registerNoChanges",value:function(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}},{key:"isFocusable",value:function(){return this.navigationService.isCellFocusable(this)}},{key:"isFocused",value:function(){return this.navigationService.isCellFocused(this)}},{key:"id",get:function(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}},{key:"ariaColIndex",get:function(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}}]),e}(),nR.\u0275fac=function(e){return new(e||nR)(y.Rb(AM),y.Rb(y.m),y.Rb(kA),y.Rb(bA),y.Rb(gA),y.Rb(y.F),y.Rb(y.A),y.Rb(lE,8))},nR.\u0275dir=y.Mb({type:nR,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&y.Fb("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",detailExpandCell:"detailExpandCell",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",colIndex:"colIndex",groupItem:"groupItem",dataItem:"dataItem"},features:[y.Db([{provide:AM,deps:[ZE],useClass:AM}]),y.Cb]}),nR),MM=0,zM=(iR=function(){function e(t,i){_classCallCheck(this,e),this.idService=t,this.navigation=i,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=MM++}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this.navigation.enabled&&!this.logicalSlaveRow){var t=e.logicalRowIndex;if(t||e.logicalSlaveRow){var i=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(i,this),this.navigation.registerRow(this)}else Ii(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}}},{key:"ngOnDestroy",value:function(){this.navigation.unregisterRow(this.logicalRowIndex,this)}},{key:"hostRole",get:function(){return this.logicalSlaveRow?"presentation":"row"}},{key:"ariaRowIndex",get:function(){if(this.navigation.enabled)return this.logicalRowIndex+1}},{key:"ariaOwns",get:function(){if(this.navigation.enabled&&!this.logicalSlaveRow&&0!==this.logicalSlaveCellsCount){for(var e=[],t=this.logicalCellsCount+this.logicalSlaveCellsCount,i=this.logicalCellsCount;i<t;i++)e.push(this.idService.cellId(this.logicalRowIndex,i));return e.join(" ")}}}]),e}(),iR.\u0275fac=function(e){return new(e||iR)(y.Rb(bA),y.Rb(gA))},iR.\u0275dir=y.Mb({type:iR,selectors:[["","kendoGridLogicalRow",""]],hostVars:3,hostBindings:function(e,t){2&e&&y.Fb("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("aria-owns",t.ariaOwns)},inputs:{logicalSlaveRow:"logicalSlaveRow",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",logicalRowIndex:"logicalRowIndex",logicalCellsCount:"logicalCellsCount",dataItem:"dataItem"},features:[y.Cb]}),iR),PM=/\{\d+:?/,FM=(uR=function(){function e(t){_classCallCheck(this,e),this.intlService=t}return _createClass(e,[{key:"transform",value:function(e,t,i){if(!hI(t)){var n=function(e){if(ka[e])return ka[e];var t=function(e){var t=[];return e.replace(ba,(function(e,i,n,r){t.push(void 0!==i?i:n||r)})),t}(e);return ka[e]=function(e){for(var i=e,n=0;n<t.length&&i;n++)i=i[t[n]];return i},ka[e]}(t)(e);return hI(i)?n:this.formatValue(i,n)}return e}},{key:"formatValue",value:function(e,t){var i=this.intlService;return pI(e)&&e.match(PM)?i.format(e,t):i.toString(t,e)}}]),e}(),uR.\u0275fac=function(e){return new(e||uR)(y.Rb(dm))},uR.\u0275pipe=y.Qb({name:"valueOf",type:uR,pure:!1}),uR),LM=function(e){var t=e.columns;return Math.max(1,function(e){return e.filter((function(e){return uI(e.resizable)&&e.isVisible}))}(t).length)},jM=function(e){return function(t){return t.querySelector(e)}},VM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td";return function(i){return i.querySelectorAll("".concat(t,":not(.k-group-cell):not(.k-hierarchy-cell)"))[e]}},BM=function(e){return e.offsetWidth},NM=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(e,t){return e?t(e):0}),e)}},HM=((hR=function(){function e(t,i,n,r,a){_classCallCheck(this,e),this.element=t,this.renderer=i,this.service=n,this.zone=r,this.cdr=a,this.locked=!1,this.firstResize=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.service.changes.pipe(Object(Wt.a)((function(t){return e.locked===t.locked})));this.subscription=t.pipe(Object(Wt.a)((function(e){return"start"===e.type})),Object(Ut.a)(this.initState.bind(this)),Object(w.a)(LM),Object(Bt.a)((function(e){return t.pipe(Object(Wt.a)((function(e){return"resizeTable"===e.type})),Object(w.a)((function(e){return e.delta})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(i){return i.lift(new oi(e,t))}}(e))}))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}},{key:"initState",value:function(){this.firstResize=!0,this.virtualColumns&&!this.locked||(this.originalWidth=BM(this.element.nativeElement))}},{key:"resize",value:function(e){if(!this.virtualColumns||this.locked){var t=e.reduce((function(e,t){return e+t}),0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}},{key:"autoFitObservable",value:function(e){var t=this;return k.a.create((function(i){t.zone.runOutsideAngular((function(){t.renderer.addClass(t.element.nativeElement,"k-autofitting"),t.cdr.detectChanges();var n=e.map(t.measureColumn.bind(t));t.renderer.removeClass(t.element.nativeElement,"k-autofitting"),i.next(n)}))}))}},{key:"measureColumn",value:function(e){var t,i=this.element.nativeElement,n=NM((t=e.level,function(e){return e.querySelectorAll("thead>tr")[t]}),VM(e.headerIndex,"th"),BM)(i),r=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(r=NM(jM("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),VM(e.index),BM)(i));var a=NM(jM("tfoot>tr"),VM(e.index),BM)(i);return Math.max(n,r,a)}},{key:"minWidth",get:function(){return this.firstResize?0:null}}]),e}()).\u0275fac=function(e){return new(e||hR)(y.Rb(y.m),y.Rb(y.F),y.Rb(PE),y.Rb(y.A),y.Rb(y.h))},hR.\u0275dir=y.Mb({type:hR,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Ic("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),hR),GM=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[RI,zI,TO,tI,IO,iA]}}]),e}();return e.\u0275mod=y.Pb({type:e}),e.\u0275inj=y.Ob({factory:function(t){return new(t||e)},imports:[[b.b],Ri,Mi]}),e}(),WM=[yM,(ER=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"contains",e)}return i}($D),ER.\u0275fac=function(e){return new(e||ER)(y.Rb(cr))},ER.\u0275cmp=y.Lb({type:ER,selectors:[["kendo-filter-contains-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return ER}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),ER),(OR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"doesnotcontain",e)}return i}($D),OR.\u0275fac=function(e){return new(e||OR)(y.Rb(cr))},OR.\u0275cmp=y.Lb({type:OR,selectors:[["kendo-filter-not-contains-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return OR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),OR),(IR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"endswith",e)}return i}($D),IR.\u0275fac=function(e){return new(e||IR)(y.Rb(cr))},IR.\u0275cmp=y.Lb({type:IR,selectors:[["kendo-filter-endswith-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return IR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),IR),(TR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"eq",e)}return i}($D),TR.\u0275fac=function(e){return new(e||TR)(y.Rb(cr))},TR.\u0275cmp=y.Lb({type:TR,selectors:[["kendo-filter-eq-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return TR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),TR),(SR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"isempty",e)}return i}($D),SR.\u0275fac=function(e){return new(e||SR)(y.Rb(cr))},SR.\u0275cmp=y.Lb({type:SR,selectors:[["kendo-filter-isempty-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return SR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),SR),(xR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"isnotempty",e)}return i}($D),xR.\u0275fac=function(e){return new(e||xR)(y.Rb(cr))},xR.\u0275cmp=y.Lb({type:xR,selectors:[["kendo-filter-isnotempty-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return xR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),xR),(_R=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"isnotnull",e)}return i}($D),_R.\u0275fac=function(e){return new(e||_R)(y.Rb(cr))},_R.\u0275cmp=y.Lb({type:_R,selectors:[["kendo-filter-isnotnull-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return _R}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),_R),(wR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"isnull",e)}return i}($D),wR.\u0275fac=function(e){return new(e||wR)(y.Rb(cr))},wR.\u0275cmp=y.Lb({type:wR,selectors:[["kendo-filter-isnull-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return wR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),wR),(CR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"neq",e)}return i}($D),CR.\u0275fac=function(e){return new(e||CR)(y.Rb(cr))},CR.\u0275cmp=y.Lb({type:CR,selectors:[["kendo-filter-neq-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return CR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),CR),(kR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"startswith",e)}return i}($D),kR.\u0275fac=function(e){return new(e||kR)(y.Rb(cr))},kR.\u0275cmp=y.Lb({type:kR,selectors:[["kendo-filter-startswith-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return kR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),kR),(bR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"gt",e)}return i}($D),bR.\u0275fac=function(e){return new(e||bR)(y.Rb(cr))},bR.\u0275cmp=y.Lb({type:bR,selectors:[["kendo-filter-gt-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return bR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),bR),(yR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"gte",e)}return i}($D),yR.\u0275fac=function(e){return new(e||yR)(y.Rb(cr))},yR.\u0275cmp=y.Lb({type:yR,selectors:[["kendo-filter-gte-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return yR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),yR),(mR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"lt",e)}return i}($D),mR.\u0275fac=function(e){return new(e||mR)(y.Rb(cr))},mR.\u0275cmp=y.Lb({type:mR,selectors:[["kendo-filter-lt-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return mR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),mR),(gR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"lte",e)}return i}($D),gR.\u0275fac=function(e){return new(e||gR)(y.Rb(cr))},gR.\u0275cmp=y.Lb({type:gR,selectors:[["kendo-filter-lte-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return gR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),gR),(vR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"after",e)}return _createClass(i,[{key:"toJSON",value:function(){return{text:this.text,value:"gt"}}}]),i}($D),vR.\u0275fac=function(e){return new(e||vR)(y.Rb(cr))},vR.\u0275cmp=y.Lb({type:vR,selectors:[["kendo-filter-after-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return vR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),vR),(pR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"after-eq",e)}return _createClass(i,[{key:"toJSON",value:function(){return{text:this.text,value:"gte"}}}]),i}($D),pR.\u0275fac=function(e){return new(e||pR)(y.Rb(cr))},pR.\u0275cmp=y.Lb({type:pR,selectors:[["kendo-filter-after-eq-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return pR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),pR),(dR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"before-eq",e)}return _createClass(i,[{key:"toJSON",value:function(){return{text:this.text,value:"lte"}}}]),i}($D),dR.\u0275fac=function(e){return new(e||dR)(y.Rb(cr))},dR.\u0275cmp=y.Lb({type:dR,selectors:[["kendo-filter-before-eq-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return dR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),dR),(fR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){return _classCallCheck(this,i),t.call(this,"before",e)}return _createClass(i,[{key:"toJSON",value:function(){return{text:this.text,value:"lt"}}}]),i}($D),fR.\u0275fac=function(e){return new(e||fR)(y.Rb(cr))},fR.\u0275cmp=y.Lb({type:fR,selectors:[["kendo-filter-before-operator"]],features:[y.Db([{provide:$D,useExisting:Object(y.W)((function(){return fR}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),fR)],UM=[b.b,dt,ft,Zs,Ws,ly,Uw,aa,GM],qM=((MR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[].concat(WM)}}]),e}()).\u0275mod=y.Pb({type:MR}),MR.\u0275inj=y.Ob({factory:function(e){return new(e||MR)},imports:[[].concat(UM),b.b,dt,ft,Zs,Ws,ly,Uw,aa,GM]}),MR),XM=((DR=function(){function e(t,i){_classCallCheck(this,e),this.host=t,this.resolver=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}},{key:"ngOnDestroy",value:function(){this.component&&(this.component.destroy(),this.component=null)}},{key:"ngOnChanges",value:function(e){Ii(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}},{key:"initComponent",value:function(e){var t=e.column,i=e.filter,n=this.component.instance;n.column=t,n.filter=i}}]),e}()).\u0275fac=function(e){y.fc()},DR.\u0275dir=y.Mb({type:DR,inputs:{column:"column",filter:"filter"},features:[y.Cb]}),DR),JM=((RR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){return _classCallCheck(this,i),t.call(this,e,n)}return _createClass(i,[{key:"componentType",value:function(){return hI(this.column.filter)?mM:{boolean:wM,date:SM,numeric:lM,text:mM}[this.column.filter]}}]),i}(XM)).\u0275fac=function(e){return new(e||RR)(y.Rb(y.Q),y.Rb(y.j))},RR.\u0275dir=y.Mb({type:RR,selectors:[["","kendoFilterCellHost",""]],features:[y.Bb]}),RR),YM=((AR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[XD,YD,II,yM,mM,lM,kM,wM,SM,qM.exports()]}}]),e}()).\u0275mod=y.Pb({type:AR}),AR.\u0275inj=y.Ob({factory:function(e){return new(e||AR)},imports:[[qM],qM]}),AR),KM=function(e){return i=(t=!0===e?{}:e).buttonCount,n=void 0===i?10:i,r=t.info,a=void 0===r||r,o=t.type,s=void 0===o?"numeric":o,l=t.pageSizes,c=void 0!==l&&l,u=t.previousNext,{buttonCount:n,info:a,pageSizes:!0===c?[5,10,20]:c,previousNext:void 0===u||u,type:s};var t,i,n,r,a,o,s,l,c,u},ZM=((NR=function(){function e(t){_classCallCheck(this,e),this.pagerContext=t,this.total=0,this.skip=1,this.pageChange=new y.o,this.settings=KM({}),this._templateContext={}}return _createClass(e,[{key:"ngOnInit",value:function(){this.pageChangeSubscription=this.pagerContext.pageChange.subscribe(this.changePage.bind(this))}},{key:"ngOnChanges",value:function(e){Ii(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total})}},{key:"ngOnDestroy",value:function(){this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe()}},{key:"changePage",value:function(e){this.pageChange.emit(e)}},{key:"options",set:function(e){this.settings=KM(e)}},{key:"pagerWrapClass",get:function(){return!0}},{key:"gridPagerClass",get:function(){return!0}},{key:"widgetClass",get:function(){return!0}},{key:"totalPages",get:function(){return Math.ceil((this.total||0)/this.pageSize)}},{key:"currentPage",get:function(){return Math.floor((this.skip||0)/this.pageSize)+1}},{key:"templateContext",get:function(){var e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}}]),e}()).\u0275fac=function(e){return new(e||NR)(y.Rb(hE))},NR.\u0275cmp=y.Lb({type:NR,selectors:[["kendo-pager"]],hostVars:6,hostBindings:function(e,t){2&e&&y.Jb("k-pager-wrap",t.pagerWrapClass)("k-grid-pager",t.gridPagerClass)("k-widget",t.widgetClass)},inputs:{total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[y.Cb],decls:2,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"]],template:function(e,t){1&e&&(y.Jc(0,$_,1,2,"ng-container",0),y.Jc(1,ax,7,6,"ng-container",1)),2&e&&(y.oc("ngIf",null==t.template?null:t.template.templateRef),y.Eb(1),y.oc("ngIf",!(null!=t.template&&t.template.templateRef)))},directives:function(){return[b.j,b.o,QM,tz,iz,ez,nz,rz]},encapsulation:2}),NR),$M=((BR=function(){function e(t,i,n){_classCallCheck(this,e),this.localization=t,this.pagerContext=i,this.cd=n,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize}return _createClass(e,[{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"changePage",value:function(e){return this.pagerContext.changePage(e),!1}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"currentPage",get:function(){return Math.floor((this.skip||0)/this.pageSize)+1}},{key:"totalPages",get:function(){return Math.ceil((this.total||0)/this.pageSize)}}]),e}()).\u0275fac=function(e){y.fc()},BR.\u0275dir=y.Mb({type:BR}),BR),QM=((VR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){return _classCallCheck(this,i),t.call(this,e,n,r)}return _createClass(i,[{key:"onChanges",value:function(e){var t=e.total,i=e.skip,n=e.pageSize;this.total=t,this.skip=i,this.pageSize=n,this.cd.markForCheck()}},{key:"disabled",get:function(){return 1===this.currentPage||!this.total}}]),i}($M)).\u0275fac=function(e){return new(e||VR)(y.Rb(cr),y.Rb(hE),y.Rb(y.h))},VR.\u0275cmp=y.Lb({type:VR,selectors:[["kendo-pager-prev-buttons"]],features:[y.Bb],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(y.Xb(0,"a",0),y.gc("click",(function(){return 1!==t.currentPage&&t.changePage(0)})),y.Sb(1,"span",1),y.Wb(),y.Xb(2,"a",0),y.gc("click",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)})),y.Sb(3,"span",1),y.Wb()),2&e&&(y.oc("title",t.textFor("pagerFirstPage"))("ngClass",y.rc(8,ox,t.disabled)),y.Eb(1),y.oc("ngClass",y.qc(10,sx)),y.Fb("aria-label",t.textFor("pagerFirstPage")),y.Eb(1),y.oc("title",t.textFor("pagerPreviousPage"))("ngClass",y.rc(11,lx,t.disabled)),y.Eb(1),y.oc("ngClass",y.qc(13,cx)),y.Fb("aria-label",t.textFor("pagerPreviousPage")))},directives:[b.h],encapsulation:2,changeDetection:0}),VR),ez=((jR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){return _classCallCheck(this,i),t.call(this,e,n,r)}return _createClass(i,[{key:"onChanges",value:function(e){var t=e.total,i=e.skip,n=e.pageSize;this.total=t,this.skip=i,this.pageSize=n,this.cd.markForCheck()}},{key:"disabled",get:function(){return this.currentPage===this.totalPages||!this.total}}]),i}($M)).\u0275fac=function(e){return new(e||jR)(y.Rb(cr),y.Rb(hE),y.Rb(y.h))},jR.\u0275cmp=y.Lb({type:jR,selectors:[["kendo-pager-next-buttons"]],features:[y.Bb],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(y.Xb(0,"a",0),y.gc("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)})),y.Sb(1,"span",1),y.Wb(),y.Xb(2,"a",0),y.gc("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)})),y.Sb(3,"span",1),y.Wb()),2&e&&(y.oc("title",t.textFor("pagerNextPage"))("ngClass",y.rc(8,lx,t.disabled)),y.Eb(1),y.oc("ngClass",y.qc(10,ux)),y.Fb("aria-label",t.textFor("pagerNextPage")),y.Eb(1),y.oc("title",t.textFor("pagerLastPage"))("ngClass",y.rc(11,hx,t.disabled)),y.Eb(1),y.oc("ngClass",y.qc(13,fx)),y.Fb("aria-label",t.textFor("pagerLastPage")))},directives:[b.h],encapsulation:2,changeDetection:0}),jR),tz=((LR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e,r,n)).pagerContext=r,a}return _createClass(i,[{key:"pageLabel",value:function(e){var t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}},{key:"onChanges",value:function(e){var t=e.total,i=e.skip,n=e.pageSize;this.total=t,this.skip=i,this.pageSize=n,this.cd.markForCheck()}},{key:"buttons",get:function(){for(var e=[],t=this.start;t<=this.end;t++)e.push(t);return e}},{key:"end",get:function(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}},{key:"start",get:function(){var e=this.currentPage,t=this.buttonCount;if(e>t){var i=e%t;return 0===i?e-t+1:e-i+1}return 1}}]),i}($M)).\u0275fac=function(e){return new(e||LR)(y.Rb(cr),y.Rb(y.h),y.Rb(hE))},LR.\u0275cmp=y.Lb({type:LR,selectors:[["kendo-pager-numeric-buttons"]],inputs:{buttonCount:"buttonCount"},features:[y.Bb],decls:4,vars:5,consts:[[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["href","#","tabindex","-1",1,"k-link",3,"click"],["href","#","tabindex","-1",3,"ngClass","click"]],template:function(e,t){1&e&&(y.Xb(0,"ul",0),y.Jc(1,dx,3,1,"li",1),y.Jc(2,vx,3,5,"li",2),y.Jc(3,gx,3,1,"li",1),y.Wb()),2&e&&(y.oc("ngClass",y.qc(4,mx)),y.Eb(1),y.oc("ngIf",t.start>1),y.Eb(1),y.oc("ngForOf",t.buttons),y.Eb(1),y.oc("ngIf",t.end<t.totalPages))},directives:[b.h,b.j,b.i],encapsulation:2,changeDetection:0}),LR),iz=((FR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;return _classCallCheck(this,i),(o=t.call(this,e,n,a)).pagerContext=n,o.zone=r,o.handleKeyDown=function(e){var t=o.numericInput.value||o.current;e.keyCode===Wi.Enter&&(e.preventDefault(),t!==o.current&&o.zone.run((function(){o.changePage(t-1)})))},o.handleBlur=function(){var e=o.numericInput.value;e?e!==o.current&&o.zone.run((function(){o.changePage(e-1)})):o.numericInput.writeValue(o.current)},o}return _createClass(i,[{key:"onChanges",value:function(e){var t=e.total,i=e.skip,n=e.pageSize;this.total=t,this.skip=i,this.pageSize=n,this.cd.markForCheck()}},{key:"current",get:function(){return this.hasPages?this.currentPage:0}},{key:"hasPages",get:function(){return 0!==this.totalPages}}]),i}($M)).\u0275fac=function(e){return new(e||FR)(y.Rb(cr),y.Rb(hE),y.Rb(y.A),y.Rb(y.h))},FR.\u0275cmp=y.Lb({type:FR,selectors:[["kendo-pager-input"]],viewQuery:function(e,t){var i;1&e&&y.Qc(Ym,!0),2&e&&y.zc(i=y.hc())&&(t.numericInput=i.first)},features:[y.Bb],decls:4,vars:16,consts:[[3,"ngClass"],["format","n0",3,"spinners","decimals","disabled","value","min","max","autoCorrect","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&(y.Xb(0,"span",0),y.Lc(1),y.Sb(2,"kendo-numerictextbox",1),y.Lc(3),y.Wb()),2&e&&(y.oc("ngClass",y.qc(12,yx)),y.Eb(1),y.Nc(" ",t.textFor("pagerPage")," "),y.Eb(1),y.oc("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("autoCorrect",!0)("kendoEventsOutsideAngular",y.sc(13,bx,t.handleKeyDown,t.handleBlur)),y.Eb(1),y.Oc(" ",t.textFor("pagerOf")," ",t.totalPages," "))},directives:[b.h,Ym,Di],encapsulation:2}),FR),nz=((PR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e,r,n)).pagerContext=r,a}return _createClass(i,[{key:"onChanges",value:function(e){var t=e.total,i=e.skip,n=e.pageSize;this.total=t,this.skip=i,this.pageSize=n,this.cd.markForCheck()}},{key:"maxItems",get:function(){return Math.min(this.currentPage*this.pageSize,this.total)}},{key:"currentPageText",get:function(){return this.total?(this.currentPage-1)*this.pageSize+1:0}},{key:"classes",get:function(){return!0}}]),i}($M)).\u0275fac=function(e){return new(e||PR)(y.Rb(cr),y.Rb(y.h),y.Rb(hE))},PR.\u0275cmp=y.Lb({type:PR,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&y.Jb("k-pager-info",t.classes)("k-label",t.classes)},features:[y.Bb],decls:1,vars:5,template:function(e,t){1&e&&y.Lc(0),2&e&&y.Pc("",t.currentPageText," - ",t.maxItems," ",t.textFor("pagerOf")," ",t.total," ",t.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),PR),rz=((zR=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e,r,n)).pagerContext=r,a._pageSizes=[],a}return _createClass(i,[{key:"pageSizeChange",value:function(e){this.pageSize=parseInt(e,10),this.pagerContext.changePageSize(this.pageSize)}},{key:"getValue",value:function(e){return"number"==typeof e.value?e.value:this.total}},{key:"getSelectedState",value:function(e){return"number"==typeof e.value?e.value===this.pageSize||void 0:this.pageSize===this.total}},{key:"onChanges",value:function(e){var t=e.total,i=e.skip,n=e.pageSize;this.total=t,this.skip=i,this.pageSize="number"==typeof n?n:this.total,this.cd.markForCheck()}},{key:"pageSizes",get:function(){return this._pageSizes},set:function(e){var t=[];e.forEach((function(e){t.push("number"==typeof e?{text:e.toString(),value:e}:e)})),this._pageSizes=t}},{key:"classes",get:function(){return!0}},{key:"showInitialPageSize",get:function(){var e=this;return 0===this.pageSizes.filter((function(t){return"number"==typeof t.value?t.value===Number(e.pageSize):e.total===Number(e.pageSize)})).length}}]),i}($M)).\u0275fac=function(e){return new(e||zR)(y.Rb(cr),y.Rb(y.h),y.Rb(hE))},zR.\u0275cmp=y.Lb({type:zR,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&y.Jb("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[y.Bb],decls:5,vars:4,consts:[[3,"change"],["select",""],[3,"value",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"]],template:function(e,t){if(1&e){var i=y.Yb();y.Xb(0,"select",0,1),y.gc("change",(function(){y.Cc(i);var e=y.Ac(1);return t.pageSizeChange(e.value)})),y.Jc(2,kx,2,2,"option",2),y.Jc(3,Cx,2,3,"option",3),y.Wb(),y.Lc(4)}2&e&&(y.Fb("aria-label",t.textFor("pagerItemsPerPage")),y.Eb(2),y.oc("ngIf",t.showInitialPageSize),y.Eb(1),y.oc("ngForOf",t.pageSizes),y.Eb(1),y.Nc(" ",t.textFor("pagerItemsPerPage")," "))},directives:[b.j,b.i],encapsulation:2,changeDetection:0}),zR),az=[b.b,ly,GM],oz=((WR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[ZM,QM,ez,tz,iz,nz,rz,uE]}}]),e}()).\u0275mod=y.Pb({type:WR}),WR.\u0275inj=y.Ob({factory:function(e){return new(e||WR)},imports:[[].concat(az)]}),WR),sz=((GR=function(){function e(t,i){_classCallCheck(this,e),this.groupsService=t,this.groupInfoService=i,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.isExpanded=!1}return _createClass(e,[{key:"ngDoCheck",value:function(){this.isExpanded=this.groupsService.isExpanded(this.item.index)}},{key:"prefixGroupCell",value:function(e){return new Array(e.level)}},{key:"toggleGroup",value:function(e){return this.groupsService.toggleRow(e.index,e.data),!1}},{key:"groupSpan",value:function(e){var t=(this.groups||[]).length,i=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return t+1+i-e.level;var n=BI(this.columns);return this.skipGroupDecoration?n:t+n+i-e.level}},{key:"logicalColSpan",value:function(){return this.skipGroupDecoration?1:this.totalColumnsCount}},{key:"ariaRole",value:function(){return this.skipGroupDecoration?"presentation":"gridcell"}},{key:"formatForGroup",value:function(e){return this.groupInfoService.formatForGroup(e)}},{key:"groupTitle",value:function(e){return this.groupInfoService.groupTitle(e)}},{key:"groupHeaderTemplate",value:function(e){return this.groupInfoService.groupHeaderTemplate(e)}},{key:"groupItemClass",get:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||GR)(y.Rb($O),y.Rb(nE))},GR.\u0275cmp=y.Lb({type:GR,selectors:[["","kendoGridGroupHeader",""]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-grouping-row",t.groupItemClass)},inputs:{skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",groups:"groups",rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns"},attrs:wx,decls:3,vars:3,consts:[[3,"ngIf"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],[4,"ngIf"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",1,"k-icon",3,"ngClass","click"],[3,"templateContext"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(y.Jc(0,xx,1,1,"ng-template",0),y.Jc(1,Ax,3,9,"td",1),y.Jc(2,zx,2,1,"ng-container",2)),2&e&&(y.oc("ngIf",!t.skipGroupDecoration),y.Eb(1),y.oc("ngIf",!(t.skipGroupDecoration&&t.hasGroupHeaderColumn)),y.Eb(1),y.oc("ngIf",t.hasGroupHeaderColumn))},directives:[b.j,b.i,DM,b.h,EM,b.o],pipes:[FM],encapsulation:2}),GR),lz=((HR=function(){function e(t,i){_classCallCheck(this,e),this.element=t,this.service=i,this.context={},this.enter=new y.o,this.leave=new y.o,this.drop=new y.o,this.subscriptions=new bt.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.add(this);var t=this.service.changes.pipe(Object(Wt.a)((function(t){return t.target===e})));this.subscriptions.add(t.pipe(Object(Wt.a)((function(e){return"leave"===e.type}))).subscribe((function(t){e.leave.next(e.eventArgs(t))}))),this.subscriptions.add(t.pipe(Object(Wt.a)((function(e){return"enter"===e.type}))).subscribe((function(t){e.enter.next(e.eventArgs(t))}))),this.subscriptions.add(t.pipe(Object(Wt.a)((function(e){return"drop"===e.type}))).subscribe((function(t){e.drop.next(e.eventArgs(t))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"eventArgs",value:function(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}}]),e}()).\u0275fac=function(e){return new(e||HR)(y.Rb(y.m),y.Rb(WE))},HR.\u0275dir=y.Mb({type:HR,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),HR),cz=function(e){var t=e.field;return hI(t)},uz=function(e){var t=e.groups,i=e.field;return t.some((function(e){return e.field===i}))},hz=yI((function(e){var t=e.target,i=e.field;return t.field===i}),bI((function(e){return e.target.lastTarget}),(function(e){var t=e.groups,i=e.field;return t.map((function(e){return e.field})).indexOf(i)===t.length-1}))),fz=((qR=function(){function e(t,i,n,r,a){_classCallCheck(this,e),this.hint=t,this.cue=i,this.groupInfoService=n,this.localization=r,this.cd=a,this.change=new y.o,this.groups=[],this.dropTargets=new y.E,this.groupTitles=[],this.subscription=new bt.a}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.subscription.add(fI(this.dropTargets).subscribe(this.attachTargets.bind(this)))}},{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngDoCheck",value:function(){var e=this,t=this.groups.map((function(t){return e.groupInfoService.groupTitle(t)}));(t.length!==this.groupTitles.length||t.some((function(t,i){return t!==e.groupTitles[i]})))&&(this.groupTitles=t,this.cd.markForCheck())}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe()}},{key:"directionChange",value:function(e){var t=this.groups.findIndex((function(t){return t.field===e.field})),i=[].concat(_toConsumableArray(this.groups.slice(0,t)),[e],_toConsumableArray(this.groups.slice(t+1)));this.change.emit(i)}},{key:"insert",value:function(e,t){var i=this.groups.filter((function(t){return t.field!==e}));(i.length||0===this.groups.length)&&this.change.emit([].concat(_toConsumableArray(i.slice(0,t)),[{field:e}],_toConsumableArray(i.slice(t))))}},{key:"remove",value:function(e){this.change.emit(this.groups.filter((function(t){return t.field!==e.field})))}},{key:"canDrop",value:function(e,t){var i;return!("groupIndicator"===e.type?hz:yI(cz,uz,(i=this.groupInfoService,function(e){var t=e.field;return!i.isGroupable(t)})))({field:e.field,groups:this.groups,target:t})}},{key:"attachTargets",value:function(){var e=this;this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new bt.a;var t=this.dropTargets.reduce((function(e,t){return Object(pt.a)(e,t.enter)}),Object(x.a)([])),i=this.dropTargets.reduce((function(e,t){return Object(pt.a)(e,t.leave)}),Object(x.a)([])),n=this.dropTargets.reduce((function(e,t){return Object(pt.a)(e,t.drop)}),Object(x.a)([]));this.targetSubscription.add(t.pipe(Object(Ut.a)((function(t){return e.hint.removeLock()})),Object(Wt.a)((function(t){var i=t.draggable,n=t.target;return e.canDrop(i.context,n.context)})),Object(Ut.a)(this.enter.bind(this)),Qt(n.pipe(Kt(i.pipe(Object(Ut.a)(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}},{key:"enter",value:function(e){var t=e.draggable,i=e.target;this.hint.enable();var n=i.context.lastTarget||NE(t.element.nativeElement,i.element.nativeElement);this.localization.rtl&&(n=!n),this.cue.position(GE(i.element.nativeElement,n))}},{key:"leave",value:function(){this.hint.disable(),this.cue.hide()}},{key:"drop",value:function(e){var t=e.target,i=e.draggable.context.field,n=this.dropTargets.toArray().indexOf(t);this.insert(i,n)}},{key:"groupHeaderClass",get:function(){return!0}},{key:"text",set:function(e){this.emptyText=e},get:function(){return this.emptyText?this.emptyText:this.localization.get("groupPanelEmpty")}}]),e}()).\u0275fac=function(e){return new(e||qR)(y.Rb(XE),y.Rb(JE),y.Rb(nE),y.Rb(cr),y.Rb(y.h))},qR.\u0275cmp=y.Lb({type:qR,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,t){var i;1&e&&y.Qc(lz,!0),2&e&&y.zc(i=y.hc())&&(t.dropTargets=i)},hostVars:4,hostBindings:function(e,t){2&e&&y.Jb("k-grouping-header",t.groupHeaderClass)("k-grouping-header-flex",t.groupHeaderClass)},inputs:{groups:"groups",text:"text"},outputs:{change:"change"},decls:3,vars:3,consts:[[3,"ngIf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngFor","ngForOf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngIf"],["kendoDropTarget","",1,"k-indicator-container",3,"context"],["kendoDraggableColumn","","kendoGroupIndicator","","kendoDraggable","",3,"enableDrag","context","group","groupTitle","directionChange","remove"]],template:function(e,t){1&e&&(y.Jc(0,Fx,2,3,"ng-template",0),y.Jc(1,Vx,2,10,"div",1),y.Jc(2,Bx,2,2,"div",2)),2&e&&(y.oc("ngIf",0===t.groups.length),y.Eb(1),y.oc("ngForOf",t.groups),y.Eb(1),y.oc("ngIf",0!==t.groups.length))},directives:function(){return[b.j,b.i,lz,bz,dz,Ai]},encapsulation:2,changeDetection:0}),qR),dz=((UR=function(){function e(){_classCallCheck(this,e),this.directionChange=new y.o,this.remove=new y.o}return _createClass(e,[{key:"toggleDirection",value:function(){return this.directionChange.emit({dir:"asc"===this.dir?"desc":"asc",field:this.group.field}),!1}},{key:"removeDescriptor",value:function(){return this.remove.emit({dir:this.group.dir,field:this.group.field}),!1}},{key:"groupIndicatorClass",get:function(){return!0}},{key:"dir",get:function(){return this.group.dir?this.group.dir:"asc"}}]),e}()).\u0275fac=function(e){return new(e||UR)},UR.\u0275cmp=y.Lb({type:UR,selectors:[["","kendoGroupIndicator",""]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-group-indicator",t.groupIndicatorClass)},inputs:{group:"group",groupTitle:"groupTitle"},outputs:{directionChange:"directionChange",remove:"remove"},attrs:Nx,decls:5,vars:5,consts:[["href","#","tabindex","-1",1,"k-link",3,"click"],[1,"k-icon"],["tabindex","-1",1,"k-button","k-button-icon","k-bare",3,"click"],[1,"k-icon","k-i-group-delete"]],template:function(e,t){1&e&&(y.Xb(0,"a",0),y.gc("click",(function(){return t.toggleDirection()})),y.Sb(1,"span",1),y.Lc(2),y.Wb(),y.Xb(3,"a",2),y.gc("click",(function(){return t.removeDescriptor()})),y.Sb(4,"span",3),y.Wb()),2&e&&(y.Eb(1),y.Jb("k-i-sort-asc-sm","asc"===t.dir)("k-i-sort-desc-sm","desc"===t.dir),y.Eb(1),y.Nc(" ",t.groupTitle,""))},encapsulation:2,changeDetection:0}),UR),pz=function(e){return function(t){return new RegExp("(^| )".concat(e,"( |$)")).test(t.className)}},vz=yI(pz("k-i-group-delete"),pz("k-button-icon")),gz=yI(pz("k-i-sort-asc-sm"),pz("k-i-sort-desc-sm")),mz=bI(mI(vz),mI(gz),mI(RE),mI(TE("label"))),yz=function(e){var t=e.clientX,i=e.clientY;return document.elementFromPoint(t,i)},bz=((YR=function(){function e(t,i,n,r,a,o,s,l){_classCallCheck(this,e),this.draggable=t,this.element=i,this.zone=n,this.service=r,this.hint=a,this.cue=o,this.nav=s,this.renderer=l,this.context={},this.drag=new y.o,this.subscriptions=new bt.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.add(this.zone.runOutsideAngular((function(){return e.draggable.kendoPress.pipe(Object(Wt.a)((function(t){return e.enabled})),Object(Wt.a)((function(t){var i=t.originalEvent.target;return i===e.element.nativeElement||mz(i)})),Object(Ut.a)((function(t){var i=t.originalEvent;t.isTouch||i.preventDefault(),e.nav.navigateTo(i.target)})),Object(Bt.a)((t=e.draggable.kendoRelease,function(e){return Object(vt.a)(e).pipe(ti(150),Kt(t))})),Object(Ut.a)((function(t){e.hint.create(t,e.element.nativeElement,e.context.hint),e.cue.create()})),Object(Bt.a)((function(t){return e.draggable.kendoDrag.pipe(Object(Ut.a)((function(e){e.isTouch&&e.originalEvent.preventDefault()})),Object(Ut.a)(e.hint.attach()),Object(Ut.a)(e.cue.attach()),Kt(e.draggable.kendoRelease),Object(w.a)((function(e){return{move:e,down:t}})))})),Object(Ut.a)(e.performDrag.bind(e)),Qt(e.draggable.kendoRelease)).subscribe(e.drop.bind(e));var t})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"drop",value:function(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}},{key:"performDrag",value:function(e){var t=e.move;this.hint.move(t);var i=this.elementUnderCursor(t);i&&this.service.notifyDrag(this,i,t),this.drag.emit({draggable:this,mouseEvent:t})}},{key:"elementUnderCursor",value:function(e){this.hint.hide();var t=yz(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=function(e,t){e.style.display="none";var i=t();return e.style.display="block",i}(t,yz.bind(this,e))),this.hint.show(),t}},{key:"updateTouchAction",value:function(){this.element&&this.renderer.setStyle(this.element.nativeElement,"touch-action",this.enabled?"none":"")}},{key:"enableDrag",set:function(e){this.enabled=e,this.updateTouchAction()}},{key:"hostClass",get:function(){return this.enabled}}]),e}()).\u0275fac=function(e){return new(e||YR)(y.Rb(Ai,1),y.Rb(y.m),y.Rb(y.A),y.Rb(WE),y.Rb(XE),y.Rb(JE),y.Rb(gA),y.Rb(y.F))},YR.\u0275dir=y.Mb({type:YR,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),YR),kz=((JR=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:JR}),JR.\u0275inj=y.Ob({factory:function(e){return new(e||JR)}}),JR),Cz=((XR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[KT,ZT,QT]}}]),e}()).\u0275mod=y.Pb({type:XR}),XR.\u0275inj=y.Ob({factory:function(e){return new(e||XR)},imports:[[b.b,GM,kz]]}),XR),wz={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},_z=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Object.assign.apply(Object,[{},wz].concat(t))},xz=function(e,t){return!1!==e.filter&&t.field&&t.filterable},Sz=function(e,t){return!1!==e.sort&&t.field&&t.sortable},Tz=function(e,t){return e.lock&&t.lockable&&!(t.parent&&!t.parent.isSpanColumn)},Iz=function(e){return!1!==e.columnChooser},Oz=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Object.assign.apply(null,[{}].concat(t))},Ez=bI((function(e){var t=e.draggable;return["column","columnGroup"].indexOf(t.context.type)>=0}),(function(e){return e.draggable.context.column.reorderable}),(function(e){var t=e.draggable;return!UI(t.context.column)}),(function(e){var t=e.draggable,i=e.target;return t.element.nativeElement!==i.element.nativeElement}),(function(e){var t=e.draggable,i=e.target;return function e(t,i){return t.parent===i.parent||UI(i)&&e(t,i.parent)}(t.context.column,i.context.column)}),mI((function(e){var t,i,n=e.draggable;return!uI(n.context.column.locked)&&(t=n.context.column,i=t.parent,!uI(i))&&n.context.lastColumn})),(function(e){var t=e.draggable,i=e.target;return!1!==t.context.column.lockable||t.context.column.isLocked===i.context.column.isLocked})),Az=function(){var e=function(){function e(t,i,n,r,a,o,s,l){_classCallCheck(this,e),this.popupService=t,this.hint=i,this.cue=n,this.reorderService=r,this.idService=a,this.sortService=o,this.localization=s,this.cd=l,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.sortedFields={},this.dropTargets=new y.E,this.subscription=new bt.a}return _createClass(e,[{key:"sortColumn",value:function(e){this.sortService.sort(this.toggleSort(e))}},{key:"onSortClick",value:function(e,t,i){var n=t.target;e.headerTemplateRef&&n!==i&&Boolean(OE(n,AE,i))||this.sortColumn(e)}},{key:"onHeaderKeydown",value:function(e,t){this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===Wi.Enter&&this.sortService.sort(this.toggleSort(e))}},{key:"showSortNumbering",value:function(e){return _z(this.sortable).showIndexes&&this.sort&&this.sort.filter((function(e){var t=e.dir;return sI(t)})).length>1&&this.sortOrder(e.field)>0}},{key:"sortOrder",value:function(e){return this.sort.filter((function(e){var t=e.dir;return sI(t)})).findIndex((function(t){return t.field===e}))+1}},{key:"sortIcon",value:function(e){var t=this.sortDescriptor(e);return{"k-icon":sI(t.dir),"k-i-sort-desc-sm":"desc"===t.dir,"k-i-sort-asc-sm":"asc"===t.dir}}},{key:"sortState",value:function(e){if(this.isSortable(e)){var t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}}},{key:"sortStatus",value:function(e){if(this.sortedFields[e.field]&&this.isSortable(e)){var t="sortedDefault",i=this.sortDescriptor(e.field);return"asc"===i.dir?t="sortedAscending":"desc"===i.dir&&(t="sortedDescending"),this.localization.get(t)}}},{key:"toggleSort",value:function(e){var t=_z(this.sortable,e.sortable),i=t.allowUnsort,n=t.mode,r=t.initialDirection,a=this.toggleDirection(e.field,i,r);return"single"===n?[a]:[].concat(_toConsumableArray(this.sort.filter((function(t){return t.field!==e.field}))),[a])}},{key:"ngAfterViewInit",value:function(){this.subscription.add(fI(this.dropTargets).subscribe(this.attachTargets.bind(this)))}},{key:"ngDoCheck",value:function(){this._leafColumns=LI(this.columns||[]).filter((function(e){return!qI(e)}))}},{key:"ngOnChanges",value:function(e){var t=this,i=e.sort;i&&!i.isFirstChange()&&i.currentValue.forEach((function(e){t.sortedFields[e.field]=!0}))}},{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}},{key:"selectAllCheckboxId",value:function(){return this.idService.selectAllCheckboxId()}},{key:"isFirstOnRow",value:function(e,t){var i=this;return 0===t&&!this.groups.length&&!this.detailTemplate&&function e(t){return t&&(i.columnsForLevel(t.level).indexOf(t)>0||e(t.parent))}(e.parent)}},{key:"logicalColumnIndex",value:function(e){var t=e.leafIndex;return sI(t)?t+(sI(this.detailTemplate)?1:0):-1}},{key:"showColumnMenu",value:function(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||function(e,t){return Iz(e)||Tz(e,t)||Sz(e,t)||xz(e,t)}(this.columnMenu,e))}},{key:"isFilterable",value:function(e){return!hI(e.field)&&!0===e.filterable}},{key:"canDrop",value:function(e,t){return this.reorderable&&Ez({draggable:e,target:t})}},{key:"shouldActivate",value:function(e){var t=this.reorderable&&e.reorderable;return!(!t&&!EI(e))&&(this.groupable&&EI(e)&&!1!==e.groupable||t)}},{key:"isSortable",value:function(e){return!hI(e.field)&&uI(this.sortable)&&uI(e.sortable)}},{key:"isCheckboxColumn",value:function(e){return rI(e)&&!e.templateRef}},{key:"trackByIndex",value:function(e,t){return e}},{key:"toggleDirection",value:function(e,t,i){var n=this.sortDescriptor(e),r=_slicedToArray(function(e){return"asc"===e?["asc","desc"]:["desc","asc"]}(i),2),a=r[0],o=r[1],s=a;return n.dir===a?s=o:n.dir===o&&t&&(s=void 0),{dir:s,field:e}}},{key:"columnsForLevel",value:function(e){var t=this.columns?this.columns.filter((function(t){return t.level===e})):[];return WI(LI(t))}},{key:"isColumnGroupComponent",value:function(e){return qI(e)}},{key:"sortDescriptor",value:function(e){return this.sort.find((function(t){return t.field===e}))||{field:e}}},{key:"attachTargets",value:function(){var e=this;this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new bt.a;var t=Object(pt.a).apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.enter})))),i=Object(pt.a).apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.leave})))),n=Object(pt.a).apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.drop}))));this.targetSubscription.add(t.pipe(Object(Ut.a)((function(t){var i=t.target,n=t.draggable;if("groupIndicator"!==n.context.type){var r=uI(i.context.column.isLocked),a=uI(n.context.column.isLocked);(e.lockedColumnsCount>0||r||a)&&e.hint.toggleLock(r)}})),Object(Wt.a)((function(t){var i=t.draggable,n=t.target;return e.canDrop(i,n)})),Object(Bt.a)(this.trackMove.bind(this,i,n)),Object(w.a)((function(t){return Oz(t,{before:e.calculateBefore(t),changeContainer:t.changeContainer})})),Object(w.a)(this.normalizeTarget.bind(this)),Object(Ut.a)(this.enter.bind(this)),Object(Bt.a)((function(t){return n.pipe(Object(w.a)((function(){return t})),Kt(i.pipe(Object(Ut.a)(e.leave.bind(e)))))}))).subscribe(this.drop.bind(this)))}},{key:"normalizeTarget",value:function(e){var t=e.target,i=t.context.column.parent;if(i&&i.isSpanColumn){var n=this.dropTargets.toArray(),r=n.find((function(e){return e.context.column.parent===i})),a=n.indexOf(r);t=n[a+(e.before?0:i.childColumns.length-1)]}return Oz(e,{target:t})}},{key:"trackMove",value:function(e,t,i){var n=i.target.context.column,r=this.columnsForLevel(n.level),a=r.indexOf(n),o=i.draggable.context.column.isLocked!==n.isLocked;return o&&(n.locked?a===r.length-1:0===a)?i.draggable.drag.pipe(Kt(e),Kt(t),Object(w.a)((function(e){var t=e.mouseEvent;return Oz({changeContainer:!0},i,{mouseEvent:t})}))):Object(vt.a)(Oz({changeContainer:o},i))}},{key:"calculateBefore",value:function(e){var t=e.draggable,i=e.target,n=e.mouseEvent,r=e.changeContainer,a=void 0!==r&&r,o=i.element.nativeElement,s=!1;a?(s=BE(o).left+o.offsetWidth/2>n.pageX,this.localization.rtl&&(s=!s)):s=NE(t.element.nativeElement,o);return s}},{key:"enter",value:function(e){var t=e.target,i=e.before;this.hint.enable(),this.localization.rtl&&(i=!i),this.cue.position(GE(t.element.nativeElement,i))}},{key:"leave",value:function(){this.hint.disable(),this.cue.hide()}},{key:"drop",value:function(e){var t=e.draggable,i=e.target,n=e.before,r=e.changeContainer;this.reorderService.reorder({before:n,changeContainer:r,source:t.context.column,target:i.context.column})}},{key:"headerClass",get:function(){return!this.scrollable}},{key:"sortableLabel",get:function(){return this.localization.get("sortable")}},{key:"unlockedColumnsCount",get:function(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}},{key:"showFilterMenu",get:function(){return!this.columnMenu&&"string"==typeof(e=this.filterable)&&e.indexOf("menu")>-1;var e}},{key:"showFilterRow",get:function(){return FE(this.filterable)}},{key:"columnLevels",get:function(){return new Array((this.totalColumnLevels||0)+1)}},{key:"leafColumns",get:function(){return this._leafColumns}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Rb(jE),y.Rb(XE),y.Rb(JE),y.Rb(YE),y.Rb(bA),y.Rb(CA),y.Rb(cr),y.Rb(y.h))},e.\u0275cmp=y.Lb({type:e,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,t){var i;1&e&&y.Qc(lz,!0),2&e&&y.zc(i=y.hc())&&(t.dropTargets=i)},hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-grid-header",t.headerClass)},inputs:{columns:"columns",groups:"groups",sort:"sort",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",totalColumnsCount:"totalColumnsCount",totalColumnLevels:"totalColumnLevels",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[y.Cb],attrs:Hx,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-group-cell k-header","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header","role","presentation","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header"],["role","presentation","kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-header",3,"logicalRowIndex","logicalColIndex"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","k-filterable","k-first","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","k-first","k-filterable","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle","keydown"],[3,"column","filter",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable",4,"ngIf"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[3,"column","filter"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable"],[3,"templateContext"],["aria-hidden","true",1,"k-link",3,"click"],["link",""],[3,"ngClass"],["class","k-sort-order",4,"ngIf"],["role","status",1,"k-sort-status",2,"position","absolute","left","-10000px",3,"innerHtml"],[1,"k-sort-order"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox"],[1,"k-checkbox-label"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"]],template:function(e,t){1&e&&y.Jc(0,pS,2,2,"ng-template",0),2&e&&y.oc("ngIf",!0)},directives:function(){return[b.j,b.i,zM,DM,lz,Ai,bz,b.h,b.k,Lz,sP,EM,Fz,iA,Pz,XD]},styles:[".k-column-resizer[_ngcontent-%COMP%] {\n            cursor: col-resize;\n            display: block;\n            height: 1000%;\n            position: absolute;\n            top: 0;\n            width: .5em;\n        }"]}),e}(),Rz=function(e){return e.nativeElement.parentElement.offsetWidth},Dz=function(e){return PI(e).filter((function(e){return!e.isColumnGroup}))},Mz=function(e){var t=e.originalEvent;t.stopPropagation(),t.preventDefault()},zz=function(e){return!(!e.parent||!e.parent.isSpanColumn)},Pz=(($R=function(){function e(t,i,n,r,a,o){_classCallCheck(this,e),this.draggable=t,this.element=i,this.service=n,this.zone=r,this.cdr=a,this.localization=o,this.columns=[],this.subscriptions=new bt.a,this.rtl=!1}return _createClass(e,[{key:"autoFit",value:function(){var e=this,t=Dz(this.columns),i=HI([this.column]).filter((function(e){return uI(e.resizable)})),n=i.map((function(i){var n=zz(i),r=!!n&&i.parent.childColumns.last===i,a=function(e,t){for(var i=0,n=0,r=0;i<t.length;){var a=t[i],o=zz(a);if(a===e)break;n--<=0&&o&&(r+=n=a.parent.childColumns.length-1),i++}return i-r}(i,t);return{column:i,headerIndex:e.columnsForLevel(i.level).indexOf(i),index:a,isLastInSpan:r,isParentSpan:n,level:i.level}}));i.forEach((function(e){return e.width=0})),this.service.measureColumns(n)}},{key:"ngOnInit",value:function(){var e=this,t=this.service.changes.pipe(Object(Wt.a)((function(){return e.column.resizable})),Object(Wt.a)((function(t){return sI(t.columns.find((function(t){return t===e.column})))})));this.subscriptions.add(t.pipe(Object(Wt.a)((function(e){return"start"===e.type}))).subscribe(this.initState.bind(this))),this.subscriptions.add(t.pipe(Object(Wt.a)((function(e){return"resizeColumn"===e.type}))).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(Object(Wt.a)((function(e){return"start"===e.type})),Object(Wt.a)(this.shouldUpdate.bind(this)),Object(Nt.a)(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular((function(){return e.draggable.kendoPress.pipe(Object(Ut.a)(Mz),Object(Ut.a)((function(){return e.service.start(e.column)})),Object(Bt.a)((t=e.draggable.kendoRelease,function(e){return Object(vt.a)(e).pipe(ti(150),Kt(t))})),Object(Bt.a)(function(e,t){return function(i){return t.kendoDrag.pipe(Kt(t.kendoRelease.pipe(Object(Ut.a)((function(){return e.end()})))),Object(w.a)((function(e){var t=e.pageX;return{originalX:i.pageX,pageX:t}})))}}(e.service,e.draggable))).subscribe((function(t){var i=t.pageX,n=t.originalX;e.service.resizeColumns((i-n)/(e.column.resizeStartWidth||e.column.width)*100)}));var t}))),this.subscriptions.add(t.pipe(Object(Wt.a)((function(e){return"autoFitComplete"===e.type}))).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(t.pipe(Object(Wt.a)((function(e){return"triggerAutoFit"===e.type}))).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.localization.changes.subscribe((function(t){var i=t.rtl;return e.rtl=i})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"shouldUpdate",value:function(){return!Dz(this.columns).map((function(e){return e.width})).some(lI)}},{key:"initColumnWidth",value:function(){this.column.width=Rz(this.element)}},{key:"initState",value:function(){this.column.resizeStartWidth=Rz(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}},{key:"resize",value:function(e){var t,i,n,r=e.deltaPercent,a=(t=this.column.resizeStartWidth,n=(i=r)<0?-1:1,Math.ceil(Math.abs(i)/100*t)*n);uI(this.rtl)&&(a*=-1);var o=Math.max(this.column.resizeStartWidth+a,this.column.minResizableWidth),s=o>this.column.minResizableWidth?a:this.column.minResizableWidth-this.column.resizeStartWidth;this.updateWidth(this.column,o),this.service.resizeTable(this.column,s)}},{key:"sizeToFit",value:function(e){var t=e.columns,i=e.widths,n=t.indexOf(this.column),r=Math.max.apply(Math,_toConsumableArray(i.map((function(e){return e[n]}))))+1,a=r-this.column.resizeStartWidth;this.updateWidth(this.column,r),this.service.resizeTable(this.column,a)}},{key:"updateWidth",value:function(e,t){e.width=t,this.cdr.markForCheck()}},{key:"columnsForLevel",value:function(e){return LI(this.columns?this.columns.filter((function(t){return t.level===e})):[])}},{key:"visible",get:function(){return this.column.resizable?"block":"none"}},{key:"leftStyle",get:function(){return uI(this.rtl)?0:null}},{key:"rightStyle",get:function(){return uI(this.rtl)?null:0}}]),e}()).\u0275fac=function(e){return new(e||$R)(y.Rb(Ai,1),y.Rb(y.m),y.Rb(PE),y.Rb(y.A),y.Rb(y.h),y.Rb(cr))},$R.\u0275dir=y.Mb({type:$R,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&y.gc("dblclick",(function(){return t.autoFit()})),2&e&&y.Ic("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),$R),Fz=((ZR=function(){function e(t,i,n,r){var a=this;_classCallCheck(this,e),this.selectionService=t,this.el=i,this.renderer=n,this.ngZone=r,this.selectAllChange=new y.o,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular((function(){a.destroyClick=a.renderer.listen(a.el.nativeElement,"click",a.onClick.bind(a))}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.setState()}},{key:"ngOnChanges",value:function(){this.stateSet=!0}},{key:"ngOnDestroy",value:function(){this.destroyClick&&this.destroyClick()}},{key:"onClick",value:function(){var e=this,t=this.el.nativeElement.checked,i=this.selectionService.options;this.selectAllChange.emit(t?"checked":"unchecked"),i.enabled&&"multiple"===i.mode&&this.ngZone.run((function(){e.selectionService.updateAll(t)}))}},{key:"setState",value:function(){var e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,t=this.el.nativeElement;this.renderer.setProperty(t,"indeterminate",!sI(e)),this.renderer.setProperty(t,"checked",!!sI(e)&&e)}},{key:"stateToBool",value:function(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}}]),e}()).\u0275fac=function(e){return new(e||ZR)(y.Rb(HO),y.Rb(y.m),y.Rb(y.F),y.Rb(y.A))},ZR.\u0275dir=y.Mb({type:ZR,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&y.Fb("type",t.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[y.Cb]}),ZR),Lz=((KR=function(){function e(t,i,n){_classCallCheck(this,e),this.filterService=t,this.popupService=i,this.localization=n,this.filterLabel=this.localization.get("filter")}return _createClass(e,[{key:"toggle",value:function(e,t){return this.popupRef=this.popupService.open(e,t,this.popupRef),!1}},{key:"close",value:function(){this.popupService.destroy()}},{key:"hasFilters",get:function(){return iM(this.filter,(this.column||{}).field).length>0}}]),e}()).\u0275fac=function(e){return new(e||KR)(y.Rb(cE),y.Rb(jE),y.Rb(cr))},KR.\u0275cmp=y.Lb({type:KR,selectors:[["kendo-grid-filter-menu"]],inputs:{column:"column",filter:"filter"},decls:5,vars:4,consts:[["href","#",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-filter"],["template",""],[3,"column","filter","close"]],template:function(e,t){if(1&e){var i=y.Yb();y.Xb(0,"a",0,1),y.gc("click",(function(){y.Cc(i);var e=y.Ac(1),n=y.Ac(4);return t.toggle(e,n)})),y.Sb(2,"span",2),y.Wb(),y.Jc(3,vS,1,2,"ng-template",null,3,y.Kc)}2&e&&(y.oc("ngClass",y.rc(2,gS,t.hasFilters)),y.Fb("title",t.filterLabel))},directives:function(){return[b.h,Nz]},encapsulation:2}),KR),jz=function(e){var t=e.value,i=e.operator;return!hI(t)||function(e){return"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e}(i)},Vz=function e(t,i,n){return t.reduce((function(t,r){return t||(r.filters?e(r.filters,i,r):r.field===i?n:t)}),void 0)},Bz=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"and",n=Vz((e||{}).filters||[],t);return sI(n)?n.logic:i},Nz=((CD=function(){function e(t,i,n,r){_classCallCheck(this,e),this.parentService=t,this.childService=i,this.localization=n,this.cd=r,this.close=new y.o,this.actionsClass="k-action-buttons k-button-group",this._templateContext={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.childService.changes.subscribe((function(t){return e._childFilter=t})),this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"submit",value:function(){var e=function(e){return e.filters=e.filters.filter(jz),e}(this.childFilter);if(e.filters.length){var t=this.filter||{filters:[],logic:"and"};nM(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}},{key:"reset",value:function(){var e=this.filter||{filters:[],logic:"and"};nM(e,this.column.field),this.parentService.filter(e),this.close.emit()}},{key:"filter",get:function(){return this._filter},set:function(e){this._filter=JD(e)}},{key:"childFilter",get:function(){return sI(this._childFilter)||(this._childFilter={filters:iM(this.filter,(this.column||{}).field),logic:Bz(this.filter,(this.column||{}).field)}),this._childFilter}},{key:"disabled",get:function(){return!this.childFilter.filters.some(jz)}},{key:"templateContext",get:function(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}},{key:"hasTemplate",get:function(){return sI(this.column)&&sI(this.column.filterMenuTemplateRef)}},{key:"clearText",get:function(){return this.localization.get("filterClearButton")}},{key:"filterText",get:function(){return this.localization.get("filterFilterButton")}}]),e}()).\u0275fac=function(e){return new(e||CD)(y.Rb(cE,4),y.Rb(cE),y.Rb(cr),y.Rb(y.h))},CD.\u0275cmp=y.Lb({type:CD,selectors:[["kendo-grid-filter-menu-container"]],inputs:{actionsClass:"actionsClass",filter:"filter",column:"column"},outputs:{close:"close"},features:[y.Db([cE])],decls:10,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button"],["type","submit",1,"k-button","k-primary",3,"disabled"],["kendoFilterMenuHost","",3,"filterService","column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(y.Xb(0,"form",0),y.gc("submit",(function(){return t.submit()}))("reset",(function(){return t.reset()})),y.Xb(1,"div",1),y.Vb(2,2),y.Jc(3,mS,2,3,"ng-container",3),y.Jc(4,kS,2,1,"ng-container",3),y.Ub(),y.Xb(5,"div",4),y.Xb(6,"button",5),y.Lc(7),y.Wb(),y.Xb(8,"button",6),y.Lc(9),y.Wb(),y.Wb(),y.Wb(),y.Wb()),2&e&&(y.Eb(2),y.oc("ngSwitch",t.hasTemplate),y.Eb(1),y.oc("ngSwitchCase",!1),y.Eb(1),y.oc("ngSwitchCase",!0),y.Eb(1),y.oc("ngClass",t.actionsClass),y.Eb(2),y.Mc(t.clearText),y.Eb(1),y.oc("disabled",t.disabled),y.Eb(1),y.Mc(t.filterText))},directives:function(){return[ot,U,Ze,b.l,b.m,b.h,Yz,b.j,b.o]},encapsulation:2}),CD),Hz=((kD=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.call(this,null)}return _createClass(i,[{key:"operatorChange",value:function(e){this.currentOperator=e}},{key:"filterChange",value:function(e){this.applyFilter(e)}},{key:"updateFilter",value:function(e){return Object.assign(this.currentFilter,e),this.filter}},{key:"onChange",value:function(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}},{key:"hostClasses",get:function(){return!1}},{key:"currentFilter",get:function(){return this._currentFilter},set:function(e){this._currentFilter=e}}]),i}(fM)).\u0275fac=function(e){return new(e||kD)},kD.\u0275cmp=y.Lb({type:kD,selectors:[["kendo-grid-filter-menu-input-wrapper"]],inputs:{currentFilter:"currentFilter",filterService:"filterService"},features:[y.Bb],ngContentSelectors:N_,decls:2,vars:3,consts:[["textField","text","valueField","value",3,"data","value","valuePrimitive","valueChange"]],template:function(e,t){1&e&&(y.nc(),y.Xb(0,"kendo-dropdownlist",0),y.gc("valueChange",(function(e){return t.operatorChange(e)})),y.Wb(),y.mc(1)),2&e&&y.oc("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},directives:[Fs],encapsulation:2}),kD),Gz=((bD=function e(){_classCallCheck(this,e),this.operators=[]}).\u0275fac=function(e){return new(e||bD)},bD.\u0275cmp=y.Lb({type:bD,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService"},decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-filter-menu-input-wrapper",0),y.Sb(1,"input",1),y.Wb()),2&e&&(y.oc("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),y.Eb(1),y.oc("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[Hz,P,cM,W,at],encapsulation:2}),bD),Wz=((yD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,null,e)).logicOperators=eM(n.localization),n.filter={filters:[],logic:"and"},n.extra=!0,n}return _createClass(i,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=eM(this.localization),_get(_getPrototypeOf(i.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return QD(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return QD(1,this.filter,(this.column||{}).field,this.operator)}}]),i}(gM)).\u0275fac=function(e){return new(e||yD)(y.Rb(cr))},yD.\u0275cmp=y.Lb({type:yD,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[y.Bb],decls:3,vars:7,consts:[[3,"currentFilter","operators","filterService","column","filter"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter"]],template:function(e,t){1&e&&(y.Sb(0,"kendo-grid-string-filter-menu-input",0),y.Jc(1,CS,1,3,"kendo-dropdownlist",1),y.Jc(2,wS,1,5,"kendo-grid-string-filter-menu-input",2)),2&e&&(y.oc("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter),y.Eb(1),y.oc("ngIf",t.extra),y.Eb(1),y.oc("ngIf",t.extra))},directives:[Gz,b.j,Fs],encapsulation:2}),yD),Uz=((mD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,null,e)).logicOperators=eM(n.localization),n.filter={filters:[],logic:"and"},n.extra=!0,n}return _createClass(i,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=eM(this.localization),_get(_getPrototypeOf(i.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return QD(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return QD(1,this.filter,(this.column||{}).field,this.operator)}}]),i}(sM)).\u0275fac=function(e){return new(e||mD)(y.Rb(cr))},mD.\u0275cmp=y.Lb({type:mD,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[y.Bb],decls:3,vars:13,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(y.Sb(0,"kendo-grid-numeric-filter-menu-input",0),y.Jc(1,_S,1,3,"kendo-dropdownlist",1),y.Jc(2,xS,1,11,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(y.oc("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),y.Eb(1),y.oc("ngIf",t.extra),y.Eb(1),y.oc("ngIf",t.extra))},directives:function(){return[qz,b.j,Fs]},encapsulation:2}),mD),qz=((gD=function e(){_classCallCheck(this,e),this.operators=[],this.step=1,this.spinners=!0}).\u0275fac=function(e){return new(e||gD)},gD.\u0275cmp=y.Lb({type:gD,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:2,vars:15,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-filter-menu-input-wrapper",0),y.Sb(1,"kendo-numerictextbox",1),y.Wb()),2&e&&(y.oc("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),y.Eb(1),y.oc("filterDelay",0)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step))},directives:[Hz,Ym,cM],encapsulation:2}),gD),Xz=((vD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,null,e)).logicOperators=eM(n.localization),n.filter={filters:[],logic:"and"},n.extra=!0,n}return _createClass(i,[{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"localizationChange",value:function(){this.logicOperators=eM(this.localization),_get(_getPrototypeOf(i.prototype),"localizationChange",this).call(this)}},{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return QD(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return QD(1,this.filter,(this.column||{}).field,this.operator)}}]),i}(xM)).\u0275fac=function(e){return new(e||vD)(y.Rb(cr))},vD.\u0275cmp=y.Lb({type:vD,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[y.Bb],decls:3,vars:16,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"]],template:function(e,t){1&e&&(y.Sb(0,"kendo-grid-date-filter-menu-input",0),y.Jc(1,SS,1,3,"kendo-dropdownlist",1),y.Jc(2,TS,1,14,"kendo-grid-date-filter-menu-input",2)),2&e&&(y.oc("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),y.Eb(1),y.oc("ngIf",t.extra),y.Eb(1),y.oc("ngIf",t.extra))},directives:function(){return[Kz,b.j,Fs]},encapsulation:2}),vD),Jz=((pD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,null,e)).filter={filters:[],logic:"and"},n.idPrefix=Ei(),n}return _createClass(i,[{key:"radioId",value:function(e){return"".concat(this.idPrefix,"_").concat(e)}},{key:"onChange",value:function(e){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e}))}},{key:"isSelected",value:function(e){return this.filtersByField(this.column.field).some((function(t){return t.value===e}))}},{key:"hostClasses",get:function(){return!1}}]),i}(CM)).\u0275fac=function(e){return new(e||pD)(y.Rb(cr))},pD.\u0275cmp=y.Lb({type:pD,selectors:[["kendo-grid-boolean-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService"},features:[y.Bb],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio",1,"k-radio",3,"name","checked","change"],[1,"k-radio-label"]],template:function(e,t){1&e&&(y.Xb(0,"ul",0),y.Jc(1,IS,4,5,"li",1),y.Wb()),2&e&&(y.Eb(1),y.oc("ngForOf",t.items))},directives:[b.i],encapsulation:2}),pD),Yz=((dD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){return _classCallCheck(this,i),t.call(this,e,n)}return _createClass(i,[{key:"componentType",value:function(){return sI(this.column)&&!hI(this.column.filter)?{boolean:Jz,date:Xz,numeric:Uz,text:Wz}[this.column.filter]:Wz}},{key:"initComponent",value:function(e){_get(_getPrototypeOf(i.prototype),"initComponent",this).call(this,e),this.component.instance.filterService=this.filterService}}]),i}(XM)).\u0275fac=function(e){return new(e||dD)(y.Rb(y.Q),y.Rb(y.j))},dD.\u0275dir=y.Mb({type:dD,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService"},features:[y.Bb]}),dD),Kz=((fD=function(){function e(t){_classCallCheck(this,e),this.popupService=t,this.operators=[]}return _createClass(e,[{key:"open",value:function(e){this.subscription=this.popupService.onClose.pipe(Object(Wt.a)((function(){return e.isActive}))).subscribe((function(e){return e.preventDefault()}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||fD)(y.Rb(jE))},fD.\u0275cmp=y.Lb({type:fD,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber"},decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""]],template:function(e,t){if(1&e){var i=y.Yb();y.Xb(0,"kendo-grid-filter-menu-input-wrapper",0),y.Xb(1,"kendo-datepicker",1,2),y.gc("open",(function(){y.Cc(i);var e=y.Ac(2);return t.open(e)})),y.Wb(),y.Wb()}2&e&&(y.oc("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),y.Eb(1),y.oc("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber))},directives:[Hz,_w,cM],encapsulation:2}),fD),Zz=((hD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[Wz,OI,Uz,Xz,Jz,qM.exports()]}}]),e}()).\u0275mod=y.Pb({type:hD}),hD.\u0275inj=y.Ob({factory:function(e){return new(e||hD)},imports:[[qM],qM]}),hD),$z=((uD=function(){function e(t,i,n){_classCallCheck(this,e),this.element=t,this.ngZone=i,this.renderer=n,this.reset=new y.o,this.apply=new y.o,this.columnChange=new y.o,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}return _createClass(e,[{key:"isDisabled",value:function(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find((function(t){return t!==e&&!t.hidden})))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}},{key:"ngOnInit",value:function(){var e=this;this.element&&this.ngZone.runOutsideAngular((function(){e.domSubscriptions=e.renderer.listen(e.element.nativeElement,"click",(function(t){if(xE(t.target,"k-checkbox"))if(e.autoSync){var i=parseInt(t.target.getAttribute("data-index"),10),n=e.columns[i],r=!t.target.checked;Boolean(n.hidden)!==r&&e.ngZone.run((function(){n.hidden=r,e.columnChange.emit([n])}))}else e.updateDisabled()}))}))}},{key:"ngOnDestroy",value:function(){this.domSubscriptions&&this.domSubscriptions()}},{key:"cancelChanges",value:function(){var e=this;this.forEachCheckBox((function(t,i){t.checked=!e.columns[i].hidden})),this.updateDisabled(),this.reset.emit()}},{key:"applyChanges",value:function(){var e=this,t=[];this.forEachCheckBox((function(i,n){var r=e.columns[n],a=!i.checked;Boolean(r.hidden)!==a&&(r.hidden=a,t.push(r))})),this.updateDisabled(),this.apply.emit(t)}},{key:"forEachCheckBox",value:function(e){for(var t=this.element.nativeElement.getElementsByClassName("k-checkbox"),i=t.length,n=0;n<i;n++)e(t[n],n)}},{key:"updateDisabled",value:function(){if(!this.allowHideAll||this.hasLocked){var e=[];if(this.forEachCheckBox((function(t,i){t.checked&&e.push({checkbox:t,index:i}),t.disabled=!1})),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){var t=this.columns,i=e.filter((function(e){return!t[e.index].locked}));1===i.length&&(i[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}}},{key:"updateColumnState",value:function(){this.hasLocked=this.allColumns.filter((function(e){return e.locked&&(!e.hidden||!1!==e.includeInChooser)})).length>0,this.hasVisibleLocked=this.allColumns.filter((function(e){return e.locked&&!e.hidden})).length>0,this.unlockedCount=this.columns.filter((function(e){return!e.locked&&!e.hidden})).length;var e=this.allColumns.filter((function(e){return!1===e.includeInChooser&&!e.hidden}));e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter((function(e){return!e.locked})).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}},{key:"className",get:function(){return!0}},{key:"columns",set:function(e){this._columns=e.filter((function(e){return!1!==e.includeInChooser})),this.allColumns=e,this.updateColumnState()},get:function(){return this._columns}}]),e}()).\u0275fac=function(e){return new(e||uD)(y.Rb(y.m),y.Rb(y.A),y.Rb(y.F))},uD.\u0275cmp=y.Lb({type:uD,selectors:[["kendo-grid-columnlist"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-column-list-wrapper",t.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"click"]],template:function(e,t){1&e&&(y.Xb(0,"div",0),y.Jc(1,OS,4,4,"label",1),y.Wb(),y.Jc(2,ES,5,3,"div",2)),2&e&&(y.Eb(1),y.oc("ngForOf",t.columns),y.Eb(1),y.oc("ngIf",!t.autoSync))},directives:[b.i,b.j,b.h],encapsulation:2}),uD),Qz=((cD=function(){function e(t,i,n,r,a,o){_classCallCheck(this,e),this.localization=t,this.columnInfoService=i,this.popupService=n,this.ngZone=r,this.renderer=a,this.changeDetector=o,this.autoSync=!1,this.allowHideAll=!0}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.close()}},{key:"toggle",value:function(e,t){var i=this;if(this.popupRef)this.close();else{var n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:n},popupAlign:{vertical:"top",horizontal:n}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular((function(){return i.closeClick=i.renderer.listen("document","click",(function(t){var n=t.target;IE(n,(function(t){return t===i.popupRef.popupElement||t===e}))||i.close()}))}))}}},{key:"onApply",value:function(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}},{key:"onChange",value:function(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}},{key:"close",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}},{key:"detachClose",value:function(){this.closeClick&&(this.closeClick(),this.closeClick=null)}},{key:"columns",get:function(){return this.columnInfoService.leafNamedColumns}}]),e}()).\u0275fac=function(e){return new(e||cD)(y.Rb(cr),y.Rb(kA),y.Rb(ra),y.Rb(y.A),y.Rb(y.F),y.Rb(y.h))},cD.\u0275cmp=y.Lb({type:cD,selectors:[["kendo-grid-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,t){if(1&e){var i=y.Yb();y.Xb(0,"button",0,1),y.gc("click",(function(){y.Cc(i);var e=y.Ac(1),n=y.Ac(4);return t.toggle(e,n)})),y.Sb(2,"span",2),y.Wb(),y.Jc(3,AS,3,6,"ng-template",null,3,y.Kc)}2&e&&y.Fb("title",t.localization.get("columns"))},directives:[$z],encapsulation:2}),cD),eP=((lD=function(){function e(){_classCallCheck(this,e),this.closeMenu=new y.o}return _createClass(e,[{key:"close",value:function(){this.closeMenu.emit()}}]),e}()).\u0275fac=function(e){return new(e||lD)},lD.\u0275prov=y.Nb({token:lD,factory:lD.\u0275fac}),lD),tP=((sD=function(){function e(){_classCallCheck(this,e),this.hostClass=!0}return _createClass(e,[{key:"ngOnInit",value:function(){if(Object(y.Y)()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}},{key:"close",value:function(){this.service.close()}}]),e}()).\u0275fac=function(e){return new(e||sD)},sD.\u0275dir=y.Mb({type:sD,hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"}}),sD),iP=((oD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this)).localization=e,a.columnInfoService=n,a.changeDetector=r,a.expand=new y.o,a.collapse=new y.o,a.expanded=!1,a.actionsClass="k-columnmenu-actions",a}return _createClass(i,[{key:"onApply",value:function(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}},{key:"columns",get:function(){return this.columnInfoService.leafNamedColumns}}]),i}(tP)).\u0275fac=function(e){return new(e||oD)(y.Rb(cr),y.Rb(kA),y.Rb(y.h))},oD.\u0275cmp=y.Lb({type:oD,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[y.Bb],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","apply"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-columnmenu-item",0),y.gc("collapse",(function(){return t.collapse.emit()}))("expand",(function(){return t.expand.emit()})),y.Jc(1,RS,1,6,"ng-template",1),y.Wb()),2&e&&y.oc("text",t.localization.get("columns"))("expanded",t.expanded)},directives:function(){return[aP,rP,$z]},encapsulation:2}),oD),nP=((aD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).localization=e,n.expand=new y.o,n.collapse=new y.o,n.expanded=!1,n.actionsClass="k-columnmenu-actions",n}return i}(tP)).\u0275fac=function(e){return new(e||aD)(y.Rb(cr))},aD.\u0275cmp=y.Lb({type:aD,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[y.Bb],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"column","filter","actionsClass","close"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-columnmenu-item",0),y.gc("collapse",(function(){return t.collapse.emit()}))("expand",(function(){return t.expand.emit()})),y.Jc(1,DS,1,3,"ng-template",1),y.Wb()),2&e&&y.oc("text",t.localization.get("filter"))("expanded",t.expanded)},directives:function(){return[aP,rP,Nz]},encapsulation:2}),aD),rP=((rD=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||rD)(y.Rb(y.N,8))},rD.\u0275dir=y.Mb({type:rD,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),rD),aP=((nD=function(){function e(){_classCallCheck(this,e),this.itemClick=new y.o,this.expand=new y.o,this.collapse=new y.o,this.contentState="collapsed"}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.expanded&&this.updateContentState()}},{key:"onClick",value:function(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}},{key:"updateContentState",value:function(){this.contentState=this.expanded?"expanded":"collapsed"}},{key:"iconClass",get:function(){return"k-i-".concat(this.icon)}}]),e}()).\u0275fac=function(e){return new(e||nD)},nD.\u0275cmp=y.Lb({type:nD,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,rP,!0),2&e&&y.zc(n=y.hc())&&(t.contentTemplate=n.first)},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[y.Cb],decls:4,vars:7,consts:[[1,"k-columnmenu-item",3,"click"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(y.Xb(0,"div",0),y.gc("click",(function(e){return t.onClick(e)})),y.Jc(1,MS,1,1,"span",1),y.Lc(2),y.Wb(),y.Jc(3,zS,3,2,"div",2)),2&e&&(y.Jb("k-state-selected",t.selected)("k-state-disabled",t.disabled),y.Eb(1),y.oc("ngIf",t.icon),y.Eb(1),y.Nc(" ",t.text," "),y.Eb(1),y.oc("ngIf",t.contentTemplate))},directives:[b.j,b.h,b.o],encapsulation:2,data:{animation:[Object(xr.j)("state",[Object(xr.g)("collapsed",Object(xr.h)({display:"none"})),Object(xr.g)("expanded",Object(xr.h)({display:"block"})),Object(xr.i)("collapsed => expanded",[Object(xr.h)({height:"0px",display:"block"}),Object(xr.e)("100ms ease-in",Object(xr.h)({height:"*"}))]),Object(xr.i)("expanded => collapsed",[Object(xr.h)({height:"*"}),Object(xr.e)("100ms ease-in",Object(xr.h)({height:"0px"}))])])]}}),nD),oP=((iD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).localization=e,r.sortService=n,r}return _createClass(i,[{key:"toggleSort",value:function(e){var t=this.service.column.field,i=_z(this.service.sortable),n=i.mode,r=i.allowUnsort,a=this.descriptor,o="multiple"===n?this.service.sort.filter((function(e){return e.field!==t})):[];if(a&&a.dir===e){if(!r)return}else o.push({field:t,dir:e});this.sortService.sort(o),this.close()}},{key:"sortedAsc",get:function(){var e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}},{key:"sortedDesc",get:function(){var e=this.descriptor;return e&&"desc"===e.dir}},{key:"descriptor",get:function(){var e=this;return[].concat(this.service.sort||[]).find((function(t){return t.field===e.service.column.field}))}}]),i}(tP)).\u0275fac=function(e){return new(e||iD)(y.Rb(cr),y.Rb(CA))},iD.\u0275cmp=y.Lb({type:iD,selectors:[["kendo-grid-columnmenu-sort"]],features:[y.Bb],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-columnmenu-item",0),y.gc("itemClick",(function(){return t.toggleSort("asc")})),y.Wb(),y.Xb(1,"kendo-grid-columnmenu-item",1),y.gc("itemClick",(function(){return t.toggleSort("desc")})),y.Wb()),2&e&&(y.oc("text",t.localization.get("sortAscending"))("selected",t.sortedAsc),y.Eb(1),y.oc("text",t.localization.get("sortDescending"))("selected",t.sortedDesc))},directives:[aP],encapsulation:2}),iD),sP=((tD=function(){function e(t,i,n){_classCallCheck(this,e),this.popupService=t,this.localization=i,this.service=n,this.standalone=!0,this.settings={},this.sortable=!0,this.expandedFilter=!1,this.expandedColumns=!1,this.closeSubscription=n.closeMenu.subscribe(this.close.bind(this))}return _createClass(e,[{key:"ngOnChanges",value:function(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}},{key:"ngOnDestroy",value:function(){this.close(),this.closeSubscription.unsubscribe()}},{key:"toggle",value:function(e,t,i){e.preventDefault(),this.expandedFilter=!this.hasColumnChooser,this.expandedColumns=!this.hasFilter,this.popupRef=this.popupService.open(t,i,this.popupRef,"k-grid-columnmenu-popup")}},{key:"close",value:function(){this.popupService.destroy(),this.popupRef=null}},{key:"onColumnsExpand",value:function(){this.expandedColumns=!0,this.expandedFilter=!1}},{key:"onFilterExpand",value:function(){this.expandedFilter=!0,this.expandedColumns=!1}},{key:"isActive",get:function(){var e=this;return this.hasFilter&&iM(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find((function(t){return t.field===e.column.field}))}},{key:"hasFilter",get:function(){return xz(this.settings,this.column)}},{key:"hasSort",get:function(){return Sz(this.settings,this.column)}},{key:"hasColumnChooser",get:function(){return Iz(this.settings)}},{key:"hasLock",get:function(){return Tz(this.settings,this.column)}}]),e}()).\u0275fac=function(e){return new(e||tD)(y.Rb(jE),y.Rb(cr),y.Rb(eP))},tD.\u0275cmp=y.Lb({type:tD,selectors:[["kendo-grid-column-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[y.Db([eP]),y.Cb],decls:7,vars:4,consts:[["href","#","tabindex","-1",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"service",4,"ngIf"],[3,"service","expanded","expand",4,"ngIf"],[3,"service"],[3,"service","expanded","expand"]],template:function(e,t){if(1&e){var i=y.Yb();y.Xb(0,"a",0,1),y.gc("click",(function(e){y.Cc(i);var n=y.Ac(1),r=y.Ac(4);return t.toggle(e,n,r)})),y.Sb(2,"span",2),y.Wb(),y.Jc(3,FS,1,5,"ng-template",null,3,y.Kc),y.Jc(5,NS,4,4,"ng-template",null,4,y.Kc)}2&e&&(y.oc("ngClass",y.rc(2,HS,t.isActive)),y.Fb("title",t.localization.get("columnMenu")))},directives:function(){return[b.h,b.o,b.j,oP,lP,iP,nP]},encapsulation:2}),tD),lP=((eD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this)).localization=e,a.columnInfoService=n,a.changeDetector=r,a}return _createClass(i,[{key:"toggleColumn",value:function(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}},{key:"toggleHierarchy",value:function(e){for(var t=this.service.column;t.parent;)t=t.parent;for(var i=[t],n=[];i.length;){var r=i.shift();r.locked=e,n.push(r),r.hasChildren&&i.push.apply(i,_toConsumableArray(r.childrenArray))}this.columnInfoService.changeLocked(n)}},{key:"text",get:function(){return this.localization.get(this.locked?"unlock":"lock")}},{key:"icon",get:function(){return this.locked?"unlock":"lock"}},{key:"disabled",get:function(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}},{key:"locked",get:function(){return this.service.column.locked}}]),i}(tP)).\u0275fac=function(e){return new(e||eD)(y.Rb(cr),y.Rb(kA),y.Rb(y.h))},eD.\u0275cmp=y.Lb({type:eD,selectors:[["kendo-grid-columnmenu-lock"]],features:[y.Bb],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid-columnmenu-item",0),y.gc("itemClick",(function(){return t.toggleColumn()})),y.Wb()),2&e&&y.oc("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[aP],encapsulation:2}),eD),cP=((QR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[Qz,nP,aP,rP,oP,lP,iP,iI,sP]}}]),e}()).\u0275mod=y.Pb({type:QR}),QR.\u0275inj=y.Ob({factory:function(e){return new(e||QR)},imports:[[b.b,Zz]]}),QR),uP=[b.b,Cz,YM,Zz,GM,kz,cP],hP=((DD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[eI,Fz]}}]),e}()).\u0275mod=y.Pb({type:DD}),DD.\u0275inj=y.Ob({factory:function(e){return new(e||DD)},imports:[[].concat(uP)]}),DD),fP=((RD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).parent=e,n}return _createClass(i,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}}]),i}(aI)).\u0275fac=function(e){return new(e||RD)(y.Rb(aI,13))},RD.\u0275cmp=y.Lb({type:RD,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,YT,!0),2&e&&y.zc(n=y.hc())&&(t.template=n.first)},features:[y.Db([{provide:aI,useExisting:Object(y.W)((function(){return RD}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),RD),dP=((AD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).parent=e,n.isCheckboxColumn=!0,n}return _createClass(i,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}}]),i}(aI)).\u0275fac=function(e){return new(e||AD)(y.Rb(aI,13))},AD.\u0275cmp=y.Lb({type:AD,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,YT,!0),2&e&&y.zc(n=y.hc())&&(t.template=n.first)},inputs:{showSelectAll:"showSelectAll"},features:[y.Db([{provide:aI,useExisting:Object(y.W)((function(){return AD}))}]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),AD),pP=((ED=function(){function e(t,i,n,r){var a=this;_classCallCheck(this,e),this.selectionService=t,this.el=i,this.renderer=n,this.ngZone=r,this.type="checkbox",this.ngZone.runOutsideAngular((function(){a.destroyClick=a.renderer.listen(a.el.nativeElement,"click",a.onClick.bind(a)),a.destroyKeyDown=a.renderer.listen(a.el.nativeElement,"keydown",a.onKeyDown.bind(a))}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.setCheckedState()}},{key:"ngOnDestroy",value:function(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}},{key:"onClick",value:function(){var e=this;this.selectionService.options.enabled&&this.ngZone.run((function(){var t=e.selectionService.toggleByIndex(e.itemIndex);t.ctrlKey=!0,t.shiftKey=!1,e.selectionService.changes.emit(t)}))}},{key:"onKeyDown",value:function(e){e.keyCode===Wi.Enter&&this.onClick()}},{key:"setCheckedState",value:function(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}}]),e}()).\u0275fac=function(e){return new(e||ED)(y.Rb(HO),y.Rb(y.m),y.Rb(y.F),y.Rb(y.A))},ED.\u0275dir=y.Mb({type:ED,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&y.Fb("type",t.type)},inputs:{itemIndex:["kendoGridSelectionCheckbox","itemIndex"]}}),ED),vP=((OD=function(){function e(t,i,n,r,a,o,s,l,c,u,h,f){var d=this;_classCallCheck(this,e),this.detailsService=t,this.groupsService=i,this.changeNotification=n,this.editService=r,this.localization=a,this.ngZone=o,this.renderer=s,this.element=l,this.domEvents=c,this.selectionService=u,this.columnInfoService=h,this.navigationService=f,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=xA,this.rowClass=function(){return null},this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe((function(e){return d.cellKeydownHandler(e)})),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}return _createClass(e,[{key:"toggleRow",value:function(e,t){return this.detailsService.toggleRow(e,t),!1}},{key:"isExpanded",value:function(e){return this.detailsService.isExpanded(e.index,e.data)}},{key:"detailButtonStyles",value:function(e){return this.isExpanded(e)?"k-minus":"k-plus"}},{key:"detailButtonTitle",value:function(e){var t=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.localization.get(t)}},{key:"isGroup",value:function(e){return"group"===e.type}},{key:"isDataItem",value:function(e){return!this.isGroup(e)&&!this.isFooter(e)}},{key:"isFooter",value:function(e){return"footer"===e.type}},{key:"isInExpandedGroup",value:function(e){return this.groupsService.isInExpandedGroup(e.groupIndex,!1)}},{key:"isParentGroupExpanded",value:function(e){return this.groupsService.isInExpandedGroup(e.index||e.groupIndex)}},{key:"isOdd",value:function(e){return e.index%2!=0}},{key:"isSelectable",value:function(){return this.selectable&&!1!==this.selectable.enabled}},{key:"isRowSelected",value:function(e){return this.selectionService.isSelected(e.index)}},{key:"trackByWrapper",value:function(e,t){return"data"===t.type&&(t.isEditing=this.editService.hasEdited(t.index)),this.trackBy(e,t)}},{key:"trackByColumns",value:function(e,t){return this.virtualColumns?e:t}},{key:"ngDoCheck",value:function(){this.groupHeaderColumns=this.hasGroupHeaderColumn?LI(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}},{key:"ngOnChanges",value:function(e){Ti("columns",e,!1)&&this.changeNotification.notify()}},{key:"logicalRowIndex",value:function(e){var t=this.skip+e;this.hasDetailTemplate&&(t*=2);var i=1+t,n=this.editService.hasNewItem?1:0,r=FE(this.filterable)?1:0;return i+(this.columnInfoService.totalLevels+r+n)}},{key:"addRowLogicalIndex",value:function(){return this.columnInfoService.totalLevels+1}},{key:"logicalColIndex",value:function(e){return sI(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}},{key:"ngOnInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=e.clickHandler.bind(e),i=e.renderer.listen(e.element.nativeElement,"mousedown",t),n=e.renderer.listen(e.element.nativeElement,"click",t),r=e.renderer.listen(e.element.nativeElement,"contextmenu",t);e.clickSubscription=function(){i(),n(),r()}}));var t=this.localization.get("noRecords");this.localization.changes.subscribe((function(){e.noRecordsText===t&&(e.noRecordsText=e.localization.get("noRecords"),t=e.noRecordsText)}))}},{key:"ngOnDestroy",value:function(){this.clickSubscription&&this.clickSubscription(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}},{key:"isEditingCell",value:function(e,t){return this.editService.isEditing()&&this.editService.isEditedColumn(e,t)}},{key:"isEditingRow",value:function(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}},{key:"showGroupHeader",value:function(e){return!e.data.skipHeader}},{key:"clickHandler",value:function(e){var t,i,n,r,a=this,o=this.element.nativeElement,s=e.target,l=s;do{t=IE(l,TE("td")),i=IE(t,TE("tr")),n=IE(i,TE("tbody")),r=OE(l=n,SE("k-grid"),o)}while(n&&n!==o&&!r);if(t&&!xE(t,"k-hierarchy-cell k-detail-cell k-group-cell")&&!xE(i,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&n===o&&!r&&(this.editService.preventCellClose(),!(s!==t&&RE(s,!1)||TE("label")(s)||xE(s,"k-icon")||OE(s,SE("k-widget k-grid-ignore-click"),t)))){var c=this.cellClickArgs(t,i,e);"mousedown"===e.type?this.domEvents.cellMousedown.emit(c):!c.isEditedColumn&&this.editService.closeCell(e)||("click"===e.type?this.clickTimeout=setTimeout((function(){a.emitCellClick(c)}),0):this.emitCellClick(c))}}},{key:"emitCellClick",value:function(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}},{key:"cellKeydownHandler",value:function(e){e.keyCode===Wi.Enter&&this.clickHandler(e)}},{key:"cellClickArgs",value:function(e,t,i){var n=function(e,t){for(var i=0,n=0;n<t.length;n++){if(t[n]===e)return i;xE(t[n],"k-hierarchy-cell k-group-cell")||i++}}(e,t.cells),r=this.columns.toArray()[n],a=this.lockedColumnsCount+n,o=t.getAttribute("data-kendo-grid-item-index");return{column:r,columnIndex:a,dataItem:-1===(o=o?parseInt(o,10):-1)?this.editService.newDataItem:this.data.at(o-this.skip),isEditedColumn:this.editService.isEditedColumn(o,r),isEditedRow:this.editService.isEdited(o),originalEvent:i,rowIndex:o,type:"keydown"===i.type?"click":i.type}}},{key:"newDataItem",get:function(){return this.editService.newDataItem}},{key:"unlockedColumnsCount",get:function(){return this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length}},{key:"hasGroupHeaderColumn",get:function(){return this.columnsContainer.hasGroupHeaderColumn}},{key:"columnsContainer",get:function(){return this.columnInfoService.columnsContainer}},{key:"columnsSpan",get:function(){return BI(this.columns)}},{key:"allColumnsSpan",get:function(){return BI(this.allColumns||this.columns)}},{key:"colSpan",get:function(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}},{key:"footerColumns",get:function(){return this.isLocked?this.columnsContainer.lockedColumnsToRender:this.columnsContainer.nonLockedColumnsToRender}},{key:"hasDetailTemplate",get:function(){return sI(this.detailTemplate)}}]),e}()).\u0275fac=function(e){return new(e||OD)(y.Rb(KO),y.Rb($O),y.Rb(rE),y.Rb(XO),y.Rb(cr),y.Rb(y.A),y.Rb(y.F),y.Rb(y.m),y.Rb(BO),y.Rb(HO),y.Rb(kA),y.Rb(gA))},OD.\u0275cmp=y.Lb({type:OD,selectors:[["","kendoGridTableBody",""]],inputs:{columns:"columns",groups:"groups",skip:"skip",noRecordsText:"noRecordsText",isLocked:"isLocked",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",trackBy:"trackBy",rowClass:"rowClass",allColumns:"allColumns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",selectable:"selectable",filterable:"filterable",virtualColumns:"virtualColumns"},features:[y.Cb],attrs:GS,decls:3,vars:4,consts:[[3,"ngIf"],["class","k-grid-norecords",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],[1,"k-grid-norecords"],[3,"ngIf","templateContext"],[4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass","k-alt","k-master-row","k-grid-edit-row","k-state-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell","aria-selected","false",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","k-grid-edit-cell","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["class","k-icon","href","#","tabindex","-1",3,"ngClass","click",4,"ngIf"],["href","#","tabindex","-1",1,"k-icon",3,"ngClass","click"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell","aria-selected","false",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex"],[3,"templateContext"]],template:function(e,t){1&e&&(y.Jc(0,JS,4,8,"ng-template",0),y.Jc(1,$S,4,6,"tr",1),y.Jc(2,yT,4,4,"ng-template",2)),2&e&&(y.oc("ngIf",t.editService.hasNewItem),y.Eb(1),y.oc("ngIf",0===(null==t.data?null:t.data.length)||null==t.data),y.Eb(1),y.oc("ngForOf",t.data)("ngForTrackBy",t.trackByWrapper))},directives:function(){return[b.j,b.i,zM,DM,gP,b.h,b.k,EM,sz,b.o]},encapsulation:2}),OD),gP=((ID=function(){function e(t,i,n){_classCallCheck(this,e),this.editService=t,this.idService=i,this.cellContext=n,this.isNew=!1,this._templateContext={},this._editTemplateContext={}}return _createClass(e,[{key:"ngDoCheck",value:function(){this.updateCellContext()}},{key:"ngOnChanges",value:function(e){this.updateTemplateContext()}},{key:"isCommand",value:function(e){return e instanceof fP}},{key:"isFieldEditable",value:function(e,t){return!!sI(e)&&(!!sI(t.editTemplate)||sI(e.group)&&sI(e.group.get(t.field)))}},{key:"updateCellContext",value:function(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}},{key:"updateTemplateContext",value:function(){if(this.column.templateRef){var e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}}},{key:"commandCellClass",get:function(){return this.isCommand(this.column)}},{key:"rowIndex",set:function(e){this._rowIndex=e,this.updateCellContext()},get:function(){return this._rowIndex}},{key:"isEdited",get:function(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;var e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}},{key:"formGroup",get:function(){return this.editService.context(this.rowIndex).group}},{key:"templateContext",get:function(){return this._templateContext}},{key:"editTemplateContext",get:function(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}},{key:"format",get:function(){if(EI(this.column)&&!hI(this.column.format))return gI(this.column.format)}},{key:"isBoundColumn",get:function(){return this.column.field&&!this.column.templateRef}},{key:"isCheckboxColumn",get:function(){return rI(this.column)&&!this.column.templateRef}},{key:"selectionCheckboxId",get:function(){return this.idService.selectionCheckboxId(this.rowIndex)}},{key:"isSpanColumn",get:function(){return nI(this.column)&&!this.column.templateRef}},{key:"childColumns",get:function(){return LI([this.column])}},{key:"isColumnEditable",get:function(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}}]),e}()).\u0275fac=function(e){return new(e||ID)(y.Rb(XO),y.Rb(bA),y.Rb(lE,8))},ID.\u0275cmp=y.Lb({type:ID,selectors:[["","kendoGridCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-command-cell",t.commandCellClass)},inputs:{isNew:"isNew",rowIndex:"rowIndex",column:"column",columnIndex:"columnIndex",dataItem:"dataItem"},features:[y.Cb],attrs:bT,decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"k-checkbox",3,"kendoGridSelectionCheckbox"],[1,"k-checkbox-label"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox",3,"formControl"]],template:function(e,t){1&e&&(y.Vb(0,0),y.Jc(1,ST,5,6,"ng-container",1),y.Jc(2,MT,3,2,"ng-container",1),y.Ub()),2&e&&(y.oc("ngSwitch",t.isEdited),y.Eb(1),y.oc("ngSwitchCase",!1),y.Eb(1),y.oc("ngSwitchCase",!0))},directives:[b.l,b.m,b.j,b.o,b.i,iA,pP,b.n,Ym,W,ct,_w,D,P],pipes:[FM],encapsulation:2}),ID),mP=((TD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o,s){var l;return _classCallCheck(this,i),(l=t.call(this,r,a,null,o,s)).editService=e,l.cellContext=n,l.commandClass=!0,l}return _createClass(i,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"none":""}}]),i}(Xw)).\u0275fac=function(e){return new(e||TD)(y.Rb(XO),y.Rb(lE),y.Rb(y.m),y.Rb(y.F),y.Rb(cr),y.Rb(y.A))},TD.\u0275dir=y.Mb({type:TD,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&y.gc("click",(function(e){return t.onClick(e)})),2&e&&(y.Ic("display",t.visible),y.Jb("k-grid-edit-command",t.commandClass))},features:[y.Bb]}),TD),yP=((SD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o,s){var l;return _classCallCheck(this,i),(l=t.call(this,r,a,null,o,s)).editService=e,l.cellContext=n,l.commandClass=!0,l}return _createClass(i,[{key:"onClick",value:function(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"":"none"}}]),i}(Xw)).\u0275fac=function(e){return new(e||SD)(y.Rb(XO),y.Rb(lE),y.Rb(y.m),y.Rb(y.F),y.Rb(cr),y.Rb(y.A))},SD.\u0275dir=y.Mb({type:SD,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&y.gc("click",(function(e){return t.onClick(e)})),2&e&&(y.Ic("display",t.visible),y.Jb("k-grid-cancel-command",t.commandClass))},features:[y.Bb]}),SD),bP=((xD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o,s){var l;return _classCallCheck(this,i),(l=t.call(this,r,a,null,o,s)).editService=e,l.cellContext=n,l.commandClass=!0,l}return _createClass(i,[{key:"onClick",value:function(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"":"none"}}]),i}(Xw)).\u0275fac=function(e){return new(e||xD)(y.Rb(XO),y.Rb(lE),y.Rb(y.m),y.Rb(y.F),y.Rb(cr),y.Rb(y.A))},xD.\u0275dir=y.Mb({type:xD,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&y.gc("click",(function(e){return t.onClick(e)})),2&e&&(y.Ic("display",t.visible),y.Jb("k-grid-save-command",t.commandClass))},features:[y.Bb]}),xD),kP=((_D=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o,s){var l;return _classCallCheck(this,i),(l=t.call(this,r,a,null,o,s)).editService=e,l.cellContext=n,l.commandClass=!0,l}return _createClass(i,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.remove(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}},{key:"visible",get:function(){return this.isEdited?"none":""}}]),i}(Xw)).\u0275fac=function(e){return new(e||_D)(y.Rb(XO),y.Rb(lE),y.Rb(y.m),y.Rb(y.F),y.Rb(cr),y.Rb(y.A))},_D.\u0275dir=y.Mb({type:_D,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&y.gc("click",(function(e){return t.onClick(e)})),2&e&&(y.Ic("display",t.visible),y.Jb("k-grid-remove-command",t.commandClass))},features:[y.Bb]}),_D),CP=((wD=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o){var s;return _classCallCheck(this,i),(s=t.call(this,n,r,null,a,o)).editService=e,s}return _createClass(i,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.beginAdd()}},{key:"commandClass",get:function(){return!0}}]),i}(Xw)).\u0275fac=function(e){return new(e||wD)(y.Rb(XO),y.Rb(y.m),y.Rb(y.F),y.Rb(cr),y.Rb(y.A))},wD.\u0275dir=y.Mb({type:wD,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&y.gc("click",(function(e){return t.onClick(e)})),2&e&&y.Jb("k-grid-add-command",t.commandClass)},features:[y.Bb]}),wD),wP=[b.b,dt,ft,GM,Cz,ty,Uw],_P=((zD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[fP,dP,pP,YT,aE,$T,mP,yP,bP,kP,CP]}}]),e}()).\u0275mod=y.Pb({type:zD}),zD.\u0275inj=y.Ob({factory:function(e){return new(e||zD)},imports:[[].concat(wP)]}),zD),xP=((MD=function(){function e(){_classCallCheck(this,e),this.columns=[],this.groups=[],this.lockedColumnsCount=0}return _createClass(e,[{key:"footerClass",get:function(){return!this.scrollable}},{key:"columnsToRender",get:function(){return LI(this.columns||[])}}]),e}()).\u0275fac=function(e){return new(e||MD)},MD.\u0275cmp=y.Lb({type:MD,selectors:[["","kendoGridFooter",""]],hostVars:2,hostBindings:function(e,t){2&e&&y.Jb("k-grid-footer",t.footerClass)},inputs:{columns:"columns",groups:"groups",lockedColumnsCount:"lockedColumnsCount",detailTemplate:"detailTemplate",scrollable:"scrollable"},attrs:zT,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-cell",4,"ngFor","ngForOf"],[3,"k-hierarchy-cell",4,"ngIf"],[3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[3,"ngClass","ngStyle"],[3,"templateContext"]],template:function(e,t){1&e&&y.Jc(0,VT,4,5,"ng-template",0),2&e&&y.oc("ngIf",!0)},directives:[b.j,b.i,b.h,b.k,EM],encapsulation:2}),MD),SP=[b.b,GM],TP=((LD=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[]}}]),e}()).\u0275mod=y.Pb({type:LD}),LD.\u0275inj=y.Ob({factory:function(e){return new(e||LD)},imports:[[].concat(SP)]}),LD),IP=((FD=function(){function e(t){_classCallCheck(this,e),this.grid=t,this.context={}}return _createClass(e,[{key:"classNames",get:function(){return"k-header k-grid-toolbar"}},{key:"position",set:function(e){this.context.position=e}},{key:"toolbarTemplateRef",get:function(){return this.grid.toolbarTemplate?this.grid.toolbarTemplate.templateRef:void 0}}]),e}()).\u0275fac=function(e){return new(e||FD)(y.Rb(EA))},FD.\u0275cmp=y.Lb({type:FD,selectors:[["kendo-grid-toolbar"]],hostVars:2,hostBindings:function(e,t){2&e&&y.Gb(t.classNames)},inputs:{position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&y.Jc(0,NT,1,2,void 0,0),2&e&&y.oc("ngIf",t.toolbarTemplateRef)},directives:[b.j,b.o],encapsulation:2}),FD),OP=((PD=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:PD}),PD.\u0275inj=y.Ob({factory:function(e){return new(e||PD)},imports:[[b.b,Cz,GM,_P,hP,TP,oz,YM,Zz,Hi,cP]]}),PD),EP=i("Xa2L"),AP=i("8LU1"),RP=i("FKr1"),DP=((VD=function(){function e(){_classCallCheck(this,e),this._vertical=!1,this._inset=!1}return _createClass(e,[{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=Object(AP.a)(e)}},{key:"inset",get:function(){return this._inset},set:function(e){this._inset=Object(AP.a)(e)}}]),e}()).\u0275fac=function(e){return new(e||VD)},VD.\u0275cmp=y.Lb({type:VD,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,t){2&e&&(y.Fb("aria-orientation",t.vertical?"vertical":"horizontal"),y.Jb("mat-divider-vertical",t.vertical)("mat-divider-horizontal",!t.vertical)("mat-divider-inset",t.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,t){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),VD),MP=((jD=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:jD}),jD.\u0275inj=y.Ob({factory:function(e){return new(e||jD)},imports:[[RP.a],RP.a]}),jD),zP="arc",PP="#000",FP="bottom",LP="center",jP="circle",VP="date",BP=/\{\d+:?/,NP=Number.MAX_VALUE,HP=-Number.MAX_VALUE,GP="top",WP="value",UP="#fff",qP="x",XP="y";function JP(e){return Array.isArray(e)}function YP(e,t){for(var i=JP(t)?t:[t],n=0;n<i.length;n++){var r=i[n];-1===e.className.indexOf(r)&&(e.className+=" "+r)}}var KP=/\s+/g;function ZP(e){var t=.5;e.options.stroke&&m.util.defined(e.options.stroke.width)&&e.options.stroke.width%2==0&&(t=0);for(var i=0;i<e.segments.length;i++)e.segments[i].anchor().round(0).translate(t,t);return e}function $P(e,t){return-e.x*t.y+e.y*t.x<0}function QP(e){return"number"==typeof e&&!isNaN(e)}function eF(e){return"string"==typeof e}function tF(e){return QP(e)||eF(e)&&isFinite(e)}function iF(e){return"function"==typeof e}function nF(e,t){for(var i in t){var n,r=t[i],a=typeof r;if((n="object"===a&&null!==r?r.constructor:null)&&n!==Array)if(r instanceof Date)e[i]=new Date(r.getTime());else if(iF(r.clone))e[i]=r.clone();else{var o=e[i];e[i]="object"==typeof o&&o||{},nF(e[i],r)}else"undefined"!==a&&(e[i]=r)}return e}function rF(e){for(var t=arguments.length,i=1;i<t;i++)nF(e,arguments[i]);return e}function aF(e){return"object"==typeof e}function oF(e){return QP(e)?e+"px":e}var sF=/width|height|top|left|bottom|right/i;function lF(e){return sF.test(e)}function cF(e,t){var i=eF(t)?[t]:t;if(JP(i)){for(var n={},r=window.getComputedStyle(e),a=0;a<i.length;a++){var o=i[a];n[o]=lF(o)?parseFloat(r[o]):r[o]}return n}if(aF(t))for(var s in t)e.style[s]=oF(t[s])}function uF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i={top:0,right:0,bottom:0,left:0};return"number"==typeof e?i.top=i.right=i[FP]=i.left=e:(i.top=e.top||t,i.right=e.right||t,i[FP]=e[FP]||t,i.left=e.left||t),i}var hF,fF={format:function(e,t){return t},toString:function(e){return e},parseDate:function(e){return new Date(e)}},dF=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(e){fF=e}},{key:"implementation",get:function(){return fF}}]),e}(),pF=/\{(\d+)(:[^\}]+)?\}/g,vF=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this._intlService=i.intlService,this.sender=i.sender||t,this.format=new(function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"auto",value:function(e){for(var t=this.intl,i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return eF(e)&&e.match(BP)?t.format.apply(t,[e].concat(n)):t.toString(n[0],e)}},{key:"localeAuto",value:function(e,t,i){var n=this.intl;return eF(e)&&e.match(BP)?e.replace(pF,(function(e,r,a){var o=t[parseInt(r,10)];return n.toString(o,a?a.substring(1):"",i)})):n.toString(t[0],e,i)}},{key:"intl",get:function(){return this._intlService||dF.implementation},set:function(e){this._intlService=e}}]),e}())(i.intlService),this.chart=t,this.rtl=Boolean(i.rtl)}return _createClass(e,[{key:"notify",value:function(e,t){this.chart&&this.chart.trigger(e,t)}},{key:"isPannable",value:function(e){var t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e}},{key:"intl",get:function(){return this._intlService||dF.implementation},set:function(e){this._intlService=e,this.format.intl=e}}]),e}(),gF=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(e){hF=e}},{key:"create",value:function(e,t){if(hF)return hF.create(e,t)}}]),e}(),mF={compile:function(e){return e}};function yF(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.template?t.template=e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"register",value:function(e){mF=e}},{key:"compile",value:function(e){return mF.compile(e)}}]),e}().compile(t.template):iF(t.content)&&(e=t.content),e}var bF=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,kF={undefined:function(e){return e}};function CF(e){if(kF[e])return kF[e];var t=[];return e.replace(bF,(function(e,i,n,r){t.push(m.util.defined(i)?i:n||r)})),kF[e]=function(e){for(var i=e,n=0;n<t.length&&i;n++)i=i[t[n]];return i},kF[e]}function wF(e,t){for(var i=e.length,n=[],r=0;r<i;r++)t(e[r])&&n.push(e[r]);return n}function _F(e,t){if(e.className)for(var i=t.split(" "),n=0;n<i.length;n++)if(-1!==e.className.indexOf(i[n]))return!0}var xF=function(){function e(){_classCallCheck(this,e),this._map={}}return _createClass(e,[{key:"get",value:function(e){return this._map[this._key(e)]}},{key:"set",value:function(e,t){this._map[this._key(e)]=t}},{key:"_key",value:function(e){return e instanceof Date?e.getTime():e}}]),e}();function SF(e,t){if(t)return-1!==t.indexOf(e)}function TF(e,t,i){return m.util.round(e+(t-e)*i,3)}var IF=function(){function e(t,i){_classCallCheck(this,e),this.observer=t,this.handlerMap=rF({},this.handlerMap,i)}return _createClass(e,[{key:"trigger",value:function(e,t){var i,n=this.observer,r=this.handlerMap;return r[e]?i=this.callObserver(r[e],t):n.trigger&&(i=this.callObserver("trigger",e,t)),i}},{key:"callObserver",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this.observer[e].apply(this.observer,i)}},{key:"requiresHandlers",value:function(e){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(var t=0;t<e.length;t++)if(this.handlerMap[e[t]])return!0}}]),e}();function OF(e,t){for(var i=e.length,n=[],r=0;r<i;r++){var a=t(e[r]);m.util.defined(a)&&n.push(a)}return n}function EF(e){var t=0;return e.wheelDelta&&(t=(t=-e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t)),e.detail&&(t=m.util.round(e.detail/3)),t}var AF=m.util,RF=AF.append,DF=AF.bindEvents,MF=AF.defined,zF=AF.deg,PF=AF.elementOffset,FF=AF.elementSize,LF=AF.eventElement,jF=AF.eventCoordinates,VF=AF.last,BF=AF.limitValue,NF=AF.objectKey,HF=AF.rad,GF=AF.round,WF=AF.unbindEvents,UF=AF.valueOrDefault,qF=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"fetchFonts",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{depth:0};!t||n.depth>5||!document.fonts||Object.keys(t).forEach((function(r){var a=t[r];"dataSource"!==r&&"$"!==r[0]&&a&&("font"===r?i.push(a):"object"==typeof a&&(n.depth++,e.fetchFonts(a,i,n),n.depth--))}))}},{key:"loadFonts",value:function(e,t){var i=[];if(e.length>0&&document.fonts){try{i=e.map((function(e){return document.fonts.load(e)}))}catch(n){yl(n)}Promise.all(i).then(t,t)}else t()}},{key:"preloadFonts",value:function(t,i){var n=[];e.fetchFonts(t,n),e.loadFonts(n,i)}}]),e}();function XF(e,t){var i=e.prototype;i.options=i.options?rF({},i.options,t):t}function JF(e){for(var t=NP,i=HP,n=0,r=e.length;n<r;n++){var a=e[n];null!==a&&isFinite(a)&&(t=Math.min(t,a),i=Math.max(i,a))}return{min:t===NP?void 0:t,max:i===HP?void 0:i}}function YF(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(t(n,i,e))return n}}function KF(e,t){var i=GF(t-e,9);if(0===i){if(0===t)return.1;i=Math.abs(t)}var n=Math.pow(10,Math.floor(Math.log(i)/Math.log(10))),r=GF(i/n,10);return GF(n*(r<1.904762?.2:r<4.761904?.5:r<9.523809?1:2),10)}var ZF=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).x=e||0,r.y=n||0,r}return _createClass(i,[{key:"clone",value:function(){return new i(this.x,this.y)}},{key:"equals",value:function(e){return e&&this.x===e.x&&this.y===e.y}},{key:"rotate",value:function(e,t){var i=HF(t),n=Math.cos(i),r=Math.sin(i),a=e.x,o=e.y,s=this.x,l=this.y;return this.x=GF(a+(s-a)*n+(l-o)*r,3),this.y=GF(o+(l-o)*n-(s-a)*r,3),this}},{key:"multiply",value:function(e){return this.x*=e,this.y*=e,this}},{key:"distanceTo",value:function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}}],[{key:"onCircle",value:function(e,t,n){var r=HF(t);return new i(e.x-n*Math.cos(r),e.y-n*Math.sin(r))}}]),i}(hl);function $F(e,t,i,n,r){var a=HF(r);return new ZF(i+(e-i)*Math.cos(a)+(t-n)*Math.sin(a),n-(e-i)*Math.sin(a)+(t-n)*Math.cos(a))}var QF=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;return _classCallCheck(this,i),(o=t.call(this)).x1=e||0,o.y1=n||0,o.x2=r||0,o.y2=a||0,o}return _createClass(i,[{key:"equals",value:function(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2}},{key:"width",value:function(){return this.x2-this.x1}},{key:"height",value:function(){return this.y2-this.y1}},{key:"translate",value:function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}},{key:"move",value:function(e,t){var i=this.height(),n=this.width();return MF(e)&&(this.x1=e,this.x2=this.x1+n),MF(t)&&(this.y1=t,this.y2=this.y1+i),this}},{key:"wrap",value:function(e){return this.x1=Math.min(this.x1,e.x1),this.y1=Math.min(this.y1,e.y1),this.x2=Math.max(this.x2,e.x2),this.y2=Math.max(this.y2,e.y2),this}},{key:"wrapPoint",value:function(e){var t=JP(e),n=t?e[0]:e.x,r=t?e[1]:e.y;return this.wrap(new i(n,r,n,r)),this}},{key:"snapTo",value:function(e,t){return t!==qP&&t||(this.x1=e.x1,this.x2=e.x2),t!==XP&&t||(this.y1=e.y1,this.y2=e.y2),this}},{key:"alignTo",value:function(e,t){var i=this.height(),n=this.width(),r=t===GP||t===FP?XP:qP,a=r===XP?i:n;if(t===LP){var o=e.center(),s=this.center();this.x1+=o.x-s.x,this.y1+=o.y-s.y}else this[r+1]=t===GP||"left"===t?e[r+1]-a:e[r+2];return this.x2=this.x1+n,this.y2=this.y1+i,this}},{key:"shrink",value:function(e,t){return this.x2-=e,this.y2-=t,this}},{key:"expand",value:function(e,t){return this.shrink(-e,-t),this}},{key:"pad",value:function(e){var t=uF(e);return this.x1-=t.left,this.x2+=t.right,this.y1-=t.top,this.y2+=t.bottom,this}},{key:"unpad",value:function(e){var t=uF(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,this.pad(t)}},{key:"clone",value:function(){return new i(this.x1,this.y1,this.x2,this.y2)}},{key:"center",value:function(){return new ZF(this.x1+this.width()/2,this.y1+this.height()/2)}},{key:"containsPoint",value:function(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2}},{key:"points",value:function(){return[new ZF(this.x1,this.y1),new ZF(this.x2,this.y1),new ZF(this.x2,this.y2),new ZF(this.x1,this.y2)]}},{key:"getHash",value:function(){return[this.x1,this.y1,this.x2,this.y2].join(",")}},{key:"overlaps",value:function(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)}},{key:"rotate",value:function(e){var t=this.width(),i=this.height(),n=this.center(),r=n.x,a=n.y,o=$F(0,0,r,a,e),s=$F(t,0,r,a,e),l=$F(t,i,r,a,e),c=$F(0,i,r,a,e);return t=Math.max(o.x,s.x,l.x,c.x)-Math.min(o.x,s.x,l.x,c.x),i=Math.max(o.y,s.y,l.y,c.y)-Math.min(o.y,s.y,l.y,c.y),this.x2=this.x1+t,this.y2=this.y1+i,this}},{key:"toRect",value:function(){return new p.Rect([this.x1,this.y1],[this.width(),this.height()])}},{key:"hasSize",value:function(){return 0!==this.width()&&0!==this.height()}},{key:"align",value:function(e,t,i){var n=t+1,r=t+2,a=t===qP?"width":"height",o=this[a]();SF(i,["left",GP])?(this[n]=e[n],this[r]=this[n]+o):SF(i,["right",FP])?(this[r]=e[r],this[n]=this[r]-o):i===LP&&(this[n]=e[n]+(e[a]()-o)/2,this[r]=this[n]+o)}}]),i}(hl);function eL(e,t){return e-t}var tL,iL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o){var s;return _classCallCheck(this,i),(s=t.call(this)).center=e,s.innerRadius=n,s.radius=r,s.startAngle=a,s.angle=o,s}return _createClass(i,[{key:"clone",value:function(){return new i(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}},{key:"middle",value:function(){return this.startAngle+this.angle/2}},{key:"setRadius",value:function(e,t){return t?this.innerRadius=e:this.radius=e,this}},{key:"point",value:function(e,t){var i=HF(e),n=Math.cos(i),r=Math.sin(i),a=t?this.innerRadius:this.radius,o=GF(this.center.x-n*a,3),s=GF(this.center.y-r*a,3);return new ZF(o,s)}},{key:"adjacentBox",value:function(e,t,i){var n=this.clone().expand(e),r=n.middle(),a=n.point(r),o=t/2,s=i/2,l=Math.sin(HF(r)),c=Math.cos(HF(r)),u=a.x-o,h=a.y-s;return Math.abs(l)<.9&&(u+=o*-c/Math.abs(c)),Math.abs(c)<.9&&(h+=s*-l/Math.abs(l)),new QF(u,h,u+t,h+i)}},{key:"containsPoint",value:function(e){var t=this.center,i=this.innerRadius,n=this.radius,r=this.startAngle,a=this.startAngle+this.angle,o=e.x-t.x,s=e.y-t.y,l=new ZF(o,s),c=this.point(r),u=new ZF(c.x-t.x,c.y-t.y),h=this.point(a),f=new ZF(h.x-t.x,h.y-t.y),d=GF(o*o+s*s,3);return(u.equals(l)||$P(u,l))&&!$P(f,l)&&d>=i*i&&d<=n*n}},{key:"getBBox",value:function(){var e,t=new QF(NP,NP,HP,HP),i=GF(this.startAngle%360),n=GF((i+this.angle)%360),r=this.innerRadius,a=[0,90,180,270,i,n].sort(eL),o=a.indexOf(i),s=a.indexOf(n);e=i===n?a:o<s?a.slice(o,s+1):[].concat(a.slice(0,s+1),a.slice(o,a.length));for(var l=0;l<e.length;l++){var c=this.point(e[l]);t.wrapPoint(c),t.wrapPoint(c,r)}return r||t.wrapPoint(this.center),t}},{key:"expand",value:function(e){return this.radius+=e,this}}]),i}(hl),nL=((tL=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createRing",value:function(e,t){var i=e.startAngle+180,n=e.angle+i;e.angle>0&&i===n&&(n+=.001);var r=new p.Point(e.center.x,e.center.y),a=Math.max(e.radius,0),o=Math.max(e.innerRadius,0),s=new p.Arc(r,{startAngle:i,endAngle:n,radiusX:a,radiusY:a}),l=m.Path.fromArc(s,t).close();if(o){s.radiusX=s.radiusY=o;var c=s.pointAt(n);l.lineTo(c.x,c.y),l.arc(n,i,o,o,!0)}else l.lineTo(r.x,r.y);return l}}]),i}(hl)).current=new tL,tL),rL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).children=[],n.options=rF({},n.options,n.initUserOptions(e)),n}return _createClass(i,[{key:"initUserOptions",value:function(e){return e}},{key:"reflow",value:function(e){for(var t,i=this.children,n=0;n<i.length;n++){var r=i[n];r.reflow(e),t=t?t.wrap(r.box):r.box.clone()}this.box=t||e}},{key:"destroy",value:function(){var e=this.children;this.animation&&this.animation.destroy();for(var t=0;t<e.length;t++)e[t].destroy()}},{key:"getRoot",value:function(){var e=this.parent;return e?e.getRoot():null}},{key:"getSender",value:function(){var e=this.getService();if(e)return e.sender}},{key:"getService",value:function(){for(var e=this;e;){if(e.chartService)return e.chartService;e=e.parent}}},{key:"translateChildren",value:function(e,t){for(var i=this.children,n=i.length,r=0;r<n;r++)i[r].box.translate(e,t)}},{key:"append",value:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];this.children.push(t),t.parent=this}}},{key:"renderVisual",value:function(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}},{key:"addVisual",value:function(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}},{key:"renderChildren",value:function(){for(var e=this.children,t=e.length,i=0;i<t;i++)e[i].renderVisual()}},{key:"createVisual",value:function(){this.visual=new m.Group({zIndex:this.options.zIndex,visible:UF(this.options.visible,!0)})}},{key:"createAnimation",value:function(){this.visual&&this.options.animation&&(this.animation=m.Animation.create(this.visual,this.options.animation))}},{key:"appendVisual",value:function(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):MF(e.options.zIndex)?this.stackRoot().stackVisual(e):this.isStackRoot?this.stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)}},{key:"clipRoot",value:function(){return this.parent?this.parent.clipRoot():this}},{key:"stackRoot",value:function(){return this.parent?this.parent.stackRoot():this}},{key:"stackVisual",value:function(e){var t,i=e.options.zIndex||0,n=this.visual.children,r=n.length;for(t=0;t<r&&!(UF(n[t].options.zIndex,0)>i);t++);this.visual.insert(t,e)}},{key:"traverse",value:function(e){for(var t=this.children,i=t.length,n=0;n<i;n++){var r=t[n];e(r),r.traverse&&r.traverse(e)}}},{key:"closest",value:function(e){for(var t=this,i=!1;t&&!i;)(i=e(t))||(t=t.parent);if(i)return t}},{key:"renderComplete",value:function(){}},{key:"hasHighlight",value:function(){var e=(this.options||{}).highlight;return!(!this.createHighlight||e&&!1===e.visible)}},{key:"toggleHighlight",value:function(e){var t=this,i=(this.options||{}).highlight||{},n=i.visual,r=this._highlight;if(!r){var a={fill:{color:UP,opacity:.2},stroke:{color:UP,width:1,opacity:.2}};if(n){if(!(r=this._highlight=n(Object.assign(this.highlightVisualArgs(),{createVisual:function(){return t.createHighlight(a)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}))))return}else r=this._highlight=this.createHighlight(a);MF(r.options.zIndex)||(r.options.zIndex=UF(i.zIndex,this.options.zIndex)),this.appendVisual(r)}r.visible(e)}},{key:"createGradientOverlay",value:function(e,t,i){var n=new m.Path(Object.assign({stroke:{color:"none"},fill:this.createGradient(i),closed:e.options.closed},t));return n.segments.elements(e.segments.elements()),n}},{key:"createGradient",value:function(e){if(this.parent)return this.parent.createGradient(e)}}]),i}(hl);rL.prototype.options={};var aL=rL,oL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).options.margin=uF(n.options.margin),n.options.padding=uF(n.options.padding),n}return _createClass(i,[{key:"reflow",value:function(e){var t,n=this,r=this.options,a=r.width,o=r.height,s=r.shrinkToFit,l=a&&o,c=r.margin,u=r.padding,h=r.border.width,f=function(){n.align(e,qP,r.align),n.align(e,XP,r.vAlign),n.paddingBox=t.clone().unpad(c).unpad(h)},d=e.clone();l&&(d.x2=d.x1+a,d.y2=d.y1+o),s&&d.unpad(c).unpad(h).unpad(u),_get(_getPrototypeOf(i.prototype),"reflow",this).call(this,d),t=l?this.box=new QF(0,0,a,o):this.box,s&&l?(f(),d=this.contentBox=this.paddingBox.clone().unpad(u)):(d=this.contentBox=t.clone(),t.pad(u).pad(h).pad(c),f()),this.translateChildren(t.x1-d.x1+c.left+h+u.left,t.y1-d.y1+c.top+h+u.top);for(var p=this.children,v=0;v<p.length;v++){var g=p[v];g.reflow(g.box)}}},{key:"align",value:function(e,t,i){this.box.align(e,t,i)}},{key:"hasBox",value:function(){var e=this.options;return e.border.width||e.background}},{key:"createVisual",value:function(){_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this),this.options.visible&&this.hasBox()&&this.visual.append(m.Path.fromRect(this.paddingBox.toRect(),this.visualStyle()))}},{key:"visualStyle",value:function(){var e=this.options,t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:UF(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}}}]),i}(aL);XF(oL,{align:"left",vAlign:GP,margin:{},padding:{},border:{color:PP,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});var sL=oL,lL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).pointData=n,r}return _createClass(i,[{key:"getElement",value:function(){var e=this.options,t=this.paddingBox,i=e.type,n=e.rotation,r=t.center(),a=t.width()/2;if(!e.visible||!this.hasBox())return null;var o,s=this.visualStyle();return i===jP?o=new m.Circle(new p.Circle([GF(t.x1+a,3),GF(t.y1+t.height()/2,3)],a),s):"triangle"===i?o=m.Path.fromPoints([[t.x1+a,t.y1],[t.x1,t.y2],[t.x2,t.y2]],s).close():"cross"===i?((o=new m.MultiPath(s)).moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),o.moveTo(t.x1,t.y2).lineTo(t.x2,t.y1)):o=m.Path.fromRect(t.toRect(),s),n&&o.transform(p.transform().rotate(-n,[r.x,r.y])),o.options.zIndex=e.zIndex,o}},{key:"createElement",value:function(){var e=this,t=this.options.visual,i=this.pointData||{};return t?t({value:i.value,dataItem:i.dataItem,sender:this.getSender(),series:i.series,category:i.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return e.getElement()}}):this.getElement()}},{key:"visualOptions",value:function(){var e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}}},{key:"createVisual",value:function(){this.visual=this.createElement()}}]),i}(sL);XF(lL,{type:jP,align:LP,vAlign:LP});var cL=lL,uL={glass:{type:"linear",rotation:0,stops:[{offset:0,color:UP,opacity:0},{offset:.25,color:UP,opacity:.3},{offset:1,color:UP,opacity:0}]},sharpBevel:{type:"radial",stops:[{offset:0,color:UP,opacity:.55},{offset:.65,color:UP,opacity:0},{offset:.95,color:UP,opacity:.25}]},roundedBevel:{type:"radial",stops:[{offset:.33,color:UP,opacity:.06},{offset:.83,color:UP,opacity:.2},{offset:.95,color:UP,opacity:0}]},roundedGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:UP,opacity:0},{offset:.5,color:UP,opacity:.3},{offset:.99,color:UP,opacity:0}]},sharpGlass:{type:"radial",supportVML:!1,stops:[{offset:0,color:UP,opacity:.2},{offset:.15,color:UP,opacity:.15},{offset:.17,color:UP,opacity:.35},{offset:.85,color:UP,opacity:.05},{offset:.87,color:UP,opacity:.15},{offset:.99,color:UP,opacity:0}]},bubbleShadow:{type:"radial",center:[.5,.5],radius:.5}};function hL(e,t){if(e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2)return t;var i=Math.min(e.x1,t.x1),n=Math.max(e.x1,t.x1),r=Math.min(e.x2,t.x2),a=Math.max(e.x2,t.x2),o=Math.min(e.y1,t.y1),s=Math.max(e.y1,t.y1),l=Math.min(e.y2,t.y2),c=Math.max(e.y2,t.y2),u=[];return u[0]=new QF(n,o,r,s),u[1]=new QF(i,s,n,l),u[2]=new QF(r,s,a,l),u[3]=new QF(n,l,r,c),e.x1===i&&e.y1===o||t.x1===i&&t.y1===o?(u[4]=new QF(i,o,n,s),u[5]=new QF(r,l,a,c)):(u[4]=new QF(r,o,a,s),u[5]=new QF(i,l,n,c)),wF(u,(function(e){return e.height()>0&&e.width()>0}))[0]}var fL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;_classCallCheck(this,i);var r=(n=t.call(this,e)).options;return r.width=parseInt(r.width,10),r.height=parseInt(r.height,10),n.gradients={},n}return _createClass(i,[{key:"reflow",value:function(){var e=this.options,t=this.children,i=new QF(0,0,e.width,e.height);this.box=i.unpad(e.margin);for(var n=0;n<t.length;n++)t[n].reflow(i),i=hL(i,t[n].box)||new QF}},{key:"createVisual",value:function(){this.visual=new m.Group,this.createBackground()}},{key:"createBackground",value:function(){var e=this.options,t=e.border||{},i=this.box.clone().pad(e.margin).unpad(t.width),n=m.Path.fromRect(i.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(n)}},{key:"getRoot",value:function(){return this}},{key:"createGradient",value:function(e){var t,i=this.gradients,n=NF(e),r=uL[e.gradient];if(i[n])t=i[n];else{var a=Object.assign({},r,e);"linear"===r.type?t=new m.LinearGradient(a):(e.innerRadius&&(a.stops=function(e){for(var t=e.stops,i=e.innerRadius/e.radius*100,n=t.length,r=[],a=0;a<n;a++){var o=Object.assign({},t[a]);o.offset=(o.offset*(100-i)+i)/100,r.push(o)}return r}(a)),(t=new m.RadialGradient(a)).supportVML=!1!==r.supportVML),i[n]=t}return t}},{key:"cleanGradients",value:function(){var e=this.gradients;for(var t in e)e[t]._observers=[]}},{key:"size",value:function(){var e=this.options;return new QF(0,0,e.width,e.height)}}]),i}(aL);XF(fL,{width:600,height:400,background:UP,border:{color:PP,width:0},margin:uF(5),zIndex:-2});var dL=fL,pL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e))._initDirection(),n}return _createClass(i,[{key:"_initDirection",value:function(){var e=this.options;e.vertical?(this.groupAxis=qP,this.elementAxis=XP,this.groupSizeField="width",this.elementSizeField="height",this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=XP,this.elementAxis=qP,this.groupSizeField="height",this.elementSizeField="width",this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)}},{key:"reflow",value:function(e){this.box=e.clone(),this.reflowChildren()}},{key:"reflowChildren",value:function(){var e=this.box,t=this.elementAxis,i=this.groupAxis,n=this.elementSizeField,r=this.groupSizeField,a=this.groupOptions(),o=a.groups,s=a.groupsSize,l=a.maxGroupElementsSize,c=o.length,u=e[i+1]+this.alignStart(s,e[r]());if(c){for(var h=u,f=0;f<c;f++){for(var d=o[f],p=d.groupElements,v=e[t+1],g=p.length,m=0;m<g;m++){var y=p[m],b=this.elementSize(y),k=h+this.alignStart(b[r],d.groupSize),C=new QF;C[i+1]=k,C[i+2]=k+b[r],C[t+1]=v,C[t+2]=v+b[n],y.reflow(C),v+=b[n]+this.elementSpacing}h+=d.groupSize+this.groupSpacing}e[i+1]=u,e[i+2]=u+s,e[t+2]=e[t+1]+l}}},{key:"alignStart",value:function(e,t){var i=0,n=this.options.align;return"right"===n||n===FP?i=t-e:n===LP&&(i=(t-e)/2),i}},{key:"groupOptions",value:function(){for(var e=this.box,t=this.children,i=this.elementSizeField,n=this.groupSizeField,r=this.elementSpacing,a=this.groupSpacing,o=GF(e[i]()),s=t.length,l=[],c=0,u=0,h=0,f=0,d=[],p=0;p<s;p++){var v=t[p];v.box||v.reflow(e);var g=this.elementSize(v);this.options.wrap&&GF(u+r+g[i])>o&&(l.push({groupElements:d,groupSize:c,groupElementsSize:u}),f=Math.max(f,u),h+=a+c,c=0,u=0,d=[]),c=Math.max(c,g[n]),u>0&&(u+=r),u+=g[i],d.push(v)}return l.push({groupElements:d,groupSize:c,groupElementsSize:u}),{groups:l,groupsSize:h+=c,maxGroupElementsSize:f=Math.max(f,u)}}},{key:"elementSize",value:function(e){return{width:e.box.width(),height:e.box.height()}}},{key:"createVisual",value:function(){}}]),i}(aL);XF(pL,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});var vL=pL,gL=m.Text,mL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).content=e,r.reflow(new QF),r}return _createClass(i,[{key:"reflow",value:function(e){var t=this.options,i=t.size=m.util.measureText(this.content,{font:t.font});this.baseline=i.baseline,this.box=new QF(e.x1,e.y1,e.x1+i.width,e.y1+i.height)}},{key:"createVisual",value:function(){var e=this.options,t=e.font,i=e.color,n=e.opacity,r=e.cursor;this.visual=new gL(this.content,this.box.toRect().topLeft(),{font:t,fill:{color:i,opacity:n},cursor:r})}}]),i}(aL);XF(mL,{font:"12px sans-serif",color:PP});var yL=mL;function bL(e){var t=e.origin,i=e.bottomRight();return new QF(t.x,t.y,i.x,i.y)}var kL=/\n/m,CL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,n)).content=e,a.data=r,a._initContainer(),!1!==a.options._autoReflow&&a.reflow(new QF),a}return _createClass(i,[{key:"_initContainer",value:function(){var e=this.options,t=String(this.content).split(kL),i=new vL({vertical:!0,align:e.align,wrap:!1}),n=rF({},e,{opacity:1,animation:null});this.container=i,this.append(i);for(var r=0;r<t.length;r++){var a=new yL(t[r].trim(),n);i.append(a)}}},{key:"reflow",value:function(e){var t=this.options,n=t.visual;if(this.container.options.align=t.align,n&&!this._boxReflow){var r=e;r.hasSize()||(this._boxReflow=!0,this.reflow(r),this._boxReflow=!1,r=this.box);var a=this.visual=n(this.visualContext(r));a&&(r=bL(a.clippedBBox()||new p.Rect),a.options.zIndex=t.zIndex),this.box=this.contentBox=this.paddingBox=r}else if(_get(_getPrototypeOf(i.prototype),"reflow",this).call(this,e),t.rotation){var o=uF(t.margin),s=this.box.unpad(o);this.targetBox=e,this.normalBox=s.clone(),(s=this.rotate()).translate(o.left-o.right,o.top-o.bottom),this.rotatedBox=s.clone(),s.pad(o)}}},{key:"createVisual",value:function(){var e=this.options;if(this.visual=new m.Group({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()){var t=m.Path.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}}},{key:"renderVisual",value:function(){if(this.options.visible)if(this.options.visual){var e=this.visual;e&&!MF(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else _get(_getPrototypeOf(i.prototype),"renderVisual",this).call(this)}},{key:"visualContext",value:function(e){var t=this,i={text:this.content,rect:e.toRect(),sender:this.getSender(),options:this.options,createVisual:function(){return t._boxReflow=!0,t.reflow(e),t._boxReflow=!1,t.getDefaultVisual()}};return this.data&&Object.assign(i,this.data),i}},{key:"getDefaultVisual",value:function(){this.createVisual(),this.renderChildren();var e=this.visual;return delete this.visual,e}},{key:"rotate",value:function(){var e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,qP,e.align),this.align(this.targetBox,XP,e.vAlign),this.box}},{key:"rotationTransform",value:function(){var e=this.options.rotation;if(!e)return null;var t=this.normalBox.center(),i=t.x,n=t.y,r=this.rotatedBox.center();return p.transform().translate(r.x-i,r.y-n).rotate(e,[i,n])}}]),i}(sL),wL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).append(new CL(n.options.text,Object.assign({},n.options,{vAlign:n.options.position}))),n}return _createClass(i,[{key:"reflow",value:function(e){_get(_getPrototypeOf(i.prototype),"reflow",this).call(this,e),this.box.snapTo(e,qP)}}],[{key:"buildTitle",value:function(e,t,n){var r,a=e;return"string"==typeof e&&(a={text:e}),(a=Object.assign({visible:!0},n,a))&&a.visible&&a.text&&(r=new i(a),t.append(r)),r}}]),i}(aL);XF(wL,{color:PP,position:GP,align:LP,margin:uF(5),padding:uF(5)});var _L=wL,xL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o){var s;return _classCallCheck(this,i),(s=t.call(this,n,o)).text=n,s.value=e,s.index=r,s.dataItem=a,s.reflow(new QF),s}return _createClass(i,[{key:"visualContext",value:function(e){var t=_get(_getPrototypeOf(i.prototype),"visualContext",this).call(this,e);return t.value=this.value,t.dataItem=this.dataItem,t.format=this.options.format,t.culture=this.options.culture,t}},{key:"click",value:function(e,t){e.trigger("axisLabelClick",{element:LF(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}},{key:"rotate",value:function(){if(this.options.alignRotation!==LP){var e=this.normalBox.toRect(),t=this.rotationTransform();this.box=bL(e.bbox(t.matrix()))}else _get(_getPrototypeOf(i.prototype),"rotate",this).call(this);return this.box}},{key:"rotationTransform",value:function(){var e=this.options,t=e.rotation;if(!t)return null;if(e.alignRotation===LP)return _get(_getPrototypeOf(i.prototype),"rotationTransform",this).call(this);var n,r,a=p.transform().rotate(t).matrix(),o=this.normalBox.toRect(),s=this.targetBox.toRect(),l=e.rotationOrigin||GP,c=l===GP||l===FP?qP:XP,u=l===GP||l===FP?XP:qP,h=l===GP||"left"===l?s.origin:s.bottomRight(),f=o.topLeft().transformCopy(a),d=o.topRight().transformCopy(a),v=o.bottomRight().transformCopy(a),g=o.bottomLeft().transformCopy(a),m=p.Rect.fromPoints(f,d,v,g),y=_defineProperty({},u,s.origin[u]-m.origin[u]),b=Math.abs(f[u]+y[u]-h[u]),k=Math.abs(d[u]+y[u]-h[u]);GF(b,10)===GF(k,10)?(n=f,r=d):k<b?(n=d,r=v):(n=f,r=g);var C=n[c]+(r[c]-n[c])/2;return y[c]=s.center()[c]-C,p.transform().translate(y.x,y.y).rotate(t)}}]),i}(CL);XF(xL,{_autoReflow:!1});var SL=xL,TL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,n)).fields=e,a.chartService=r,a.render(),a}return _createClass(i,[{key:"hide",value:function(){this.options.visible=!1}},{key:"show",value:function(){this.options.visible=!0}},{key:"render",value:function(){var e=this,t=this.options;if(t.visible){var i,n,r=t.label,a=t.icon,o=new QF,s=function(){return e},l=a.size,c=this.fields.text;if(MF(r)&&r.visible){var u=yF(r);u?c=u(this.fields):r.format&&(c=this.chartService.format.auto(r.format,c)),r.color||(r.color="inside"===r.position?"#fff":a.background),this.label=new CL(c,rF({},r)),this.label.aliasFor=s,"inside"!==r.position||MF(l)||(a.type===jP?l=Math.max(this.label.box.width(),this.label.box.height()):(i=this.label.box.width(),n=this.label.box.height()),o.wrap(this.label.box))}a.width=i||l||7,a.height=n||l||7;var h=new cL(rF({},a));h.aliasFor=s,this.marker=h,this.append(h),this.label&&this.append(this.label),h.reflow(new QF),this.wrapperBox=o.wrap(h.box)}}},{key:"reflow",value:function(e){var t,i,n,r=this.options,a=this.label,o=this.marker,s=this.wrapperBox,l=e.center(),c=r.line.length,u=r.position;r.visible&&(SF(u,["left","right"])?"left"===u?(n=s.alignTo(e,u).translate(-c,e.center().y-s.center().y),r.line.visible&&(t=[e.x1,l.y],this.linePoints=[t,[n.x2,l.y]],i=n.clone().wrapPoint(t))):(n=s.alignTo(e,u).translate(c,e.center().y-s.center().y),r.line.visible&&(t=[e.x2,l.y],this.linePoints=[t,[n.x1,l.y]],i=n.clone().wrapPoint(t))):u===FP?(n=s.alignTo(e,u).translate(e.center().x-s.center().x,c),r.line.visible&&(t=[l.x,e.y2],this.linePoints=[t,[l.x,n.y1]],i=n.clone().wrapPoint(t))):(n=s.alignTo(e,u).translate(e.center().x-s.center().x,-c),r.line.visible&&(t=[l.x,e.y1],this.linePoints=[t,[l.x,n.y2]],i=n.clone().wrapPoint(t))),o&&o.reflow(n),a&&(a.reflow(n),o&&("outside"===r.label.position&&a.box.alignTo(o.box,u),a.reflow(a.box))),this.contentBox=n,this.targetBox=e,this.box=i||n)}},{key:"createVisual",value:function(){_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}},{key:"renderVisual",value:function(){var e=this,t=this.options,n=t.visual;t.visible&&n?(this.visual=n(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:t.background,border:t.background,icon:t.icon,label:t.label,line:t.line,position:t.position,visible:t.visible},createVisual:function(){e.createVisual(),e.renderChildren();var t=e.visual;return delete e.visual,t}})),this.addVisual()):_get(_getPrototypeOf(i.prototype),"renderVisual",this).call(this)}},{key:"createLine",value:function(){var e=this.options.line;if(this.linePoints){var t=m.Path.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});ZP(t),this.visual.append(t)}}},{key:"click",value:function(e,t){var i=this.eventArgs(t);e.trigger("noteClick",i)||t.preventDefault()}},{key:"over",value:function(e,t){var i=this.eventArgs(t);e.trigger("noteHover",i)||t.preventDefault()}},{key:"out",value:function(e,t){var i=this.eventArgs(t);e.trigger("noteLeave",i)}},{key:"eventArgs",value:function(e){var t=this.options;return Object.assign(this.fields,{element:LF(e),text:MF(t.label)?t.label.text:"",visual:this.visual})}}]),i}(sL);XF(TL,{icon:{visible:!0,type:jP},label:{position:"inside",visible:!0,align:LP,vAlign:LP},line:{visible:!0},visible:!0,position:GP,zIndex:2});var IL=TL;function OL(e,t){var i=e.tickX,n=e.tickY,r=e.position,a=new m.Path({stroke:{width:t.width,color:t.color}});return e.vertical?a.moveTo(i,r).lineTo(i+t.size,r):a.moveTo(r,n).lineTo(r,n+t.size),ZP(a),a}function EL(e,t){var i=e.lineStart,n=e.lineEnd,r=e.position,a=new m.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});return e.vertical?a.moveTo(i,r).lineTo(n,r):a.moveTo(r,i).lineTo(r,n),ZP(a),a}var AL=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new vF;return _classCallCheck(this,i),(n=t.call(this,e)).chartService=r,n.options.visible||(n.options=rF({},n.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),n.options.minorTicks=rF({},{color:n.options.line.color,width:n.options.line.width,visible:"none"!==n.options.minorTickType},n.options.minorTicks,{size:n.options.minorTickSize,align:n.options.minorTickType}),n.options.majorTicks=rF({},{color:n.options.line.color,width:n.options.line.width,visible:"none"!==n.options.majorTickType},n.options.majorTicks,{size:n.options.majorTickSize,align:n.options.majorTickType}),n.initFields(),n.options._deferLabels||n.createLabels(),n.createTitle(),n.createNotes(),n}return _createClass(i,[{key:"initFields",value:function(){}},{key:"labelsRange",value:function(){return{min:this.options.labels.skip,max:this.labelsCount()}}},{key:"createLabels",value:function(){var e=this.options,t=rF({},e.labels,{align:e.vertical?"right":LP,zIndex:e.zIndex}),i=Math.max(1,t.step);if(this.clearLabels(),t.visible){var n=this.labelsRange(),r=t.rotation;aF(r)&&(t.alignRotation=r.align,t.rotation=r.angle),"auto"===t.rotation&&(t.rotation=0,e.autoRotateLabels=!0);for(var a=n.min;a<n.max;a+=i){var o=this.createAxisLabel(a,t);o&&(this.append(o),this.labels.push(o))}}}},{key:"clearLabels",value:function(){this.children=wF(this.children,(function(e){return!(e instanceof SL)})),this.labels=[]}},{key:"clearTitle",value:function(){var e=this;this.title&&(this.children=wF(this.children,(function(t){return t!==e.title})),this.title=void 0)}},{key:"clear",value:function(){this.clearLabels(),this.clearTitle()}},{key:"lineBox",value:function(){var e=this.options,t=this.box,i=e.labels.mirror,n=i?t.x1:t.x2,r=i?t.y2:t.y1,a=e.line.width||0;return e.vertical?new QF(n,t.y1,n,t.y2-a):new QF(t.x1,r,t.x2-a,r)}},{key:"createTitle",value:function(){var e=this.options,t=rF({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:!0},e.title);if(t.visible&&t.text){var i=new CL(t.text,t);this.append(i),this.title=i}}},{key:"createNotes",value:function(){var e=this.options,t=e.notes,i=t.data||[];this.notes=[];for(var n=0;n<i.length;n++){var r=rF({},t,i[n]);r.value=this.parseNoteValue(r.value);var a=new IL({value:r.value,text:r.label.text,dataItem:r},r,this.chartService);a.options.visible&&(MF(a.options.position)?e.vertical&&!SF(a.options.position,["left","right"])?a.options.position=e.reverse?"left":"right":e.vertical||SF(a.options.position,[GP,FP])||(a.options.position=e.reverse?FP:GP):a.options.position=e.vertical?e.reverse?"left":"right":e.reverse?FP:GP,this.append(a),this.notes.push(a))}}},{key:"parseNoteValue",value:function(e){return e}},{key:"renderVisual",value:function(){_get(_getPrototypeOf(i.prototype),"renderVisual",this).call(this),this.createPlotBands()}},{key:"createVisual",value:function(){_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this),this.createBackground(),this.createLine()}},{key:"gridLinesVisual",value:function(){var e=this._gridLines;return e||(e=this._gridLines=new m.Group({zIndex:-2}),this.appendVisual(this._gridLines)),e}},{key:"createTicks",value:function(e){var t=this.options,i=this.lineBox(),n=t.labels.mirror,r=t.majorTicks.visible?t.majorUnit:0,a={vertical:t.vertical};function o(t,r,o){var s=t.length,l=Math.max(1,r.step);if(r.visible)for(var c=r.skip;c<s;c+=l)MF(o)&&c%o==0||(a.tickX=n?i.x2:i.x2-r.size,a.tickY=n?i.y1-r.size:i.y1,a.position=t[c],e.append(OL(a,r)))}o(this.getMajorTickPositions(),t.majorTicks),o(this.getMinorTickPositions(),t.minorTicks,r/t.minorUnit)}},{key:"createLine",value:function(){var e=this.options,t=e.line,i=this.lineBox();if(t.width>0&&t.visible){var n=new m.Path({stroke:{width:t.width,color:t.color,dashType:t.dashType}});n.moveTo(i.x1,i.y1).lineTo(i.x2,i.y2),e._alignLines&&ZP(n);var r=this._lineGroup=new m.Group;r.append(n),this.visual.append(r),this.createTicks(r)}}},{key:"getActualTickSize",value:function(){var e=this.options,t=0;return e.majorTicks.visible&&e.minorTicks.visible?t=Math.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?t=e.majorTicks.size:e.minorTicks.visible&&(t=e.minorTicks.size),t}},{key:"createBackground",value:function(){var e=this.options,t=this.box,i=e.background;i&&(this._backgroundPath=m.Path.fromRect(t.toRect(),{fill:{color:i},stroke:null}),this.visual.append(this._backgroundPath))}},{key:"createPlotBands",value:function(){var e=this,t=this.options,i=t.plotBands||[],n=t.vertical,r=this.plotArea;if(0!==i.length){for(var a=this._plotbandGroup=new m.Group({zIndex:-1}),o=wF(this.pane.axes,(function(t){return t.options.vertical!==e.options.vertical}))[0],s=0;s<i.length;s++){var l=void 0,c=void 0,u=i[s];if(n?(l=(o||r.axisX).lineBox(),c=this.getSlot(u.from,u.to,!0)):(l=this.getSlot(u.from,u.to,!0),c=(o||r.axisY).lineBox()),0!==l.width()&&0!==c.height()){var h=new p.Rect([l.x1,c.y1],[l.width(),c.height()]),f=m.Path.fromRect(h,{fill:{color:u.color,opacity:u.opacity},stroke:null});a.append(f)}}this.appendVisual(a)}}},{key:"createGridLines",value:function(e){var t=this.options,i=t.minorGridLines,n=t.majorGridLines,r=t.minorUnit,a=t.vertical,o=e.options.line.visible,s=n.visible?t.majorUnit:0,l=e.lineBox(),c=l[a?"y1":"x1"],u={lineStart:l[a?"x1":"y1"],lineEnd:l[a?"x2":"y2"],vertical:a},h=[],f=this.gridLinesVisual();function d(e,t,i){var n=e.length,r=Math.max(1,t.step);if(t.visible)for(var a=t.skip;a<n;a+=r){var s=GF(e[a]);SF(s,h)||a%i==0||o&&c===s||(u.position=s,f.append(EL(u,t)),h.push(s))}}return d(this.getMajorTickPositions(),n),d(this.getMinorTickPositions(),i,s/r),f.children}},{key:"reflow",value:function(e){for(var t=this.options,i=this.labels,n=this.title,r=t.vertical,a=i.length,o=r?"width":"height",s=n?n.box[o]():0,l=this.getActualTickSize()+t.margin+s,c=((this.getRoot()||{}).box||e)[o](),u=0,h=0;h<a;h++){var f=i[h].box[o]();f+l<=c&&(u=Math.max(u,f))}this.box=r?new QF(e.x1,e.y1,e.x1+u+l,e.y2):new QF(e.x1,e.y1,e.x2,e.y1+u+l),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}},{key:"getLabelsTickPositions",value:function(){return this.getMajorTickPositions()}},{key:"labelTickIndex",value:function(e){return e.index}},{key:"arrangeLabels",value:function(){for(var e=this.options,t=this.labels,i=this.labelsBetweenTicks(),n=e.vertical,r=this.lineBox(),a=e.labels.mirror,o=this.getLabelsTickPositions(),s=this.getActualTickSize()+e.margin,l=0;l<t.length;l++){var c=t[l],u=this.labelTickIndex(c),h=n?c.box.height():c.box.width(),f=void 0,d=void 0,p=void 0,v=o[u]-h/2;if(n){i&&(v=(d=o[u])+((p=o[u+1])-d)/2-h/2);var g=r.x2;a?(g+=s,c.options.rotationOrigin="left"):(g-=s+c.box.width(),c.options.rotationOrigin="right"),f=c.box.move(g,v)}else{i?(d=o[u],p=o[u+1]):(d=v,p=v+h);var m=r.y1;a?(m-=s+c.box.height(),c.options.rotationOrigin=FP):(m+=s,c.options.rotationOrigin=GP),f=new QF(d,m,p,m+c.box.height())}c.reflow(f)}}},{key:"autoRotateLabels",value:function(){if(this.options.autoRotateLabels&&!this.options.vertical){for(var e,t=this.getMajorTickPositions(),i=this.labels,n=0;n<i.length;n++){var r=Math.abs(t[n+1]-t[n]),a=i[n].box;if(a.width()>r){if(a.height()>r){e=-90;break}e=-45}}if(e){for(var o=0;o<i.length;o++)i[o].options.rotation=e,i[o].reflow(new QF);return!0}}}},{key:"arrangeTitle",value:function(){var e=this.options,t=this.title,i=e.labels.mirror;t&&(e.vertical?(t.options.align=i?"right":"left",t.options.vAlign=t.options.position):(t.options.align=t.options.position,t.options.vAlign=i?GP:FP),t.reflow(this.box))}},{key:"arrangeNotes",value:function(){for(var e=0;e<this.notes.length;e++){var t=this.notes[e],i=t.options.value,n=void 0;MF(i)?(this.shouldRenderNote(i)?t.show():t.hide(),n=this.noteSlot(i)):t.hide(),t.reflow(n||this.lineBox())}}},{key:"noteSlot",value:function(e){return this.getSlot(e)}},{key:"alignTo",value:function(e){var t=e.lineBox(),i=this.options.vertical,n=i?XP:qP;this.box.snapTo(t,n),i?this.box.shrink(0,this.lineBox().height()-t.height()):this.box.shrink(this.lineBox().width()-t.width(),0),this.box[n+1]-=this.lineBox()[n+1]-t[n+1],this.box[n+2]-=this.lineBox()[n+2]-t[n+2]}},{key:"axisLabelText",value:function(e,t,i){var n=yF(i),r=e;return n?r=n({value:e,dataItem:t,format:i.format,culture:i.culture}):i.format&&(r=this.chartService.format.localeAuto(i.format,[e],i.culture)),r}},{key:"slot",value:function(e,t,i){var n=this.getSlot(e,t,i);if(n)return n.toRect()}},{key:"contentBox",value:function(){var e=this.box.clone(),t=this.labels;if(t.length){var i=this.options.vertical?XP:qP;if(this.chartService.isPannable(i)){var n=this.maxLabelOffset();e[i+1]-=n.start,e[i+2]+=n.end}else{t[0].options.visible&&e.wrap(t[0].box);var r=t[t.length-1];r.options.visible&&e.wrap(r.box)}}return e}},{key:"maxLabelOffset",value:function(){for(var e=this.options,t=e.vertical,i=e.reverse,n=this.labelsBetweenTicks(),r=this.getLabelsTickPositions(),a=t?XP:qP,o=this.labels,s=i?1:0,l=i?0:1,c=0,u=0,h=0;h<o.length;h++){var f=o[h],d=this.labelTickIndex(f),p=void 0,v=void 0;n?(p=r[d+s],v=r[d+l]):p=v=r[d],c=Math.max(c,p-f.box[a+1]),u=Math.max(u,f.box[a+2]-v)}return{start:c,end:u}}},{key:"limitRange",value:function(e,t,i,n,r){var a=this.options;if(e<i&&r<0&&(!MF(a.min)||a.min<=i)||n<t&&r>0&&(!MF(a.max)||n<=a.max))return null;if(t<i&&r>0||n<e&&r<0)return{min:e,max:t};var o=t-e,s=e,l=t;return e<i&&r<0?(s=BF(e,i,n),l=BF(e+o,i+o,n)):t>n&&r>0&&(l=BF(t,i,n),s=BF(t-o,i,n-o)),{min:s,max:l}}},{key:"valueRange",value:function(){return{min:this.seriesMin,max:this.seriesMax}}},{key:"labelsBetweenTicks",value:function(){return!this.options.justified}},{key:"prepareUserOptions",value:function(){}}]),i}(aL);XF(AL,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:PP,visible:!0},title:{visible:!0,position:LP},majorTicks:{align:"outside",size:4,skip:0,step:1},minorTicks:{align:"outside",size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:"outside",minorTickType:"none",majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:PP,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});var RL=AL,DL="days",ML="years",zL={years:31536e6,months:26784e5,weeks:6048e5,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function PL(e,t){return e.getTime()-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset())}function FL(e,t){return new Date(e.getTime()+t)}function LL(e){var t;return e instanceof Date?t=e:e&&(t=new Date(e)),t}function jL(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function VL(e,t,i,n){var r=e;if(e){var a=LL(e),o=a.getHours();i===ML?jL(r=new Date(a.getFullYear()+t,0,1),0):"months"===i?jL(r=new Date(a.getFullYear(),a.getMonth()+t,1),o):"weeks"===i?jL(r=VL(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0,n=e.getDay();if(!isNaN(n))for(;n!==t;)0===n?n=6:n--,i++;return FL(e,864e5*-i)}(a,n),7*t,DL),o):i===DL?jL(r=new Date(a.getFullYear(),a.getMonth(),a.getDate()+t),o):"hours"===i?r=function(e,t){var i=new Date(e);i.setMinutes(0,0,0);var n=6e4*(e.getTimezoneOffset()-i.getTimezoneOffset());return FL(i,n+36e5*t)}(a,t):"minutes"===i?(r=FL(a,6e4*t)).getSeconds()>0&&r.setSeconds(0):"seconds"===i?r=FL(a,1e3*t):"milliseconds"===i&&(r=FL(a,t)),"milliseconds"!==i&&r.getMilliseconds()>0&&r.setMilliseconds(0)}return r}function BL(e,t,i){return VL(LL(e),0,t,i)}function NL(e,t,i){var n=LL(e);return n&&BL(n,t,i).getTime()===n.getTime()?n:VL(n,1,t,i)}function HL(e,t){return e&&t?e.getTime()-t.getTime():-1}function GL(e,t){return e.getTime()-t}function WL(e){if(JP(e)){for(var t=[],i=0;i<e.length;i++)t.push(WL(e[i]));return t}if(e)return LL(e).getTime()}function UL(e,t){return e&&t?WL(e)===WL(t):e===t}function qL(e,t,i){return PL(e,t)/zL[i]}function XL(e,t,i,n){var r=LL(e),a=LL(t);return("months"===i?r.getMonth()-a.getMonth()+12*(r.getFullYear()-a.getFullYear())+qL(r,new Date(r.getFullYear(),r.getMonth()),DL)/new Date(r.getFullYear(),r.getMonth()+1,0).getDate():i===ML?r.getFullYear()-a.getFullYear()+XL(r,new Date(r.getFullYear(),0),"months",1)/12:i===DL||"weeks"===i?qL(r,a,i):GL(r,t)/zL[i])/n}function JL(e,t,i){return i===ML?t.getFullYear()-e.getFullYear():"months"===i?12*JL(e,t,ML)+t.getMonth()-e.getMonth():i===DL?Math.floor(GL(t,e)/864e5):Math.floor(GL(t,e)/zL[i])}function YL(e,t){return eF(t)&&e.parseDate(t)||LL(t)}function KL(e,t){if(JP(t)){for(var i=[],n=0;n<t.length;n++)i.push(YL(e,t[n]));return i}return YL(e,t)}var ZL=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"initFields",value:function(){this._ticks={}}},{key:"categoriesHash",value:function(){return""}},{key:"clone",value:function(){var e=new i(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return e.createLabels(),e}},{key:"initUserOptions",value:function(e){var t=e.categories||[],i=MF(e.min),n=MF(e.max);if(e.srcCategories=e.categories=t,(i||n)&&t.length){var r,a=i?Math.floor(e.min):0;r=n?e.justified?Math.floor(e.max)+1:Math.ceil(e.max):t.length,e.categories=e.categories.slice(a,r)}return e}},{key:"rangeIndices",value:function(){var e=this.options,t=e.categories.length||1;return{min:QP(e.min)?e.min%1:0,max:QP(e.max)&&e.max%1!=0&&e.max<this.totalRange().max?t-(1-e.max%1):t-(e.justified?1:0)}}},{key:"totalRangeIndices",value:function(e){var t,i=this.options,n=QP(i.min)?i.min:0;if(t=QP(i.max)?i.max:QP(i.min)?n+i.categories.length:this.totalRange().max||1,e){var r=this.totalRange();n=BF(n,0,r.max),t=BF(t,0,r.max)}return{min:n,max:t}}},{key:"range",value:function(){var e=this.options;return{min:QP(e.min)?e.min:0,max:QP(e.max)?e.max:this.totalRange().max}}},{key:"roundedRange",value:function(){return this.range()}},{key:"totalRange",value:function(){var e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}}},{key:"scaleOptions",value:function(){var e=this.rangeIndices(),t=e.min,i=e.max,n=this.lineBox();return{scale:(this.options.vertical?n.height():n.width())/(i-t||1)*(this.options.reverse?-1:1),box:n,min:t,max:i}}},{key:"arrangeLabels",value:function(){_get(_getPrototypeOf(i.prototype),"arrangeLabels",this).call(this),this.hideOutOfRangeLabels()}},{key:"hideOutOfRangeLabels",value:function(){var e=this.box,t=this.labels;if(t.length){var i=this.options.vertical?XP:qP,n=e[i+1],r=e[i+2],a=t[0],o=VF(t);(a.box[i+1]>r||a.box[i+2]<n)&&(a.options.visible=!1),(o.box[i+1]>r||o.box[i+2]<n)&&(o.options.visible=!1)}}},{key:"getMajorTickPositions",value:function(){return this.getTicks().majorTicks}},{key:"getMinorTickPositions",value:function(){return this.getTicks().minorTicks}},{key:"getLabelsTickPositions",value:function(){return this.getTicks().labelTicks}},{key:"tickIndices",value:function(e){for(var t=this.rangeIndices(),i=t.min,n=t.max,r=Math.ceil(n),a=Math.floor(i),o=[];a<=r;)o.push(a),a+=e;return o}},{key:"getTickPositions",value:function(e){for(var t=this.options,i=t.vertical,n=t.reverse,r=this.scaleOptions(),a=r.scale,o=r.box,s=r.min,l=o[(i?XP:qP)+(n?2:1)],c=this.tickIndices(e),u=[],h=0;h<c.length;h++)u.push(l+GF(a*(c[h]-s),3));return u}},{key:"getTicks",value:function(){var e=this.options,t=this._ticks,i=this.rangeIndices(),n=this.lineBox(),r=n.getHash()+i.min+","+i.max+e.reverse+e.justified;if(t._hash!==r){var a=e.minorTicks.visible||e.minorGridLines.visible;t._hash=r,t.labelTicks=this.getTickPositions(1),t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,n),t.minorTicks=a?this.filterOutOfRangePositions(this.getTickPositions(.5),n):[]}return t}},{key:"filterOutOfRangePositions",value:function(e,t){if(!e.length)return e;for(var i=this.options.vertical?XP:qP,n=function(e){return t[i+1]<=e&&e<=t[i+2]},r=e.length-1,a=0;!n(e[a])&&a<=r;)a++;for(var o=r;!n(e[o])&&o>=0;)o--;return e.slice(a,o+1)}},{key:"getSlot",value:function(e,t,i){var n=this.options,r=n.reverse,a=n.justified,o=n.vertical,s=this.scaleOptions(),l=s.scale,c=s.box,u=s.min,h=o?XP:qP,f=c[h+(r?2:1)],d=c.clone(),p=!MF(t),v=UF(e,0),g=UF(t,v);g=Math.max(g-1,v);var m=f+(v-u)*l,y=f+((g=Math.max(v,g))+1-u)*l;return p&&a&&(y=m),i&&(m=BF(m,c[h+1],c[h+2]),y=BF(y,c[h+1],c[h+2])),d[h+1]=r?y:m,d[h+2]=r?m:y,d}},{key:"limitSlot",value:function(e){var t=this.options.vertical?XP:qP,i=this.lineBox(),n=e.clone();return n[t+1]=BF(e[t+1],i[t+1],i[t+2]),n[t+2]=BF(e[t+2],i[t+1],i[t+2]),n}},{key:"slot",value:function(e,t,n){var r=Math.floor(this.options.min||0),a=e,o=t;return"string"==typeof a?a=this.categoryIndex(a):QP(a)&&(a-=r),"string"==typeof o?o=this.categoryIndex(o):QP(o)&&(o-=r),_get(_getPrototypeOf(i.prototype),"slot",this).call(this,a,o,n)}},{key:"pointCategoryIndex",value:function(e){var t=this.options,i=t.reverse,n=t.justified,r=t.vertical?XP:qP,a=this.scaleOptions(),o=a.scale,s=a.box,l=a.min,c=a.max,u=s[r+1],h=e[r];if(h<u||h>s[r+2])return null;var f=(i?c:l)+(h-u)/o,d=f%1;return n?f=Math.round(f):0===d&&f>0&&f--,Math.floor(f)}},{key:"getCategory",value:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]}},{key:"categoryIndex",value:function(e){return this.totalIndex(e)-Math.floor(this.options.min||0)}},{key:"categoryAt",value:function(e,t){var i=this.options;return(t?i.srcCategories:i.categories)[e]}},{key:"categoriesCount",value:function(){return(this.options.categories||[]).length}},{key:"translateRange",value:function(e){var t=this.options,i=this.lineBox(),n=t.vertical?i.height():i.width(),r=t.categories.length,a=GF(e/(n/r),10);return{min:a,max:r+a}}},{key:"zoomRange",value:function(e){var t=this.totalRangeIndices(),i=this.totalRange(),n=i.min,r=i.max,a=BF(t.min+e,n,r),o=BF(t.max-e,n,r);if(o-a>0)return{min:a,max:o}}},{key:"scaleRange",value:function(e){var t=this.options.categories.length,i=e*t;return{min:-i,max:t+i}}},{key:"labelsCount",value:function(){var e=this.labelsRange();return e.max-e.min}},{key:"labelsRange",value:function(){var e=this.options,t=e.justified,i=e.labels,n=this.totalRangeIndices(!0),r=n.min,a=n.max,o=Math.floor(r);return t?(r=Math.ceil(r),a=Math.floor(a)):(r=Math.floor(r),a=Math.ceil(a)),{min:(r>i.skip?i.skip+i.step*Math.ceil((r-i.skip)/i.step):i.skip)-o,max:(e.categories.length?a+(t?1:0):0)-o}}},{key:"createAxisLabel",value:function(e,t){var i=this.options,n=i.dataItems?i.dataItems[e]:null,r=UF(i.categories[e],""),a=this.axisLabelText(r,n,t);return new SL(r,a,e,n,t)}},{key:"shouldRenderNote",value:function(e){var t=this.totalRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)}},{key:"noteSlot",value:function(e){var t=e-Math.floor(this.options.min||0);return this.getSlot(t)}},{key:"arrangeNotes",value:function(){_get(_getPrototypeOf(i.prototype),"arrangeNotes",this).call(this),this.hideOutOfRangeNotes()}},{key:"hideOutOfRangeNotes",value:function(){var e=this.notes,t=this.box;if(e&&e.length)for(var i=this.options.vertical?XP:qP,n=t[i+1],r=t[i+2],a=0;a<e.length;a++){var o=e[a];o.box&&(r<o.box[i+1]||o.box[i+2]<n)&&o.hide()}}},{key:"pan",value:function(e){var t=this.totalRangeIndices(!0),i=this.scaleOptions().scale,n=GF(e/i,10),r=this.totalRange();return this.limitRange(t.min+n,t.max+n,0,r.max,n)}},{key:"pointsRange",value:function(e,t){var i=this.options,n=i.reverse,r=i.vertical?XP:qP,a=this.totalRangeIndices(!0),o=this.scaleOptions(),s=o.scale,l=o.box[r+(n?2:1)],c=a.min+(e[r]-l)/s,u=a.min+(t[r]-l)/s,h=Math.min(c,u),f=Math.max(c,u);if(f-h>=.01)return{min:h,max:f}}},{key:"valueRange",value:function(){return this.range()}},{key:"totalIndex",value:function(e){var t=this.options;return this._categoriesMap?this._categoriesMap.get(e):function(e,t){if(e instanceof Date){for(var i=t.length,n=0;n<i;n++)if(UL(t[n],e))return n;return-1}return t.indexOf(e)}(e,t.srcCategories)}},{key:"currentRangeIndices",value:function(){var e=this.options,t=0;return QP(e.min)&&(t=Math.floor(e.min)),{min:t,max:QP(e.max)?e.justified?Math.floor(e.max):Math.ceil(e.max)-1:this.totalCount()-1}}},{key:"mapCategories",value:function(){if(!this._categoriesMap)for(var e=this._categoriesMap=new xF,t=this.options.srcCategories,i=0;i<t.length;i++)e.set(t[i],i)}},{key:"totalCount",value:function(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}]),i}(RL);XF(ZL,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:PP},labels:{zIndex:1},justified:!1,_deferLabels:!0});var $L=ZL,QL={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},ej=["milliseconds","seconds","minutes","hours",DL,"weeks","months",ML];function tj(e){var t=e._range;return t||((t=e._range=JF(e)).min=LL(t.min),t.max=LL(t.max)),t}var ij=function(){function e(t){_classCallCheck(this,e),this.options=t}return _createClass(e,[{key:"displayIndices",value:function(){return{min:0,max:1}}},{key:"displayRange",value:function(){return{}}},{key:"total",value:function(){return{}}},{key:"valueRange",value:function(){return{}}},{key:"valueIndex",value:function(){return-1}},{key:"values",value:function(){return[]}},{key:"totalIndex",value:function(){return-1}},{key:"valuesCount",value:function(){return 0}},{key:"totalCount",value:function(){return 0}},{key:"dateAt",value:function(){return null}}]),e}(),nj=function(){function e(t,i,n){_classCallCheck(this,e),this.options=n,n.baseUnitStep=n.baseUnitStep||1;var r=n.roundToBaseUnit,a=n.justified;this.start=VL(t,0,n.baseUnit,n.weekStartDay);var o=this.roundToTotalStep(i),s=!a&&UL(i,o)&&!n.justifyEnd;this.end=this.roundToTotalStep(i,!a,s?1:0);var l=n.min||t;this.valueStart=this.roundToTotalStep(l),this.displayStart=r?this.valueStart:l;var c=n.max;c?(this.valueEnd=this.roundToTotalStep(c,!1,!a&&UL(c,this.roundToTotalStep(c))?-1:0),this.displayEnd=r?this.roundToTotalStep(c,!a):n.max):(this.valueEnd=o,this.displayEnd=r||s?this.end:i),this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}return _createClass(e,[{key:"displayRange",value:function(){return{min:this.displayStart,max:this.displayEnd}}},{key:"displayIndices",value:function(){if(!this._indices){var e=this.options,t=e.baseUnit,i=e.baseUnitStep,n=XL(this.displayStart,this.valueStart,t,i),r=XL(this.displayEnd,this.valueStart,t,i);this._indices={min:n,max:r}}return this._indices}},{key:"total",value:function(){return{min:this.start,max:this.end}}},{key:"totalCount",value:function(){return this.totalIndex(this.end)+(this.options.justified?1:0)}},{key:"valueRange",value:function(){return{min:this.valueStart,max:this.valueEnd}}},{key:"valueIndex",value:function(e){var t=this.options;return Math.floor(XL(e,this.valueStart,t.baseUnit,t.baseUnitStep))}},{key:"totalIndex",value:function(e){var t=this.options;return Math.floor(XL(e,this.start,t.baseUnit,t.baseUnitStep))}},{key:"dateIndex",value:function(e){var t=this.options;return XL(e,this.valueStart,t.baseUnit,t.baseUnitStep)}},{key:"valuesCount",value:function(){return this.valueIndex(this.valueEnd)+1}},{key:"values",value:function(){var e=this._values;if(!e){var t=this.options,i=this.valueRange();this._values=e=[];for(var n=i.min;n<=i.max;)e.push(n),n=VL(n,t.baseUnitStep,t.baseUnit,t.weekStartDay)}return e}},{key:"dateAt",value:function(e,t){var i=this.options;return VL(t?this.start:this.valueStart,i.baseUnitStep*e,i.baseUnit,i.weekStartDay)}},{key:"roundToTotalStep",value:function(e,t,i){var n=this.options,r=n.baseUnit,a=n.baseUnitStep,o=n.weekStartDay,s=this.start,l=XL(e,s,r,a),c=t?Math.ceil(l):Math.floor(l);return i&&(c+=i),VL(s,c*a,r,o)}}]),e}();function rj(e,t,i){for(var n,r,a,o=tj(e.categories),s=(e.max||o.max)-(e.min||o.min),l=e.autoBaseUnitSteps,c=e.maxDateGroups,u="fit"===e.baseUnit,h=t?ej.indexOf(t):0,f=u?ej[h++]:e.baseUnit,d=s/zL[f],p=d;!r||d>=c;){n=n||l[f].slice(0);do{a=n.shift()}while(a&&t===f&&a<i);if(a)d=p/(r=a);else{if(f===VF(ej)){r=Math.ceil(p/c);break}if(!u){d>c&&(r=Math.ceil(p/c));break}f=ej[h++]||VF(ej),p=s/zL[f],n=null}}e.baseUnitStep=r,e.baseUnit=f}var aj=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"clone",value:function(){var e=new i(Object.assign({},this.options),this.chartService);return e.createLabels(),e}},{key:"categoriesHash",value:function(){var e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e}},{key:"initUserOptions",value:function(e){return e}},{key:"initFields",value:function(){_get(_getPrototypeOf(i.prototype),"initFields",this).call(this);var e=this.chartService,t=e.intl,n=this.options,r=n.categories||[];if(r._parsed||((r=KL(t,r))._parsed=!0),n=rF({roundToBaseUnit:!0},n,{categories:r,min:YL(t,n.min),max:YL(t,n.max)}),e.panning&&e.isPannable(n.vertical?XP:qP)&&(n.roundToBaseUnit=!1),n.userSetBaseUnit=n.userSetBaseUnit||n.baseUnit,n.userSetBaseUnitStep=n.userSetBaseUnitStep||n.baseUnitStep,this.options=n,n.srcCategories=r,r.length>0){var a=tj(r),o=n.maxDivisions;if(this.dataRange=new nj(a.min,a.max,function(e){var t=(e.baseUnit||"").toLowerCase();return"fit"!==t&&!SF(t,ej)&&function(e){for(var t,i,n=e.categories,r=MF(n)?n.length:0,a=NP,o=0;o<r;o++){var s=n[o];if(s&&t){var l=PL(s,t);l>0&&(i=(a=Math.min(a,l))>=31536e6?ML:a>=24192e5?"months":a>=6048e5?"weeks":a>=864e5?DL:a>=36e5?"hours":a>=6e4?"minutes":"seconds")}t=s}e.baseUnit=i||DL}(e),"fit"!==t&&"auto"!==e.baseUnitStep||rj(e),e}(n)),o){var s=this.dataRange.displayRange(),l=Object.assign({},n,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:s.min,max:s.max,maxDateGroups:o}),c=this.dataRange.options;rj(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new nj(a.min,a.max,l)}else this.divisionRange=this.dataRange}else n.baseUnit=n.baseUnit||DL,this.dataRange=this.divisionRange=new ij(n)}},{key:"tickIndices",value:function(e){var t=this.dataRange,n=this.divisionRange,r=n.valuesCount();if(!this.options.maxDivisions||!r)return _get(_getPrototypeOf(i.prototype),"tickIndices",this).call(this,e);var a=[],o=n.values(),s=0;this.options.justified||(o=o.concat(n.dateAt(r)),s=.5);for(var l=0;l<o.length;l++)if(a.push(t.dateIndex(o[l])+s),1!==e&&l>=1){var c=a.length-1;a.splice(l,0,a[c-1]+(a[c]-a[c-1])*e)}return a}},{key:"shouldRenderNote",value:function(e){var t=this.range(),i=this.options.categories||[];return HL(e,t.min)>=0&&HL(e,t.max)<=0&&i.length}},{key:"parseNoteValue",value:function(e){return YL(this.chartService.intl,e)}},{key:"noteSlot",value:function(e){return this.getSlot(e)}},{key:"translateRange",value:function(e){var t=this.options,i=t.baseUnit,n=t.weekStartDay,r=t.vertical,a=this.lineBox(),o=r?a.height():a.width(),s=this.range(),l=GF(e/(o/(s.max-s.min)),10);if(s.min&&s.max){var c=FL(t.min||s.min,l),u=FL(t.max||s.max,l);s={min:VL(c,0,i,n),max:VL(u,0,i,n)}}return s}},{key:"scaleRange",value:function(e){var t=Math.abs(e),i=this.range(),n=i,r=n.min,a=n.max;if(r&&a){for(;t--;){var o=GL(r,a),s=Math.round(.1*o);e<0?(r=FL(r,s),a=FL(a,-s)):(r=FL(r,-s),a=FL(a,s))}i={min:r,max:a}}return i}},{key:"labelsRange",value:function(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}},{key:"pan",value:function(e){if(this.isEmpty())return null;var t=this.options,i=this.lineBox(),n=t.vertical?i.height():i.width(),r=this.dataRange.displayRange(),a=r.min,o=r.max,s=this.dataRange.total(),l=GF(e/(n/(o-a)),10)*(t.reverse?-1:1),c=FL(a,l),u=FL(o,l),h=this.limitRange(WL(c),WL(u),WL(s.min),WL(s.max),l);return h?(h.min=LL(h.min),h.max=LL(h.max),h.baseUnit=t.baseUnit,h.baseUnitStep=t.baseUnitStep||1,h.userSetBaseUnit=t.userSetBaseUnit,h.userSetBaseUnitStep=t.userSetBaseUnitStep,h):void 0}},{key:"pointsRange",value:function(e,t){if(this.isEmpty())return null;var n=_get(_getPrototypeOf(i.prototype),"pointsRange",this).call(this,e,t),r=this.dataRange.displayRange(),a=this.dataRange.displayIndices(),o=GL(r.max,r.min)/(a.max-a.min),s=this.options;return{min:FL(r.min,n.min*o),max:FL(r.min,n.max*o),baseUnit:s.userSetBaseUnit||s.baseUnit,baseUnitStep:s.userSetBaseUnitStep||s.baseUnitStep}}},{key:"zoomRange",value:function(e){if(this.isEmpty())return null;var t=this.options,i="fit"===t.userSetBaseUnit,n=this.dataRange.total(),r=this.dataRange.displayRange(),a=r.min,o=r.max,s=this.dataRange.options,l=s.weekStartDay,c=s.baseUnit,u=s.baseUnitStep,h=VL(a,e*u,c,l),f=VL(o,-e*u,c,l);if(i){var d,p,v=t.autoBaseUnitSteps,g=t.maxDateGroups,m=VF(v[c])*g*zL[c],y=GL(o,a),b=GL(f,h),k=ej.indexOf(c);if(b<zL[c]&&"milliseconds"!==c)c=ej[k-1],h=FL(a,p=(y-(g-1)*(d=VF(v[c]))*zL[c])/2),f=FL(o,-p);else if(b>m&&c!==ML){var C=0;do{k++,c=ej[k],C=0,p=2*zL[c];do{d=v[c][C],C++}while(C<v[c].length&&p*d<y)}while(c!==ML&&p*d<y);(p=(p*d-y)/2)>0&&(h=FL(a,-p),f=FL(o,p),h=FL(h,BF(f,n.min,n.max)-f),f=FL(f,BF(h,n.min,n.max)-h))}}return h<n.min&&(h=n.min),f>n.max&&(f=n.max),h&&f&&GL(f,h)>0?{min:h,max:f,baseUnit:t.userSetBaseUnit||t.baseUnit,baseUnitStep:t.userSetBaseUnitStep||t.baseUnitStep}:void 0}},{key:"range",value:function(){return this.dataRange.displayRange()}},{key:"createAxisLabel",value:function(e,t){var i=this.options,n=i.dataItems&&!i.maxDivisions?i.dataItems[e]:null,r=this.divisionRange.dateAt(e);t.format=t.format||t.dateFormats[this.divisionRange.options.baseUnit];var a=this.axisLabelText(r,n,t);if(a)return new SL(r,a,e,n,t)}},{key:"categoryIndex",value:function(e){return this.dataRange.valueIndex(e)}},{key:"slot",value:function(e,t,i){var n=this.dataRange,r=e,a=t;r instanceof Date&&(r=n.dateIndex(r)),a instanceof Date&&(a=n.dateIndex(a));var o=this.getSlot(r,a,i);if(o)return o.toRect()}},{key:"getSlot",value:function(e,t,n){var r=e,a=t;return"object"==typeof r&&(r=this.categoryIndex(r)),"object"==typeof a&&(a=this.categoryIndex(a)),_get(_getPrototypeOf(i.prototype),"getSlot",this).call(this,r,a,n)}},{key:"valueRange",value:function(){var e=tj(this.options.srcCategories);return{min:LL(e.min),max:LL(e.max)}}},{key:"categoryAt",value:function(e,t){return this.dataRange.dateAt(e,t)}},{key:"categoriesCount",value:function(){return this.dataRange.valuesCount()}},{key:"rangeIndices",value:function(){return this.dataRange.displayIndices()}},{key:"labelsBetweenTicks",value:function(){return!this.divisionRange.options.justified}},{key:"prepareUserOptions",value:function(){this.isEmpty()||(this.options.categories=this.dataRange.values())}},{key:"getCategory",value:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.dataRange.dateAt(t)}},{key:"totalIndex",value:function(e){return this.dataRange.totalIndex(e)}},{key:"currentRangeIndices",value:function(){var e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}}},{key:"totalRange",value:function(){return this.dataRange.total()}},{key:"totalCount",value:function(){return this.dataRange.totalCount()}},{key:"isEmpty",value:function(){return!this.options.srcCategories.length}},{key:"roundedRange",value:function(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();var e=this.options,t=tj(e.srcCategories);return new nj(t.min,t.max,Object.assign({},e,{justified:!1,roundToBaseUnit:!0,justifyEnd:e.justified})).displayRange()}}]),i}($L);XF(aj,{type:VP,labels:{dateFormats:QL},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});var oj=aj;function sj(e,t){return GF(Math.floor(e/t)*t,10)}function lj(e,t){return GF(Math.ceil(e/t)*t,10)}function cj(e){return Math.max(Math.min(e,3e5),-3e5)}var uj=Math.pow(10,-9),hj=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){return _classCallCheck(this,i),t.call(this,Object.assign({},r,{seriesMin:e,seriesMax:n}),a)}return _createClass(i,[{key:"initUserOptions",value:function(e){var t=function(e,t,i){var n=i.narrowRange,r=function(e,t,i){if(!e&&!t)return 0;var n;if(e>=0&&t>=0){var r=e===t?0:e;if(!1===i||!i&&(t-r)/t>.2)return 0;n=Math.max(0,r-(t-r)/2)}else n=e;return n}(e,t,n),a=function(e,t,i){if(!e&&!t)return 1;var n;if(e<=0&&t<=0){var r=e===t?0:t,a=Math.abs((r-e)/r);if(!1===i||!i&&a>.2)return 0;n=Math.min(0,r-(e-r)/2)}else n=t;return n}(e,t,n),o=KF(r,a),s={majorUnit:o};return!1!==i.roundToMajorUnit&&(r<0&&fj(r,o,1/3)&&(r-=o),a>0&&fj(a,o,1/3)&&(a+=o)),s.min=sj(r,o),s.max=lj(a,o),s}(e.seriesMin,e.seriesMax,e);return this.totalOptions=function(e,t){return{min:MF(t.min)?Math.min(e.min,t.min):e.min,max:MF(t.max)?Math.max(e.max,t.max):e.max,majorUnit:e.majorUnit}}(t,e),function(e,t){var i,n,r=t;if(t){!function(e,t){for(var i=0;i<t.length;i++){var n=t[i];null===e[n]&&(e[n]=void 0)}}(t,["min","max"]),i=MF(t.min),n=MF(t.max);var a=i||n;a&&t.min===t.max&&(t.min>0?t.min=0:t.max=1),t.majorUnit?(e.min=sj(e.min,t.majorUnit),e.max=lj(e.max,t.majorUnit)):a&&(r=rF(e,t),e.majorUnit=KF(r.min,r.max))}e.minorUnit=(r.majorUnit||e.majorUnit)/5;var o=rF(e,r);return o.min>=o.max&&(i&&!n?o.max=o.min+o.majorUnit:!i&&n&&(o.min=o.max-o.majorUnit)),o}(t,e)}},{key:"initFields",value:function(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}},{key:"clone",value:function(){return new i(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}},{key:"startValue",value:function(){return 0}},{key:"range",value:function(){var e=this.options;return{min:e.min,max:e.max}}},{key:"getDivisions",value:function(e){if(0===e)return 1;var t=this.options;return Math.floor(GF((t.max-t.min)/e,3))+1}},{key:"getTickPositions",value:function(e,t){var i=this.options,n=i.vertical,r=i.reverse,a=this.lineBox(),o=e*((n?a.height():a.width())/(i.max-i.min)),s=this.getDivisions(e),l=(n?-1:1)*(r?-1:1),c=[],u=a[(n?XP:qP)+(1===l?1:2)],h=0;t&&(h=t/e);for(var f=0;f<s;f++)f%h!=0&&c.push(GF(u,3)),u+=o*l;return c}},{key:"getMajorTickPositions",value:function(){return this.getTickPositions(this.options.majorUnit)}},{key:"getMinorTickPositions",value:function(){return this.getTickPositions(this.options.minorUnit)}},{key:"getSlot",value:function(e,t){var i,n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.options,o=a.vertical,s=a.reverse,l=o?XP:qP,c=this.lineBox(),u=c[l+(s?2:1)],h=(s?-1:1)*((o?c.height():c.width())/(a.max-a.min)),f=new QF(c.x1,c.y1,c.x1,c.y1),d=e,p=t;return MF(d)||(d=p||0),MF(p)||(p=d||0),r&&(d=Math.max(Math.min(d,a.max),a.min),p=Math.max(Math.min(p,a.max),a.min)),o?(i=a.max-Math.max(d,p),n=a.max-Math.min(d,p)):(i=Math.min(d,p)-a.min,n=Math.max(d,p)-a.min),f[l+1]=cj(u+h*(s?n:i)),f[l+2]=cj(u+h*(s?i:n)),f}},{key:"getValue",value:function(e){var t=this.options,i=t.vertical,n=t.reverse,r=Number(t.max),a=Number(t.min),o=i?XP:qP,s=this.lineBox(),l=s[o+(n?2:1)],c=i?s.height():s.width(),u=(n?-1:1)*(e[o]-l),h=u*((r-a)/c);return u<0||u>c?null:GF(i?r-h:a+h,10)}},{key:"translateRange",value:function(e){var t=this.options,i=t.vertical,n=t.reverse,r=t.max,a=t.min,o=this.lineBox(),s=i?o.height():o.width(),l=GF(e/(s/(r-a)),10);return!i&&!n||i&&n||(l=-l),{min:a+l,max:r+l,offset:l}}},{key:"scaleRange",value:function(e){var t=this.options,i=-e*t.majorUnit;return{min:t.min-i,max:t.max+i}}},{key:"labelsCount",value:function(){return this.getDivisions(this.options.majorUnit)}},{key:"createAxisLabel",value:function(e,t){var i=this.options,n=GF(i.min+e*i.majorUnit,10),r=this.axisLabelText(n,null,t);return new SL(n,r,e,null,t)}},{key:"shouldRenderNote",value:function(e){var t=this.range();return t.min<=e&&e<=t.max}},{key:"pan",value:function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}},{key:"pointsRange",value:function(e,t){var i=this.getValue(e),n=this.getValue(t),r=Math.min(i,n),a=Math.max(i,n);if(this.isValidRange(r,a))return{min:r,max:a}}},{key:"zoomRange",value:function(e){var t=this.totalMin,i=this.totalMax,n=this.scaleRange(e),r=BF(n.min,t,i),a=BF(n.max,t,i);if(this.isValidRange(r,a))return{min:r,max:a}}},{key:"isValidRange",value:function(e,t){return t-e>uj}}]),i}(RL);function fj(e,t,i){var n=GF(Math.abs(e%t),10);return 0===n||n>t*(1-i)}XF(hj,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:PP},labels:{format:"#.####################"},zIndex:1});var dj=hj,pj=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;_classCallCheck(this,i);var s=LL(e),l=LL(n),c=a.intl,u=r||{};u=function(e,t,i){var n,r,a=i.min||e,o=i.max||t,s=i.baseUnit||(o&&a?(n=PL(o,a),r="hours",n>=31536e6?r=ML:n>=26784e5?r="months":n>=6048e5?r="weeks":n>=864e5&&(r=DL),r):"hours"),l=zL[s],c=i.weekStartDay||0,u=BL(WL(a)-1,s,c)||LL(o),h=NL(WL(o)+1,s,c),f=(i.majorUnit?i.majorUnit:void 0)||lj(KF(u.getTime(),h.getTime()),l)/l,d=JL(u,h,s),p=lj(d,f)-d,v=Math.floor(p/2),g=p-v;return i.baseUnit||delete i.baseUnit,i.baseUnit=i.baseUnit||s,i.min=i.min||VL(u,-v,s,c),i.max=i.max||VL(h,g,s,c),i.minorUnit=i.minorUnit||f/5,i.majorUnit=f,i}(s,l,u=rF(u||{},{min:YL(c,u.min),max:YL(c,u.max),axisCrossingValue:KL(c,u.axisCrossingValues||u.axisCrossingValue)})),(o=t.call(this,u,a)).intlService=c,o.seriesMin=s,o.seriesMax=l;var h=u.weekStartDay||0;return o.totalMin=WL(BL(WL(s)-1,u.baseUnit,h)),o.totalMax=WL(NL(WL(l)+1,u.baseUnit,h)),o}return _createClass(i,[{key:"clone",value:function(){return new i(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}},{key:"range",value:function(){var e=this.options;return{min:e.min,max:e.max}}},{key:"getDivisions",value:function(e){var t=this.options;return Math.floor(JL(t.min,t.max,t.baseUnit)/e+1)}},{key:"getTickPositions",value:function(e){for(var t=this.options,i=t.vertical,n=this.lineBox(),r=(i?-1:1)*(t.reverse?-1:1),a=n[(i?XP:qP)+(1===r?1:2)],o=this.getDivisions(e),s=GL(t.max,t.min),l=(i?n.height():n.width())/s,c=t.weekStartDay||0,u=[a],h=1;h<o;h++){var f=a+GL(VL(t.min,h*e,t.baseUnit,c),t.min)*l*r;u.push(GF(f,3))}return u}},{key:"getMajorTickPositions",value:function(){return this.getTickPositions(this.options.majorUnit)}},{key:"getMinorTickPositions",value:function(){return this.getTickPositions(this.options.minorUnit)}},{key:"getSlot",value:function(e,t,i){return dj.prototype.getSlot.call(this,YL(this.intlService,e),YL(this.intlService,t),i)}},{key:"getValue",value:function(e){var t=dj.prototype.getValue.call(this,e);return null!==t?LL(t):null}},{key:"labelsCount",value:function(){return this.getDivisions(this.options.majorUnit)}},{key:"createAxisLabel",value:function(e,t){var i=this.options,n=e*i.majorUnit,r=i.min;n>0&&(r=VL(r,n,i.baseUnit,i.weekStartDay||0)),t.format=t.format||t.dateFormats[i.baseUnit];var a=this.axisLabelText(r,null,t);return new SL(r,a,e,null,t)}},{key:"translateRange",value:function(e,t){var i=this.options,n=i.baseUnit,r=i.weekStartDay||0,a=this.lineBox(),o=i.vertical?a.height():a.width(),s=this.range(),l=o/GL(s.max,s.min),c=GF(e/l,10)*(i.reverse?-1:1),u=FL(i.min,c),h=FL(i.max,c);return t||(u=VL(u,0,n,r),h=VL(h,0,n,r)),{min:u,max:h,offset:c}}},{key:"scaleRange",value:function(e){for(var t=this.options,i=t.min,n=t.max,r=Math.abs(e);r--;){var a=GL(i,n),o=Math.round(.1*a);e<0?(i=FL(i,o),n=FL(n,-o)):(i=FL(i,-o),n=FL(n,o))}return{min:i,max:n}}},{key:"shouldRenderNote",value:function(e){var t=this.range();return HL(e,t.min)>=0&&HL(e,t.max)<=0}},{key:"pan",value:function(e){var t=this.translateRange(e,!0),i=this.limitRange(WL(t.min),WL(t.max),this.totalMin,this.totalMax,t.offset);if(i)return{min:LL(i.min),max:LL(i.max)}}},{key:"pointsRange",value:function(e,t){var i=this.getValue(e),n=this.getValue(t),r=Math.min(i,n),a=Math.max(i,n);return{min:LL(r),max:LL(a)}}},{key:"zoomRange",value:function(e){var t=this.scaleRange(e);return{min:LL(BF(WL(t.min),this.totalMin,this.totalMax)),max:LL(BF(WL(t.max),this.totalMin,this.totalMax))}}}]),i}(RL);XF(pj,{type:VP,majorGridLines:{visible:!0,width:1,color:PP},labels:{dateFormats:QL}});var vj=pj,gj=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;_classCallCheck(this,i);var s=rF({majorUnit:10,min:e,max:n},r),l=s.majorUnit,c=function(e,t){var i=GF(yj(e,t),10)%1;return e<=0?t:0!==i&&(i<.3||i>.9)?Math.pow(t,yj(e,t)+.2):Math.pow(t,Math.ceil(yj(e,t)))}(n,l),u=function(e,t,i){var n=i.majorUnit,r=e;return e<=0?r=t<=1?Math.pow(n,-2):1:i.narrowRange||(r=Math.pow(n,Math.floor(yj(e,n)))),r}(e,n,s),h=function(e,t,i,n){var r=i.min,a=i.max;return MF(i.axisCrossingValue)&&i.axisCrossingValue<=0&&mj(),MF(n.max)?n.max<=0&&mj():a=t,MF(n.min)?n.min<=0&&mj():r=e,{min:r,max:a}}(u,c,s,r);return s.max=h.max,s.min=h.min,s.minorUnit=r.minorUnit||GF(l-1,10),(o=t.call(this,s,a)).totalMin=MF(r.min)?Math.min(u,r.min):u,o.totalMax=MF(r.max)?Math.max(c,r.max):c,o.logMin=GF(yj(h.min,l),10),o.logMax=GF(yj(h.max,l),10),o.seriesMin=e,o.seriesMax=n,o.createLabels(),o}return _createClass(i,[{key:"clone",value:function(){return new i(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}},{key:"startValue",value:function(){return this.options.min}},{key:"getSlot",value:function(e,t,i){var n,r,a=this.options,o=this.logMin,s=this.logMax,l=a.reverse,c=a.vertical,u=a.majorUnit,h=c?XP:qP,f=this.lineBox(),d=f[h+(l?2:1)],p=(l?-1:1)*((c?f.height():f.width())/(s-o)),v=new QF(f.x1,f.y1,f.x1,f.y1),g=e,m=t;return MF(g)||(g=m||1),MF(m)||(m=g||1),g<=0||m<=0?null:(i&&(g=Math.max(Math.min(g,a.max),a.min),m=Math.max(Math.min(m,a.max),a.min)),g=yj(g,u),m=yj(m,u),c?(n=s-Math.max(g,m),r=s-Math.min(g,m)):(n=Math.min(g,m)-o,r=Math.max(g,m)-o),v[h+1]=cj(d+p*(l?r:n)),v[h+2]=cj(d+p*(l?n:r)),v)}},{key:"getValue",value:function(e){var t=this.options,i=this.logMin,n=this.logMax,r=t.reverse,a=t.vertical,o=t.majorUnit,s=this.lineBox(),l=a===r?1:-1,c=1===l?1:2,u=a?s.height():s.width(),h=a?XP:qP,f=l*(e[h]-s[h+c]);return f<0||f>u?null:GF(Math.pow(o,i+f*((n-i)/u)),10)}},{key:"range",value:function(){var e=this.options;return{min:e.min,max:e.max}}},{key:"scaleRange",value:function(e){var t=this.options.majorUnit,i=-e;return{min:Math.pow(t,this.logMin-i),max:Math.pow(t,this.logMax+i)}}},{key:"translateRange",value:function(e){var t=this.options,i=this.logMin,n=this.logMax,r=t.reverse,a=t.vertical,o=t.majorUnit,s=this.lineBox(),l=a?s.height():s.width(),c=GF(e/(l/(n-i)),10);return!a&&!r||a&&r||(c=-c),{min:Math.pow(o,i+c),max:Math.pow(o,n+c),offset:c}}},{key:"labelsCount",value:function(){var e=Math.floor(this.logMax);return Math.floor(e-this.logMin)+1}},{key:"getMajorTickPositions",value:function(){var e=[];return this.traverseMajorTicksPositions((function(t){e.push(t)}),{step:1,skip:0}),e}},{key:"createTicks",value:function(e){var t=this.options,i=t.majorTicks,n=t.minorTicks,r=t.vertical,a=t.labels.mirror,o=this.lineBox(),s={vertical:r};function l(t,i){s.tickX=a?o.x2:o.x2-i.size,s.tickY=a?o.y1-i.size:o.y1,s.position=t,e.append(OL(s,i))}return i.visible&&this.traverseMajorTicksPositions(l,i),n.visible&&this.traverseMinorTicksPositions(l,n),[]}},{key:"createGridLines",value:function(e){var t=this.options,i=t.minorGridLines,n=t.majorGridLines,r=t.vertical,a=e.lineBox(),o={lineStart:a[r?"x1":"y1"],lineEnd:a[r?"x2":"y2"],vertical:r},s=[],l=this.gridLinesVisual();function c(e,t){SF(e,s)||(o.position=e,l.append(EL(o,t)),s.push(e))}return n.visible&&this.traverseMajorTicksPositions(c,n),i.visible&&this.traverseMinorTicksPositions(c,i),l.children}},{key:"traverseMajorTicksPositions",value:function(e,t){for(var i=this._lineOptions(),n=i.lineStart,r=i.step,a=this.logMin,o=this.logMax,s=Math.ceil(a)+t.skip;s<=o;s+=t.step)e(GF(n+r*(s-a),10),t)}},{key:"traverseMinorTicksPositions",value:function(e,t){for(var i=this.options,n=i.min,r=i.max,a=i.minorUnit,o=i.majorUnit,s=this._lineOptions(),l=s.lineStart,c=s.step,u=this.logMin,h=this.logMax,f=Math.floor(u);f<h;f++)for(var d=this._minorIntervalOptions(f),p=t.skip;p<a;p+=t.step){var v=d.value+p*d.minorStep;if(v>r)break;v>=n&&e(GF(l+c*(yj(v,o)-u),10),t)}}},{key:"createAxisLabel",value:function(e,t){var i=Math.ceil(this.logMin+e),n=Math.pow(this.options.majorUnit,i),r=this.axisLabelText(n,null,t);return new SL(n,r,e,null,t)}},{key:"shouldRenderNote",value:function(e){var t=this.range();return t.min<=e&&e<=t.max}},{key:"pan",value:function(e){var t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}},{key:"pointsRange",value:function(e,t){var i=this.getValue(e),n=this.getValue(t);return{min:Math.min(i,n),max:Math.max(i,n)}}},{key:"zoomRange",value:function(e){var t=this.options,i=this.totalMin,n=this.totalMax,r=this.scaleRange(e),a=BF(r.min,i,n),o=BF(r.max,i,n),s=t.majorUnit,l=o>a&&t.min&&t.max&&GF(yj(t.max,s)-yj(t.min,s),10)<1,c=!(t.min===i&&t.max===n)&&GF(yj(o,s)-yj(a,s),10)>=1;if(l||c)return{min:a,max:o}}},{key:"_minorIntervalOptions",value:function(e){var t=this.options,i=t.minorUnit,n=t.majorUnit,r=Math.pow(n,e);return{value:r,minorStep:(Math.pow(n,e+1)-r)/i}}},{key:"_lineOptions",value:function(){var e=this.options,t=e.reverse,i=e.vertical,n=i?XP:qP,r=this.lineBox(),a=i===t?1:-1,o=1===a?1:2;return{step:a*((i?r.height():r.width())/(this.logMax-this.logMin)),lineStart:r[n+o],lineBox:r}}}]),i}(RL);function mj(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function yj(e,t){return Math.log(e)/Math.log(t)}XF(gj,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:PP},zIndex:1,_deferLabels:!0});var bj=gj,kj={createGridLines:function(e){var t,i,n=this.options,r=Math.abs(this.box.center().y-e.lineBox().y1),a=[],o=!1;return n.majorGridLines.visible&&(t=this.majorGridLineAngles(e),o=!0,a=this.renderMajorGridLines(t,r,n.majorGridLines)),n.minorGridLines.visible&&(i=this.minorGridLineAngles(e,o),RF(a,this.renderMinorGridLines(i,r,n.minorGridLines,e,o))),a},renderMajorGridLines:function(e,t,i){return this.renderGridLines(e,t,i)},renderMinorGridLines:function(e,t,i,n,r){var a=this.radiusCallback&&this.radiusCallback(t,n,r);return this.renderGridLines(e,t,i,a)},renderGridLines:function(e,t,i,n){for(var r={stroke:{width:i.width,color:i.color,dashType:i.dashType}},a=this.box.center(),o=new p.Circle([a.x,a.y],t),s=this.gridLinesVisual(),l=0;l<e.length;l++){var c=new m.Path(r);n&&(o.radius=n(e[l])),c.moveTo(o.center).lineTo(o.pointAt(e[l]+180)),s.append(c)}return s.children},gridLineAngles:function(e,t,i,n,r){var a=this,o=this.intervals(t,i,n,r),s=e.options,l=s.visible&&!1!==(s.line||{}).visible;return OF(o,(function(e){var t=a.intervalAngle(e);if(!l||90!==t)return t}))}},Cj=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"range",value:function(){return{min:0,max:this.options.categories.length}}},{key:"reflow",value:function(e){this.box=e,this.reflowLabels()}},{key:"lineBox",value:function(){return this.box}},{key:"reflowLabels",value:function(){for(var e=this.labels,t=this.options.labels,i=t.skip||0,n=t.step||1,r=new QF,a=0;a<e.length;a++){e[a].reflow(r);var o=e[a].box;e[a].reflow(this.getSlot(i+a*n).adjacentBox(0,o.width(),o.height()))}}},{key:"intervals",value:function(e,t,i){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.options,a=r.categories.length/e||1,o=360/a,s=i||1,l=[],c=0,u=t||0;u<a;u+=s)c=r.reverse?360-u*o:u*o,c=GF(c,3)%360,n&&SF(c,n)||l.push(c);return l}},{key:"majorIntervals",value:function(){return this.intervals(1)}},{key:"minorIntervals",value:function(){return this.intervals(.5)}},{key:"intervalAngle",value:function(e){return(360+e+this.options.startAngle)%360}},{key:"majorAngles",value:function(){var e=this;return OF(this.majorIntervals(),(function(t){return e.intervalAngle(t)}))}},{key:"createLine",value:function(){return[]}},{key:"majorGridLineAngles",value:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)}},{key:"minorGridLineAngles",value:function(e,t){var i=this.options,n=i.minorGridLines,r=i.majorGridLines,a=t?this.intervals(1,r.skip,r.step):null;return this.gridLineAngles(e,.5,n.skip,n.step,a)}},{key:"radiusCallback",value:function(e,t,i){if(t.options.type!==zP){var n=HF(360/(2*this.options.categories.length)),r=Math.cos(n)*e,a=this.majorAngles();return function(t){return!i&&SF(t,a)?e:r}}}},{key:"createPlotBands",value:function(){for(var e=this.options.plotBands||[],t=this._plotbandGroup=new m.Group({zIndex:-1}),i=0;i<e.length;i++){var n=e[i],r=this.plotBandSlot(n),a=this.getSlot(n.from),o=n.from-Math.floor(n.from);r.startAngle+=o*a.angle;var s=Math.ceil(n.to)-n.to;r.angle-=(s+o)*a.angle;var l=nL.current.createRing(r,{fill:{color:n.color,opacity:n.opacity},stroke:{opacity:n.opacity}});t.append(l)}this.appendVisual(t)}},{key:"plotBandSlot",value:function(e){return this.getSlot(e.from,e.to-1)}},{key:"getSlot",value:function(e,t){var i=this.options,n=i.justified,r=this.box,a=this.majorAngles(),o=a.length,s=360/o,l=e;i.reverse&&!n&&(l=(l+1)%o);var c=a[l=BF(Math.floor(l),0,o-1)];n&&((c-=s/2)<0&&(c+=360));var u=s*(BF(Math.ceil(t||l),l,o-1)-l+1);return new iL(r.center(),0,r.height()/2,c,u)}},{key:"slot",value:function(e,t){var i=this.getSlot(e,t),n=i.startAngle+180;return new p.Arc([i.center.x,i.center.y],{startAngle:n,endAngle:n+i.angle,radiusX:i.radius,radiusY:i.radius})}},{key:"pointCategoryIndex",value:function(e){for(var t=this.options.categories.length,i=null,n=0;n<t;n++)if(this.getSlot(n).containsPoint(e)){i=n;break}return i}}]),i}($L);XF(Cj,{startAngle:90,labels:{margin:uF(10)},majorGridLines:{visible:!0},justified:!0}),rF(Cj.prototype,kj);var wj=Cj,_j=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;_classCallCheck(this,i);var a=(r=t.call(this,e,n)).options;return a.minorUnit=a.minorUnit||a.majorUnit/2,r}return _createClass(i,[{key:"getDivisions",value:function(e){return dj.prototype.getDivisions.call(this,e)-1}},{key:"reflow",value:function(e){this.box=e,this.reflowLabels()}},{key:"reflowLabels",value:function(){for(var e=this.options,t=this.labels,i=this.options.labels,n=i.skip||0,r=i.step||1,a=new QF,o=this.intervals(e.majorUnit,n,r),s=0;s<t.length;s++){t[s].reflow(a);var l=t[s].box;t[s].reflow(this.getSlot(o[s]).adjacentBox(0,l.width(),l.height()))}}},{key:"lineBox",value:function(){return this.box}},{key:"intervals",value:function(e,t,i){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.options.min,a=this.getDivisions(e),o=[],s=i||1,l=t||0;l<a;l+=s){var c=(360+r+l*e)%360;n&&SF(c,n)||o.push(c)}return o}},{key:"majorIntervals",value:function(){return this.intervals(this.options.majorUnit)}},{key:"minorIntervals",value:function(){return this.intervals(this.options.minorUnit)}},{key:"intervalAngle",value:function(e){return(540-e-this.options.startAngle)%360}},{key:"createLine",value:function(){return[]}},{key:"majorGridLineAngles",value:function(e){var t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)}},{key:"minorGridLineAngles",value:function(e,t){var i=this.options,n=i.minorGridLines,r=i.majorGridLines,a=t?this.intervals(i.majorUnit,r.skip,r.step):null;return this.gridLineAngles(e,i.minorUnit,n.skip,n.step,a)}},{key:"plotBandSlot",value:function(e){return this.getSlot(e.from,e.to)}},{key:"getSlot",value:function(e,t){var i=this.options,n=this.box,r=i.startAngle,a=BF(e,i.min,i.max),o=BF(t||a,a,i.max);if(i.reverse&&(a*=-1,o*=-1),(o=(540-o-r)%360)<(a=(540-a-r)%360)){var s=a;a=o,o=s}return new iL(n.center(),0,n.height()/2,a,o-a)}},{key:"slot",value:function(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=this.options,a=360-r.startAngle,o=this.getSlot(e,n),s=Math.min(e,n),l=Math.max(e,n);return r.reverse?(t=s,i=l):(t=360-l,i=360-s),t=(t+a)%360,i=(i+a)%360,new p.Arc([o.center.x,o.center.y],{startAngle:t,endAngle:i,radiusX:o.radius,radiusY:o.radius})}},{key:"getValue",value:function(e){var t=this.options,i=this.box.center(),n=Math.round(zF(Math.atan2(e.y-i.y,e.x-i.x))),r=t.startAngle;return t.reverse||(n*=-1,r*=-1),(n+r+360)%360}},{key:"valueRange",value:function(){return{min:0,max:2*Math.PI}}}]),i}(RL);XF(_j,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:uF(10)},majorGridLines:{color:PP,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),rF(_j.prototype,kj,{createPlotBands:wj.prototype.createPlotBands,majorAngles:wj.prototype.majorAngles,range:dj.prototype.range,labelsCount:dj.prototype.labelsCount,createAxisLabel:dj.prototype.createAxisLabel});var xj=_j;function Sj(e,t){return 180-Math.abs(Math.abs(e-t)-180)}var Tj={options:{majorGridLines:{visible:!0}},createPlotBands:function(){for(var e=this.options,t=e.majorGridLines.type,i=e.plotBands,n=void 0===i?[]:i,r=this.plotArea.polarAxis,a=r.majorAngles(),o=r.box.center(),s=this._plotbandGroup=new m.Group({zIndex:-1}),l=0;l<n.length;l++){var c,u=n[l],h={fill:{color:u.color,opacity:u.opacity},stroke:{opacity:u.opacity}},f=this.getSlot(u.from,u.to,!0),d=new iL(o,o.y-f.y2,o.y-f.y1,0,360);c=t===zP?nL.current.createRing(d,h):m.Path.fromPoints(this.plotBandPoints(d,a),h).close(),s.append(c)}this.appendVisual(s)},plotBandPoints:function(e,t){for(var i=[],n=[],r=[e.center.x,e.center.y],a=new p.Circle(r,e.innerRadius),o=new p.Circle(r,e.radius),s=0;s<t.length;s++)i.push(a.pointAt(t[s]+180)),n.push(o.pointAt(t[s]+180));return i.reverse(),i.push(i[0]),n.push(n[0]),n.concat(i)},createGridLines:function(e){var t=this.options,i=this.radarMajorGridLinePositions(),n=e.majorAngles(),r=e.box.center(),a=[];if(t.majorGridLines.visible&&(a=this.renderGridLines(r,i,n,t.majorGridLines)),t.minorGridLines.visible){var o=this.radarMinorGridLinePositions();RF(a,this.renderGridLines(r,o,n,t.minorGridLines))}return a},renderGridLines:function(e,t,i,n){for(var r={stroke:{width:n.width,color:n.color,dashType:n.dashType}},a=n.skip,o=void 0===a?0:a,s=n.step,l=void 0===s?0:s,c=this.gridLinesVisual(),u=o;u<t.length;u+=l){var h=e.y-t[u];if(h>0){var f=new p.Circle([e.x,e.y],h);if(n.type===zP)c.append(new m.Circle(f,r));else{for(var d=new m.Path(r),v=0;v<i.length;v++)d.lineTo(f.pointAt(i[v]+180));d.close(),c.append(d)}}}return c.children},getValue:function(e){var t=this.lineBox(),i=this.plotArea.polarAxis,n=i.majorAngles(),r=i.box.center(),a=e.distanceTo(r),o=a;if(this.options.majorGridLines.type!==zP&&n.length>1){var s=(zF(Math.atan2(e.y-r.y,e.x-r.x))+540)%360;n.sort((function(e,t){return Sj(e,s)-Sj(t,s)}));var l=Sj(n[0],n[1])/2,c=Sj(s,n[0]),u=90-l;o=a*(Math.sin(HF(180-c-u))/Math.sin(HF(u)))}return this.axisType().prototype.getValue.call(this,new ZF(t.x1,t.y2-o))}},Ij=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"radarMajorGridLinePositions",value:function(){return this.getTickPositions(this.options.majorUnit)}},{key:"radarMinorGridLinePositions",value:function(){var e=this.options,t=0;return e.majorGridLines.visible&&(t=e.majorUnit),this.getTickPositions(e.minorUnit,t)}},{key:"axisType",value:function(){return dj}}]),i}(dj);rF(Ij.prototype,Tj);var Oj=Ij,Ej=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"radarMajorGridLinePositions",value:function(){var e=[];return this.traverseMajorTicksPositions((function(t){e.push(t)}),this.options.majorGridLines),e}},{key:"radarMinorGridLinePositions",value:function(){var e=[];return this.traverseMinorTicksPositions((function(t){e.push(t)}),this.options.minorGridLines),e}},{key:"axisType",value:function(){return bj}}]),i}(bj);rF(Ej.prototype,Tj);var Aj=Ej;function Rj(e){return e<=0?-1:1}var Dj=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this)).closed=e,n}return _createClass(i,[{key:"process",value:function(e){var t=e.slice(0),i=[],n=this.closed,r=t.length;if(r>2&&(this.removeDuplicates(0,t),r=t.length),r<2||2===r&&t[0].equals(t[1]))return i;var a,o,s=t[0],l=t[1],c=t[2];for(i.push(new p.Segment(s));s.equals(t[r-1]);)n=!0,t.pop(),r--;if(2===r){var u=this.tangent(s,l,qP,XP);return VF(i).controlOut(this.firstControlPoint(u,s,l,qP,XP)),i.push(new p.Segment(l,this.secondControlPoint(u,s,l,qP,XP))),i}if(n){s=t[r-1],l=t[0],c=t[1];var h=this.controlPoints(s,l,c);a=h[1],o=h[0]}else{var f=this.tangent(s,l,qP,XP);a=this.firstControlPoint(f,s,l,qP,XP)}for(var d=a,v=0;v<=r-3;v++)if(this.removeDuplicates(v,t),v+3<=(r=t.length)){s=t[v],l=t[v+1],c=t[v+2];var g=this.controlPoints(s,l,c);VF(i).controlOut(d),d=g[1],i.push(new p.Segment(l,g[0]))}if(n){s=t[r-2],l=t[r-1],c=t[0];var m=this.controlPoints(s,l,c);VF(i).controlOut(d),i.push(new p.Segment(l,m[0])),VF(i).controlOut(m[1]),i.push(new p.Segment(c,o))}else{var y=this.tangent(l,c,qP,XP);VF(i).controlOut(d),i.push(new p.Segment(c,this.secondControlPoint(y,l,c,qP,XP)))}return i}},{key:"removeDuplicates",value:function(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)}},{key:"invertAxis",value:function(e,t,i){var n=!1;if(e.x===t.x)n=!0;else if(t.x===i.x)(t.y<i.y&&e.y<=t.y||i.y<t.y&&t.y<=e.y)&&(n=!0);else{var r=this.lineFunction(e,t),a=this.calculateFunction(r,i.x);e.y<=t.y&&i.y<=a||t.y<=e.y&&i.y>=a||(n=!0)}return n}},{key:"isLine",value:function(e,t,i){var n=this.lineFunction(e,t),r=this.calculateFunction(n,i.x);return e.x===t.x&&t.x===i.x||GF(r,1)===GF(i.y,1)}},{key:"lineFunction",value:function(e,t){var i=(t.y-e.y)/(t.x-e.x);return[e.y-i*e.x,i]}},{key:"controlPoints",value:function(e,t,i){var n,r=qP,a=XP,o=!1,s=!1;if(this.isLine(e,t,i))n=this.tangent(e,t,qP,XP);else{var l={x:this.isMonotonicByField(e,t,i,qP),y:this.isMonotonicByField(e,t,i,XP)};if(l.x&&l.y)n=this.tangent(e,i,qP,XP),o=!0;else if(this.invertAxis(e,t,i)&&(r=XP,a=qP),l[r])n=0;else{n=.01*(i[a]<e[a]&&e[a]<=t[a]||e[a]<i[a]&&t[a]<=e[a]?Rj((i[a]-e[a])*(t[r]-e[r])):-Rj((i[r]-e[r])*(t[a]-e[a]))),s=!0}}var c=this.secondControlPoint(n,e,t,r,a);if(s){var u=r;r=a,a=u}var h=this.firstControlPoint(n,t,i,r,a);return o&&(this.restrictControlPoint(e,t,c,n),this.restrictControlPoint(t,i,h,n)),[c,h]}},{key:"restrictControlPoint",value:function(e,t,i,n){e.y<t.y?t.y<i.y?(i.x=e.x+(t.y-e.y)/n,i.y=t.y):i.y<e.y&&(i.x=t.x-(t.y-e.y)/n,i.y=e.y):i.y<t.y?(i.x=e.x-(e.y-t.y)/n,i.y=t.y):e.y<i.y&&(i.x=t.x+(e.y-t.y)/n,i.y=e.y)}},{key:"tangent",value:function(e,t,i,n){var r,a=t[i]-e[i];return r=0===a?0:(t[n]-e[n])/a,r}},{key:"isMonotonicByField",value:function(e,t,i,n){return i[n]>t[n]&&t[n]>e[n]||i[n]<t[n]&&t[n]<e[n]}},{key:"firstControlPoint",value:function(e,t,i,n,r){var a=t[n],o=.333*(i[n]-a);return this.point(a+o,t[r]+o*e,n,r)}},{key:"secondControlPoint",value:function(e,t,i,n,r){var a=i[n],o=.333*(a-t[n]);return this.point(a-o,i[r]-o*e,n,r)}},{key:"point",value:function(e,t,i,n){var r=new p.Point;return r[i]=e,r[n]=t,r}},{key:"calculateFunction",value:function(e,t){for(var i=e.length,n=0,r=0;r<i;r++)n+=Math.pow(t,r)*e[r];return n}}]),i}(hl),Mj=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._axis=e,n.options=e.options,n}return _createClass(i,[{key:"value",value:function(e){var t=this._axis;return t.getCategory?t.getCategory(e):t.getValue(e)}},{key:"slot",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this._axis.slot(e,t,i)}},{key:"range",value:function(){return this._axis.range()}},{key:"valueRange",value:function(){return this._axis.valueRange()}}]),i}(hl);function zj(e,t){for(var i=0;i<t.length;i++)if(t[i].options.name===e)return t[i].prepareUserOptions(),new Mj(t[i])}var Pj=function(){function e(t){_classCallCheck(this,e),this.visual=t.visual,this.chartsVisual=t.chartContainer.visual,this._pane=t}return _createClass(e,[{key:"findAxisByName",value:function(e){return zj(e,this._pane.axes)}}]),e}(),Fj=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._plotArea=e,n.visual=e.visual,n.backgroundVisual=e._bgVisual,n}return i}(hl);function Lj(e){for(var t=e.length,i=0,n=0;n<t;n++)QP(e[n])&&i++;return i}var jj={min:function(e){for(var t=e.length,i=NP,n=0;n<t;n++){var r=e[n];QP(r)&&(i=Math.min(i,r))}return i===NP?e[0]:i},max:function(e){for(var t=e.length,i=HP,n=0;n<t;n++){var r=e[n];QP(r)&&(i=Math.max(i,r))}return i===HP?e[0]:i},sum:function(e){for(var t=e.length,i=0,n=0;n<t;n++){var r=e[n];QP(r)&&(i+=r)}return i},sumOrNull:function(e){var t=null;return Lj(e)&&(t=jj.sum(e)),t},count:function(e){for(var t=e.length,i=0,n=0;n<t;n++){var r=e[n];null!==r&&MF(r)&&i++}return i},avg:function(e){var t=Lj(e),i=e[0];return t>0&&(i=jj.sum(e)/t),i},first:function(e){for(var t=e.length,i=0;i<t;i++){var n=e[i];if(null!==n&&MF(n))return n}return e[0]}},Vj=jj;function Bj(e,t){return null===t?t:CF(e)(t)}var Nj,Hj=((Nj=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._valueFields={},e._otherFields={},e._nullValue={},e._undefinedValue={},e}return _createClass(i,[{key:"register",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[WP],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=0;n<e.length;n++){var r=e[n];this._valueFields[r]=t,this._otherFields[r]=i,this._nullValue[r]=this._makeValue(t,null),this._undefinedValue[r]=this._makeValue(t,void 0)}}},{key:"canonicalFields",value:function(e){return this.valueFields(e).concat(this.otherFields(e))}},{key:"valueFields",value:function(e){return this._valueFields[e.type]||[WP]}},{key:"otherFields",value:function(e){return this._otherFields[e.type]||[WP]}},{key:"bindPoint",value:function(e,t,i){var n,r,a=e.data,o=MF(i)?i:a[t],s={valueFields:{value:o}},l=this.valueFields(e),c=this._otherFields[e.type];if(null===o)r=this._nullValue[e.type];else if(MF(o)){if(Array.isArray(o)){var u=o.slice(l.length);r=this._bindFromArray(o,l),n=this._bindFromArray(u,c)}else if("object"==typeof o){var h=this.sourceFields(e,l),f=this.sourceFields(e,c);r=this._bindFromObject(o,l,h),n=this._bindFromObject(o,c,f)}}else r=this._undefinedValue[e.type];return MF(r)&&(1===l.length?s.valueFields.value=r[l[0]]:s.valueFields=r),s.fields=n||{},s}},{key:"_makeValue",value:function(e,t){for(var i={},n=e.length,r=0;r<n;r++)i[e[r]]=t;return i}},{key:"_bindFromArray",value:function(e,t){var i={};if(t)for(var n=Math.min(t.length,e.length),r=0;r<n;r++)i[t[r]]=e[r];return i}},{key:"_bindFromObject",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n={};if(t)for(var r=t.length,a=0;a<r;a++){var o=t[a],s=i[a];null!==s&&(n[o]=Bj(s,e))}return n}},{key:"sourceFields",value:function(e,t){var i=[];if(t)for(var n=t.length,r=0;r<n;r++){var a=t[r],o=a===WP?"field":a+"Field";i.push(null!==e[o]?e[o]||a:null)}return i}}]),i}(hl)).current=new Nj,Nj),Gj=/percent(?:\w*)\((\d+)\)/,Wj=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),Uj=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this)).initGlobalRanges(e,n,r),a}return _createClass(i,[{key:"initGlobalRanges",value:function(e,t,i){var n=t.data,r=Wj.exec(e);if(r){this.valueGetter=this.createValueGetter(t,i);var a=this.getAverage(n),o=this.getStandardDeviation(n,a,!1),s=r[1]?parseFloat(r[1]):1,l={low:a.value-o*s,high:a.value+o*s};this.globalRange=function(){return l}}else if(e.indexOf&&e.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(t,i);var c=this.getStandardError(n,this.getAverage(n));this.globalRange=function(e){return{low:e-c,high:e+c}}}}},{key:"createValueGetter",value:function(e,t){var i,n=e.data,r=Hj.current,a=r.valueFields(e),o=MF(n[0])?n[0]:{};return JP(o)?i=CF("["+(t?a.indexOf(t):0)+"]"):QP(o)?i=CF():"object"==typeof o&&(i=CF(r.sourceFields(e,a)[a.indexOf(t)])),i}},{key:"getErrorRange",value:function(e,t){var i,n,r;if(!MF(t))return null;if(this.globalRange)return this.globalRange(e);if(JP(t))i=e-t[0],n=e+t[1];else if(QP(r=parseFloat(t)))i=e-r,n=e+r;else{if(!(r=Gj.exec(t)))throw new Error("Invalid ErrorBar value: "+t);var a=e*(parseFloat(r[1])/100);i=e-Math.abs(a),n=e+Math.abs(a)}return{low:i,high:n}}},{key:"getStandardError",value:function(e,t){return this.getStandardDeviation(e,t,!0)/Math.sqrt(t.count)}},{key:"getStandardDeviation",value:function(e,t,i){for(var n=e.length,r=i?t.count-1:t.count,a=0,o=0;o<n;o++){var s=this.valueGetter(e[o]);QP(s)&&(a+=Math.pow(s-t.value,2))}return Math.sqrt(a/r)}},{key:"getAverage",value:function(e){for(var t=e.length,i=0,n=0,r=0;r<t;r++){var a=this.valueGetter(e[r]);QP(a)&&(i+=a,n++)}return{value:i/n,count:n}}}]),i}(hl),qj=(Sl.browser||{}).msie?.001:0,Xj="bar",Jj="column",Yj="line",Kj="pie",Zj="verticalLine",$j=[Xj,Jj,"ohlc","candlestick","boxPlot","verticalBoxPlot","bullet","rangeColumn","rangeBar","waterfall","horizontalWaterfall"],Qj="DOMMouseScroll mousewheel",eV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o,s){var l;return _classCallCheck(this,i),(l=t.call(this,s)).low=e,l.high=n,l.isVertical=r,l.chart=a,l.series=o,l}return _createClass(i,[{key:"reflow",value:function(e){var t,i=this.options.endCaps,n=this.isVertical,r=this.getAxis().getSlot(this.low,this.high),a=e.center(),o=this.getCapsWidth(e,n),s=n?a.x:a.y,l=s-o,c=s+o;n?(t=[new ZF(a.x,r.y1),new ZF(a.x,r.y2)],i&&t.push(new ZF(l,r.y1),new ZF(c,r.y1),new ZF(l,r.y2),new ZF(c,r.y2)),this.box=new QF(l,r.y1,c,r.y2)):(t=[new ZF(r.x1,a.y),new ZF(r.x2,a.y)],i&&t.push(new ZF(r.x1,l),new ZF(r.x1,c),new ZF(r.x2,l),new ZF(r.x2,c)),this.box=new QF(r.x1,l,r.x2,c)),this.linePoints=t}},{key:"getCapsWidth",value:function(e,t){var i=t?e.width():e.height();return Math.min(Math.floor(i/2),4)||4}},{key:"createVisual",value:function(){var e=this,t=this.options,i=t.visual;i?this.visual=i({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:t.endCaps,color:t.color,line:t.line},createVisual:function(){e.createDefaultVisual();var t=e.visual;return delete e.visual,t}}):this.createDefaultVisual()}},{key:"createDefaultVisual",value:function(){var e=this.options,t=this.linePoints,n={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this);for(var r=0;r<t.length;r+=2){var a=new m.Path(n).moveTo(t[r].x,t[r].y).lineTo(t[r+1].x,t[r+1].y);ZP(a),this.visual.append(a)}}}]),i}(aL);XF(eV,{animation:{type:"fadeIn",delay:600},endCaps:!0,line:{width:2},zIndex:1});var tV=eV,iV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"getAxis",value:function(){return this.chart.seriesValueAxis(this.series)}}]),i}(tV);function nV(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=i.defaults=i.defaults||{},a=i.depth=i.depth||0,o=!1;if(i.excluded=i.excluded||[],a>5)return null;for(var s in e)if(!SF(s,i.excluded)&&e.hasOwnProperty(s)){var l=e[s];iF(l)?(o=!0,n||(e[s]=UF(l(t),r[s]))):aF(l)&&(n||(i.defaults=r[s]),i.depth++,o=nV(l,t,i,n)||o,i.depth--)}return o}function rV(e){for(var t=e.length,i=0,n=0;n<t;n++)i=Math.max(i,e[n].data.length);return i}var aV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).plotArea=e,r.chartService=e.chartService,r.categoryAxis=e.seriesCategoryAxis(n.series[0]),r.valueAxisRanges={},r.points=[],r.categoryPoints=[],r.seriesPoints=[],r.seriesOptions=[],r._evalSeries=[],r.render(),r}return _createClass(i,[{key:"render",value:function(){this.traverseDataPoints(this.addValue.bind(this))}},{key:"pointOptions",value:function(e,t){var i=this.seriesOptions[t];if(!i){var n=this.pointType().prototype.defaults;this.seriesOptions[t]=i=rF({},n,{vertical:!this.options.invertAxes},e)}return i}},{key:"plotValue",value:function(e){if(!e)return 0;if(this.options.isStacked100&&QP(e.value)){for(var t=this.categoryPoints[e.categoryIx],i=[],n=0,r=0;r<t.length;r++){var a=t[r];if(a){var o=e.series.stack,s=a.series.stack;if(o&&s&&o.group!==s.group)continue;QP(a.value)&&(n+=Math.abs(a.value),i.push(Math.abs(a.value)))}}if(n>0)return e.value/n}return e.value}},{key:"plotRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.categoryPoints[e.categoryIx];if(this.options.isStacked){for(var n=this.plotValue(e),r=n>=0,a=t,o=!1,s=0;s<i.length;s++){var l=i[s];if(e===l)break;var c=e.series.stack,u=l.series.stack;if(c&&u){if("string"==typeof c&&c!==u)continue;if(c.group&&c.group!==u.group)continue}var h=this.plotValue(l);(h>=0&&r||h<0&&!r)&&(a+=h,n+=h,o=!0,this.options.isStacked100&&(n=Math.min(n,1)))}return o&&(a-=t),[a,n]}var f=this.seriesValueAxis(e.series),d=this.categoryAxisCrossingValue(f);return[d,tF(e.value)?e.value:d]}},{key:"stackLimits",value:function(e,t){for(var i=NP,n=HP,r=0;r<this.categoryPoints.length;r++){var a=this.categoryPoints[r];if(a)for(var o=0;o<a.length;o++){var s=a[o];if(s&&(s.series.stack===t||s.series.axis===e)){var l=this.plotRange(s,0)[1];MF(l)&&isFinite(l)&&(n=Math.max(n,l),i=Math.min(i,l))}}}return{min:i,max:n}}},{key:"updateStackRange",value:function(){var e=this.options,t=e.isStacked,i=e.series,n={};if(t)for(var r=0;r<i.length;r++){var a=i[r],o=a.axis,s=o+a.stack,l=n[s];if(!l){l=this.stackLimits(o,a.stack);var c=this.errorTotals;c&&(c.negative.length&&(l.min=Math.min(l.min,JF(c.negative).min)),c.positive.length&&(l.max=Math.max(l.max,JF(c.positive).max))),l.min!==NP||l.max!==HP?n[s]=l:l=null}l&&(this.valueAxisRanges[o]=l)}}},{key:"addErrorBar",value:function(e,t,i){var n,r=e.value,a=e.series,o=e.seriesIx,s=e.options.errorBars,l=t.fields.errorLow,c=t.fields.errorHigh;QP(l)&&QP(c)?n={low:l,high:c}:s&&MF(s.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[o]=this.seriesErrorRanges[o]||new Uj(s.value,a,WP),n=this.seriesErrorRanges[o].getErrorRange(r,s.value)),n&&(e.low=n.low,e.high=n.high,this.addPointErrorBar(e,i))}},{key:"addPointErrorBar",value:function(e,t){var i=!this.options.invertAxes,n=e.options.errorBars,r=e.series,a=e.low,o=e.high;if(this.options.isStacked){var s=this.stackedErrorRange(e,t);a=s.low,o=s.high}else{var l={categoryIx:t,series:r};this.updateRange({value:a},l),this.updateRange({value:o},l)}var c=new iV(a,o,i,this,r,n);e.errorBars=[c],e.append(c)}},{key:"stackedErrorRange",value:function(e,t){var i=this.plotRange(e,0)[1]-e.value,n=e.low+i,r=e.high+i;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},n<0&&(this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,n)),r>0&&(this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,r)),{low:n,high:r}}},{key:"addValue",value:function(e,t){var i=t.categoryIx,n=t.series,r=t.seriesIx,a=this.categoryPoints[i];a||(this.categoryPoints[i]=a=[]);var o=this.seriesPoints[r];o||(this.seriesPoints[r]=o=[]);var s=this.createPoint(e,t);s&&(Object.assign(s,t),s.owner=this,s.noteText=e.fields.noteText,MF(s.dataItem)||(s.dataItem=n.data[i]),this.addErrorBar(s,e,i)),this.points.push(s),o.push(s),a.push(s),this.updateRange(e.valueFields,t)}},{key:"evalPointOptions",value:function(e,t,i,n,r,a){var o={defaults:r._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},s=this._evalSeries[a];MF(s)||(this._evalSeries[a]=s=nV(e,{},o,!0));var l=e;return s&&nV(l=rF({},l),{value:t,category:i,index:n,series:r,dataItem:r.data[n]},o),l}},{key:"updateRange",value:function(e,t){var i=t.series.axis,n=e.value,r=this.valueAxisRanges[i];isFinite(n)&&null!==n&&((r=this.valueAxisRanges[i]=r||{min:NP,max:HP}).min=Math.min(r.min,n),r.max=Math.max(r.max,n))}},{key:"seriesValueAxis",value:function(e){var t=this.plotArea,i=e.axis,n=i?t.namedValueAxes[i]:t.valueAxis;if(!n)throw new Error("Unable to locate value axis with name "+i);return n}},{key:"reflow",value:function(e){var t=this,i=this.categorySlots=[],n=this.points,r=this.categoryAxis,a=0;this.traverseDataPoints((function(e,o){var s=o.categoryIx,l=o.series,c=t.seriesValueAxis(l),u=n[a++],h=i[s];if(h||(i[s]=h=t.categorySlot(r,s,c)),u){var f=t.plotRange(u,c.startValue()),d=t.valueSlot(c,f);if(d){var p=t.pointSlot(h,d);u.aboveAxis=t.aboveAxis(u,c),u.stackValue=f[1],t.options.isStacked100&&(u.percentage=t.plotValue(u)),t.reflowPoint(u,p)}else u.visible=!1}})),this.reflowCategories(i),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=e}},{key:"valueSlot",value:function(e,t){return e.getSlot(t[0],t[1],!this.options.clip)}},{key:"limitPoints",value:function(){for(var e=this.categoryPoints,t=e[0].concat(VF(e)),i=0;i<t.length;i++)t[i]&&this.limitPoint(t[i])}},{key:"limitPoint",value:function(e){var t=this.categoryAxis.limitSlot(e.box);t.equals(e.box)||e.reflow(t)}},{key:"aboveAxis",value:function(e,t){var i=this.categoryAxisCrossingValue(t),n=e.value;return t.options.reverse?n<i:n>=i}},{key:"categoryAxisCrossingValue",value:function(e){var t=this.categoryAxis,i=e.options;return[].concat(i.axisCrossingValues||i.axisCrossingValue)[t.axisIndex||0]||0}},{key:"reflowPoint",value:function(e,t){e.reflow(t)}},{key:"reflowCategories",value:function(){}},{key:"pointSlot",value:function(e,t){var i=this.options.invertAxes,n=i?t:e,r=i?e:t;return new QF(n.x1,r.y1,n.x2,r.y2)}},{key:"categorySlot",value:function(e,t){return e.getSlot(t)}},{key:"traverseDataPoints",value:function(e){for(var t=this.options.series,i=rV(t),n=t.length,r=0;r<n;r++)this._outOfRangeCallback(t[r],"_outOfRangeMinPoint",r,e);for(var a=0;a<i;a++)for(var o=0;o<n;o++){var s=t[o],l=this.categoryAxis.categoryAt(a);e(this._bindPoint(s,o,a),{category:l,categoryIx:a,series:s,seriesIx:o})}for(var c=0;c<n;c++)this._outOfRangeCallback(t[c],"_outOfRangeMaxPoint",c,e)}},{key:"_outOfRangeCallback",value:function(e,t,i,n){var r=e[t];if(r){var a=r.categoryIx;n(this._bindPoint(e,i,a,r.item),{category:r.category,categoryIx:a,series:e,seriesIx:i,dataItem:r.item})}}},{key:"_bindPoint",value:function(e,t,i,n){this._bindCache||(this._bindCache=[]);var r=this._bindCache[t];r||(r=this._bindCache[t]=[]);var a=r[i];return a||(a=r[i]=Hj.current.bindPoint(e,i,n)),a}},{key:"formatPointValue",value:function(e,t){return null===e.value?"":this.chartService.format.auto(t,e.value)}},{key:"pointValue",value:function(e){return e.valueFields.value}}]),i}(aL);XF(aV,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});var oV=aV,sV={click:function(e,t){return e.trigger("seriesClick",this.eventArgs(t))},hover:function(e,t){return e.trigger("seriesHover",this.eventArgs(t))},over:function(e,t){return e.trigger("seriesOver",this.eventArgs(t))},out:function(e,t){return e.trigger("seriesLeave",this.eventArgs(t))},eventArgs:function(e){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:LF(e),originalEvent:e,point:this}}},lV={createNote:function(){var e=this.options.notes,t=this.noteText||e.label.text;!1!==e.visible&&MF(t)&&null!==t&&(this.note=new IL({value:this.value,text:t,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}},cV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).value=e,r.options=n,r.aboveAxis=UF(r.options.aboveAxis,!0),r.tooltipTracking=!0,r}return _createClass(i,[{key:"render",value:function(){var e=this.options,t=e.markers,i=e.labels;if(!this._rendered){if(this._rendered=!0,t.visible&&t.size&&(this.marker=this.createMarker(),this.append(this.marker)),i.visible){var n=yF(i),r=this.pointData(),a=this.value;n?a=n(r):i.format&&(a=this.formatValue(i.format)),this.label=new CL(a,rF({align:LP,vAlign:LP,margin:{left:5,right:5},zIndex:UF(i.zIndex,this.series.zIndex)},i),r),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}}},{key:"markerBorder",value:function(){var e=this.options.markers,t=e.background,i=rF({color:this.color},e.border);return MF(i.color)||(i.color=new Bl(t).brightness(.8).toHex()),i}},{key:"createVisual",value:function(){}},{key:"createMarker",value:function(){var e=this.options.markers;return new cL({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:e.opacity,zIndex:UF(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}},{key:"markerBox",value:function(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}},{key:"reflow",value:function(e){var t=this.options,i=this.aboveAxis,n=t.vertical;this.render(),this.box=e;var r=e.clone();if(n?i?r.y1-=r.height():r.y2+=r.height():i?r.x1+=r.width():r.x2-=r.width(),this._childBox=r,this.marker&&this.marker.reflow(r),this.reflowLabel(r),this.errorBars)for(var a=0;a<this.errorBars.length;a++)this.errorBars[a].reflow(r);if(this.note){var o=this.markerBox();if(!t.markers.visible||!t.markers.size){var s=o.center();o=new QF(s.x,s.y,s.x,s.y)}this.note.reflow(o)}}},{key:"reflowLabel",value:function(e){var t=this.options,i=this.label,n=t.labels.position;i&&(n="below"===(n="above"===n?GP:n)?FP:n,i.reflow(e),i.box.alignTo(this.markerBox(),n),i.reflow(i.box))}},{key:"createHighlight",value:function(){var e=this.options.highlight.markers,t=this.markerBorder().color,i=this.options.markers,n=i.size+(i.border.width||0)+(e.border.width||0),r=new cL({type:i.type,width:n,height:n,rotation:i.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:UF(e.border.opacity,1)},opacity:UF(e.opacity,1)});return r.reflow(this._childBox),r.getElement()}},{key:"highlightVisual",value:function(){return(this.marker||{}).visual}},{key:"highlightVisualArgs",value:function(){var e,t,i=this.marker;if(i)t=i.paddingBox.toRect(),e=i.visual;else{var n=this.options.markers.size,r=n/2,a=this.box.center();t=new p.Rect([a.x-r,a.y-r],[n,n])}return{options:this.options,rect:t,visual:e}}},{key:"tooltipAnchor",value:function(){var e=this.markerBox(),t=this.owner.pane.clipBox();if(!t||t.overlaps(e)){var i,n;return this.aboveAxis?(i=e.y1,n=FP):(i=e.y2,n=GP),{point:new ZF(e.x2+5,i),align:{horizontal:"left",vertical:n}}}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"overlapsBox",value:function(e){return this.markerBox().overlaps(e)}},{key:"unclipElements",value:function(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}},{key:"pointData",value:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}}]),i}(aL);cV.prototype.defaults={vertical:!0,markers:{visible:!0,background:UP,size:8,type:jP,border:{width:2},opacity:1},labels:{visible:!1,position:"above",margin:uF(3),padding:uF(4),animation:{type:"fadeIn",delay:600}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},rF(cV.prototype,sV),rF(cV.prototype,lV);var uV=cV,hV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this)).linePoints=e,a.series=n,a.seriesIx=r,a}return _createClass(i,[{key:"points",value:function(){return this.toGeometryPoints(this.linePoints)}},{key:"toGeometryPoints",value:function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&!1!==e[i].visible&&t.push(e[i]._childBox.toRect().center());return t}},{key:"createVisual",value:function(){var e=this,t=this.series.visual;t?(this.visual=t({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:function(){return e.segmentVisual(),e.visual}}),this.visual&&!MF(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}},{key:"segmentVisual",value:function(){var e=this.options,t=this.series,i=t.color,n=t._defaults;iF(i)&&n&&(i=n.color);var r=m.Path.fromPoints(this.points(),{stroke:{color:i,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});e.closed&&r.close(),this.visual=r}},{key:"aliasFor",value:function(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)}}]),i}(aL);XF(hV,{closed:!1});var fV=hV;function dV(e,t,i,n,r){var a=e.box,o=new p.Point;return o[t]=a[t+i],o[n]=a[n+r],o}var pV={calculateStepPoints:function(e){for(var t=this.parent.plotArea.seriesCategoryAxis(this.series).options,i=t.justified,n=t.vertical,r=t.reverse,a=n?qP:XP,o=n?XP:qP,s=r?2:1,l=s,c=dV(e[0],a,s,o,l),u=[c],h=1;h<e.length;h++){var f=dV(e[h],a,s,o,l);if(c[a]!==f[a]){var d=new p.Point;d[a]=c[a],d[o]=f[o],u.push(d,f)}c=f}return i?c!==VF(u)&&u.push(c):u.push(dV(VF(e),a,s,o,r?1:2)),u}},vV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"points",value:function(){return this.calculateStepPoints(this.linePoints)}}]),i}(fV);rF(vV.prototype,pV);var gV=vV,mV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"segmentVisual",value:function(){var e=this.series,t=e._defaults,i=e.color;iF(i)&&t&&(i=t.color);var n=new Dj(this.options.closed).process(this.points()),r=new m.Path({stroke:{color:i,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});r.segments.push.apply(r.segments,n),this.visual=r}}]),i}(fV),yV={renderSegments:function(){var e,t=this.options,i=this.seriesPoints,n=t.series,r=i.length;this._segments=[];for(var a=0;a<r;a++){for(var o=n[a],s=this.sortPoints(i[a]),l=s.length,c=[],u=0;u<l;u++){var h=s[u];h?c.push(h):"interpolate"!==this.seriesMissingValues(o)&&(c.length>1&&(e=this.createSegment(c,o,a,e),this._addSegment(e)),c=[])}c.length>1&&(e=this.createSegment(c,o,a,e),this._addSegment(e))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(e){this._segments.push(e),e.parent=this},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues;return!t&&this.options.isStacked?"zero":t||"interpolate"},getNearestPoint:function(e,t,i){for(var n,r=new ZF(e,t),a=this.seriesPoints[i],o=NP,s=0;s<a.length;s++){var l=a[s];if(l&&MF(l.value)&&null!==l.value&&!1!==l.visible){var c=l.box.center().distanceTo(r);c<o&&(n=l,o=c)}}return n}},bV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setup",value:function(){this._setEnd(this.options.box.x1)}},{key:"step",value:function(e){var t=this.options.box;this._setEnd(TF(t.x1,t.x2,e))}},{key:"_setEnd",value:function(e){var t=this.element,i=t.segments,n=i[1].anchor(),r=i[2].anchor();t.suspend(),n.setX(e),t.resume(),r.setX(e)}}]),i}(m.Animation);XF(bV,{duration:600}),m.AnimationFactory.current.register("clip",bV);var kV=bV;function CV(e){for(var t=0;t<e.length;t++)if(MF(e[t].zIndex))return!0}var wV,_V={createAnimation:function(){var e=this.getRoot();if(e&&!1!==(e.options||{}).transitions){var t=e.size(),i=m.Path.fromRect(t.toRect());this.visual.clip(i),this.animation=new kV(i,{box:t}),CV(this.options.series)&&this._setChildrenAnimation(i)}},_setChildrenAnimation:function(e){for(var t=this.animationPoints(),i=0;i<t.length;i++){var n=t[i];n&&n.visual&&MF(n.visual.options.zIndex)&&n.visual.clip(e)}}},xV=(rF((wV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),this.updateStackRange(),this.renderSegments()}},{key:"pointType",value:function(){return uV}},{key:"createPoint",value:function(e,t){var i=t.categoryIx,n=t.category,r=t.series,a=t.seriesIx,o=this.seriesMissingValues(r),s=e.valueFields.value;if(!MF(s)||null===s){if("zero"!==o)return null;s=0}var l=this.pointOptions(r,a);l=this.evalPointOptions(l,s,n,i,r,a);var c=e.fields.color||r.color;iF(r.color)&&(c=l.color);var u=new uV(s,l);return u.color=c,this.append(u),u}},{key:"plotRange",value:function(e){var t=this.plotValue(e);if(this.options.isStacked)for(var i=this.categoryPoints[e.categoryIx],n=0;n<i.length;n++){var r=i[n];if(e===r)break;t+=this.plotValue(r),this.options.isStacked100&&(t=Math.min(t,1))}return[t,t]}},{key:"createSegment",value:function(e,t,i){var n=t.style;return new("step"===n?gV:"smooth"===n?mV:fV)(e,t,i)}},{key:"animationPoints",value:function(){for(var e=this.points,t=[],i=0;i<e.length;i++)t.push((e[i]||{}).marker);return t.concat(this._segments)}}]),i}(oV)).prototype,yV,_V),wV),SV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o){var s;return _classCallCheck(this,i),(s=t.call(this,e,n,r)).prevSegment=a,s.stackPoints=o,s}return _createClass(i,[{key:"createVisual",value:function(){var e=this.series,t=e._defaults,i=e.line||{},n=e.color;iF(n)&&t&&(n=t.color),this.visual=new m.Group({zIndex:e.zIndex}),this.createFill({fill:{color:n,opacity:e.opacity},stroke:null}),i.width>0&&!1!==i.visible&&this.createStroke({stroke:rF({color:n,opacity:e.opacity,lineCap:"butt"},i)})}},{key:"strokeSegments",value:function(){var e=this._strokeSegments;return e||(e=this._strokeSegments=this.createStrokeSegments()),e}},{key:"createStrokeSegments",value:function(){return this.segmentsFromPoints(this.points())}},{key:"stackSegments",value:function(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}},{key:"createStackSegments",value:function(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()}},{key:"segmentsFromPoints",value:function(e){return e.map((function(e){return new p.Segment(e)}))}},{key:"createStroke",value:function(e){var t=new m.Path(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)}},{key:"hasStackSegment",value:function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}},{key:"createFill",value:function(e){var t=this.strokeSegments(),i=t.slice(0),n=this.hasStackSegment();if(n){var r=this.stackSegments();RF(i,r)}var a=new m.Path(e);a.segments.push.apply(a.segments,i),!n&&t.length>1&&this.fillToAxes(a),this.visual.append(a)}},{key:"fillToAxes",value:function(e){var t=this.parent,i=t.options.invertAxes,n=t.seriesValueAxis(this.series),r=t.categoryAxisCrossingValue(n),a=n.getSlot(r,r,!0),o=this.strokeSegments(),s=o[0].anchor(),l=VF(o).anchor(),c=i?a.x1:a.y1;i?e.lineTo(c,l.y).lineTo(c,s.y):e.lineTo(l.x,c).lineTo(s.x,c)}}]),i}(fV),TV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createStrokeSegments",value:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}},{key:"createStackSegments",value:function(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()}}]),i}(SV);rF(TV.prototype,pV);var IV=TV,OV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createStrokeSegments",value:function(){var e=new Dj(this.options.closed),t=this.points();return e.process(t)}},{key:"createStackSegments",value:function(){for(var e=this.strokeSegments(),t=[],i=e.length-1;i>=0;i--){var n=e[i];t.push(new p.Segment(n.anchor(),n.controlOut(),n.controlIn()))}return t}}]),i}(SV),EV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createSegment",value:function(e,t,i,n){var r,a,o=(t.line||{}).style;return this.options.isStacked&&i>0&&n&&("gap"!==this.seriesMissingValues(t)?(a=n.linePoints,r=n):a=this._gapStackPoints(e,i,o)),new("step"===o?IV:"smooth"===o?OV:SV)(e,t,i,r,a)}},{key:"reflow",value:function(e){_get(_getPrototypeOf(i.prototype),"reflow",this).call(this,e);var t=this._stackPoints;if(t)for(var n=0;n<t.length;n++){var r=t[n],a=this.categoryAxis.getSlot(r.categoryIx);r.reflow(a)}}},{key:"_gapStackPoints",value:function(e,t,i){var n=this.seriesPoints,r=e[0].categoryIx,a=e.length;r<0&&(r=0,a--);var o=r+a,s=this.seriesOptions[0]._outOfRangeMinPoint?1:0,l=[];this._stackPoints=this._stackPoints||[];for(var c=r;c<o;c++){var u=c+s,h=void 0,f=t;do{h=n[--f][u]}while(f>0&&!h);if(h)"step"!==i&&c>r&&!n[f][u-1]&&l.push(this._previousSegmentPoint(c,u,u-1,f)),l.push(h),"step"!==i&&c+1<o&&!n[f][u+1]&&l.push(this._previousSegmentPoint(c,u,u+1,f));else{var d=this._createGapStackPoint(c);this._stackPoints.push(d),l.push(d)}}return l}},{key:"_previousSegmentPoint",value:function(e,t,i,n){for(var r,a=this.seriesPoints,o=n;o>0&&!r;)r=a[--o][i];return r?r=a[o][t]:(r=this._createGapStackPoint(e),this._stackPoints.push(r)),r}},{key:"_createGapStackPoint",value:function(e){var t=this.pointOptions({},0),i=new uV(0,t);return i.categoryIx=e,i.series={},i}},{key:"seriesMissingValues",value:function(e){return e.missingValues||"zero"}}]),i}(xV),AV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this)).axisRanges={},e}return _createClass(i,[{key:"update",value:function(e){var t=this.axisRanges;for(var i in e){var n=e[i],r=t[i];t[i]=r=r||{min:NP,max:HP},r.min=Math.min(r.min,n.min),r.max=Math.max(r.max,n.max)}}},{key:"reset",value:function(e){this.axisRanges[e]=void 0}},{key:"query",value:function(e){return this.axisRanges[e]}}]),i}(hl),RV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,n)).textBox=new CL(e,a.options,r),a.append(a.textBox),a}return _createClass(i,[{key:"createVisual",value:function(){this.textBox.options.noclip=this.options.noclip}},{key:"reflow",value:function(e){var t=this.options,i=t.vertical,n=t.aboveAxis,r=this.children[0],a=r.options,o=r.box,s=r.options.padding,l=e;a.align=i?LP:"left",a.vAlign=i?GP:LP,"insideEnd"===t.position?i?(a.vAlign=GP,!n&&o.height()<e.height()&&(a.vAlign=FP)):a.align=n?"right":"left":t.position===LP?(a.vAlign=LP,a.align=LP):"insideBase"===t.position?i?a.vAlign=n?FP:GP:a.align=n?"left":"right":"outsideEnd"===t.position&&(i?l=n?new QF(e.x1,e.y1-o.height(),e.x2,e.y1):new QF(e.x1,e.y2,e.x2,e.y2+o.height()):(a.align=LP,l=n?new QF(e.x2,e.y1,e.x2+o.width(),e.y2):new QF(e.x1-o.width(),e.y1,e.x1,e.y2))),t.rotation||(i?s.left=s.right=(l.width()-r.contentBox.width())/2:s.top=s.bottom=(l.height()-r.contentBox.height())/2),r.reflow(l)}},{key:"alignToClipBox",value:function(e){var t=this.options.vertical?XP:qP,i=t+"1",n=t+"2",r=this.parent.box;if(r[i]<e[i]||e[n]<r[n]){var a=this.children[0].paddingBox.clone();a[i]=Math.max(r[i],e[i]),a[n]=Math.min(r[n],e[n]),this.reflow(a)}}}]),i}(aL);XF(RV,{position:"outsideEnd",margin:uF(3),padding:uF(4),color:PP,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:"fadeIn",delay:600},zIndex:2});var DV=RV;function MV(e){var t=e.overlay;return t&&t.gradient&&"none"!==t.gradient}var zV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).options=n,r.color=n.color||UP,r.aboveAxis=UF(r.options.aboveAxis,!0),r.value=e,r}return _createClass(i,[{key:"render",value:function(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}},{key:"createLabel",value:function(){var e=this.options,t=e.labels;if(t.visible){var i,n=this.pointData(),r=yF(t);i=r?r(n):this.formatValue(t.format),this.label=new DV(i,rF({vertical:e.vertical},t),n),this.append(this.label)}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"reflow",value:function(e){this.render();var t=this.label;if(this.box=e,t&&(t.options.aboveAxis=this.aboveAxis,t.reflow(e)),this.note&&this.note.reflow(e),this.errorBars)for(var i=0;i<this.errorBars.length;i++)this.errorBars[i].reflow(e)}},{key:"createVisual",value:function(){var e=this,t=this.box,n=this.options,r=n.visual;if(!1!==this.visible)if(_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this),r){var a=this.rectVisual=r({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:t.toRect(),createVisual:function(){var t=new m.Group;return e.createRect(t),t},options:n});a&&this.visual.append(a)}else t.width()>0&&t.height()>0&&this.createRect(this.visual)}},{key:"createRect",value:function(e){var t=this.options,i=t.border,n=MF(i.opacity)?i.opacity:t.opacity,r=this.box.toRect();r.size.width=Math.round(r.size.width);var a=this.rectVisual=m.Path.fromRect(r,{fill:{color:this.color,opacity:t.opacity},stroke:{color:this.getBorderColor(),width:i.width,opacity:n,dashType:i.dashType}}),o=this.box.width(),s=this.box.height();if((t.vertical?o:s)>6&&(ZP(a),(o<1||s<1)&&(a.options.stroke.lineJoin="round")),e.append(a),MV(t)){var l=this.createGradientOverlay(a,{baseColor:this.color},rF({end:t.vertical?void 0:[0,1]},t.overlay));e.append(l)}}},{key:"createHighlight",value:function(e){return ZP(m.Path.fromRect(this.box.toRect(),e))}},{key:"highlightVisual",value:function(){return this.rectVisual}},{key:"highlightVisualArgs",value:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}},{key:"getBorderColor",value:function(){var e=this.color,t=this.options.border,i=t._brightness||.8,n=t.color;return MF(n)||(n=new Bl(e).brightness(i).toHex()),n}},{key:"tooltipAnchor",value:function(){var e,t,i=this.options,n=this.box,r=this.aboveAxis,a=this.owner.pane.clipBox()||n,o="left",s=GP;if(i.vertical)e=Math.min(n.x2,a.x2)+5,r?t=Math.max(n.y1,a.y1):(t=Math.min(n.y2,a.y2),s=FP);else{var l=Math.max(n.x1,a.x1),c=Math.min(n.x2,a.x2);i.isStacked?(s=FP,r?(o="right",e=c):e=l,t=Math.max(n.y1,a.y1)-5):(r?e=c+5:(e=l-5,o="right"),t=Math.max(n.y1,a.y1))}return{point:new ZF(e,t),align:{horizontal:o,vertical:s}}}},{key:"overlapsBox",value:function(e){return this.box.overlaps(e)}},{key:"pointData",value:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}}]),i}(aL);rF(zV.prototype,sV),rF(zV.prototype,lV),zV.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};var PV=zV;function FV(e,t){e.forEach(t)}function LV(e,t){for(var i=e.length,n=i-1;n>=0;n--)t(e[n],n-i-1)}var jV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).forEach=e.rtl?LV:FV,n}return _createClass(i,[{key:"reflow",value:function(e){var t=this.options,i=t.vertical,n=t.gap,r=t.spacing,a=this.children,o=a.length,s=i?XP:qP,l=o+n+r*(o-1),c=(i?e.height():e.width())/l,u=e[s+1]+c*(n/2);this.forEach(a,(function(t,i){var n=(t.box||e).clone();n[s+1]=u,n[s+2]=u+c,t.reflow(n),i<o-1&&(u+=c*r),u+=c}))}}]),i}(aL);XF(jV,{vertical:!1,gap:0,spacing:0});var VV=jV,BV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"reflow",value:function(e){for(var t=this.options.vertical?qP:XP,i=this.children,n=i.length,r=this.box=new QF,a=0;a<n;a++){var o=i[a];if(!1!==o.visible){var s=o.box.clone();s.snapTo(e,t),0===a&&(r=this.box=s.clone()),o.reflow(s),r.wrap(s)}}}}]),i}(aL);XF(BV,{vertical:!0});var NV=BV,HV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),this.updateStackRange()}},{key:"pointType",value:function(){return PV}},{key:"clusterType",value:function(){return VV}},{key:"stackType",value:function(){return NV}},{key:"stackLimits",value:function(e,t){return _get(_getPrototypeOf(i.prototype),"stackLimits",this).call(this,e,t)}},{key:"createPoint",value:function(e,t){var i=t.categoryIx,n=t.category,r=t.series,a=t.seriesIx,o=this.options,s=this.children,l=o.isStacked,c=this.pointValue(e),u=this.pointOptions(r,a),h=u.labels;l&&"outsideEnd"===h.position&&(h.position="insideEnd"),u.isStacked=l;var f=e.fields.color||r.color;c<0&&u.negativeColor&&(f=u.negativeColor),u=this.evalPointOptions(u,c,n,i,r,a),iF(r.color)&&(f=u.color);var d=new(this.pointType())(c,u);d.color=f;var p=s[i];return p||(p=new(this.clusterType())({vertical:o.invertAxes,gap:o.gap,spacing:o.spacing,rtl:!o.invertAxes&&(this.chartService||{}).rtl}),this.append(p)),l?this.getStackWrap(r,p).append(d):p.append(d),d}},{key:"getStackWrap",value:function(e,t){var i,n=e.stack,r=n&&n.group||n,a=t.children;if("string"==typeof r){for(var o=0;o<a.length;o++)if(a[o]._stackGroup===r){i=a[o];break}}else i=a[0];return i||((i=new(this.stackType())({vertical:!this.options.invertAxes}))._stackGroup=r,t.append(i)),i}},{key:"categorySlot",value:function(e,t,i){var n=this.options,r=e.getSlot(t),a=i.startValue();if(n.isStacked){var o=i.getSlot(a,a,!0),s=n.invertAxes?qP:XP;r[s+1]=r[s+2]=o[s+1]}return r}},{key:"reflowCategories",value:function(e){for(var t=this.children,i=t.length,n=0;n<i;n++)t[n].reflow(e[n])}},{key:"createAnimation",value:function(){this._setAnimationOptions(),_get(_getPrototypeOf(i.prototype),"createAnimation",this).call(this),CV(this.options.series)&&this._setChildrenAnimation()}},{key:"_setChildrenAnimation",value:function(){for(var e=this.points,t=0;t<e.length;t++){var i=e[t],n=i.visual;n&&MF(n.options.zIndex)&&(i.options.animation=this.options.animation,i.createAnimation())}}},{key:"_setAnimationOptions",value:function(){var e,t=this.options,i=t.animation||{};if(t.isStacked){var n=this.seriesValueAxis(t.series[0]);e=n.getSlot(n.startValue())}else e=this.categoryAxis.getSlot(0);i.origin=new p.Point(e.x1,e.y1),i.vertical=!t.invertAxes}}]),i}(oV);XF(HV,{animation:{type:Xj}});var GV=HV,WV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).value=e,r}return _createClass(i,[{key:"reflow",value:function(e){var t=this.options,i=this.value,n=this.owner.seriesValueAxis(t),r=n.getSlot(i.open,i.close),a=n.getSlot(i.low,i.high);r.x1=a.x1=e.x1,r.x2=a.x2=e.x2,this.realBody=r;var o=a.center().x,s=[];s.push([[o,a.y1],[o,r.y1]]),s.push([[o,r.y2],[o,a.y2]]),this.lines=s,this.box=a.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}},{key:"reflowNote",value:function(){this.note&&this.note.reflow(this.box)}},{key:"createVisual",value:function(){_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}},{key:"mainVisual",value:function(e){var t=new m.Group;return this.createBody(t,e),this.createLines(t,e),t}},{key:"createBody",value:function(e,t){var i=m.Path.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&i.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:UF(t.border.opacity,t.opacity)}),ZP(i),e.append(i),MV(t)&&e.append(this.createGradientOverlay(i,{baseColor:this.color},rF({end:t.vertical?void 0:[0,1]},t.overlay)))}},{key:"createLines",value:function(e,t){this.drawLines(e,t,this.lines,t.line)}},{key:"drawLines",value:function(e,t,i,n){if(i)for(var r={stroke:{color:n.color||this.color,opacity:UF(n.opacity,t.opacity),width:n.width,dashType:n.dashType,lineCap:"butt"}},a=0;a<i.length;a++){var o=m.Path.fromPoints(i[a],r);ZP(o),e.append(o)}}},{key:"getBorderColor",value:function(){var e=this.options.border,t=e.color;return MF(t)||(t=new Bl(this.color).brightness(e._brightness).toHex()),t}},{key:"createOverlay",value:function(){var e=m.Path.fromRect(this.box.toRect(),{fill:{color:UP,opacity:0},stroke:null});this.visual.append(e)}},{key:"createHighlight",value:function(){var e=this.options.highlight,t=this.color;this.color=e.color||this.color;var i=this.mainVisual(rF({},this.options,{line:{color:this.getBorderColor()}},e));return this.color=t,i}},{key:"highlightVisual",value:function(){return this._mainVisual}},{key:"highlightVisualArgs",value:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}},{key:"tooltipAnchor",value:function(){var e=this.box,t=this.owner.pane.clipBox()||e;return{point:new ZF(e.x2+5,Math.max(e.y1,t.y1)+5),align:{horizontal:"left",vertical:GP}}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"overlapsBox",value:function(e){return this.box.overlaps(e)}}]),i}(aL);XF(WV,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),rF(WV.prototype,sV),rF(WV.prototype,lV);var UV=WV;function qV(e){return Lj(e)===e.length}var XV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"reflowCategories",value:function(e){for(var t=this.children,i=t.length,n=0;n<i;n++)t[n].reflow(e[n])}},{key:"addValue",value:function(e,t){var i,n=t.categoryIx,r=t.category,a=t.series,o=t.seriesIx,s=this.children,l=this.options,c=e.valueFields,u=qV(this.splitValue(c)),h=a.data[n],f=this.categoryPoints[n];f||(this.categoryPoints[n]=f=[]),u&&(i=this.createPoint(e,t));var d=s[n];d||(d=new VV({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),i&&(this.updateRange(c,t),d.append(i),i.categoryIx=n,i.category=r,i.series=a,i.seriesIx=o,i.owner=this,i.dataItem=h,i.noteText=e.fields.noteText),this.points.push(i),f.push(i)}},{key:"pointType",value:function(){return UV}},{key:"createPoint",value:function(e,t){var i=t.categoryIx,n=t.category,r=t.series,a=t.seriesIx,o=this.pointType(),s=e.valueFields,l=rF({},r),c=e.fields.color||r.color;l=this.evalPointOptions(l,s,n,i,r,a),"candlestick"===r.type&&s.open>s.close&&(c=e.fields.downColor||r.downColor||r.color),iF(r.color)&&(c=l.color),l.vertical=!this.options.invertAxes;var u=new o(s,l);return u.color=c,u}},{key:"splitValue",value:function(e){return[e.low,e.open,e.close,e.high]}},{key:"updateRange",value:function(e,t){var i=t.series.axis,n=this.splitValue(e),r=this.valueAxisRanges[i];r=this.valueAxisRanges[i]=r||{min:NP,max:HP},r=this.valueAxisRanges[i]={min:Math.min.apply(Math,n.concat([r.min])),max:Math.max.apply(Math,n.concat([r.max]))}}},{key:"formatPointValue",value:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.open,i.high,i.low,i.close,e.category)}},{key:"animationPoints",value:function(){return this.points}}]),i}(oV);rF(XV.prototype,_V);var JV=XV,YV=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).createNote(),r}return _createClass(i,[{key:"reflow",value:function(e){var t,i,n=this.options,r=this.value,a=this.owner.seriesValueAxis(n);this.boxSlot=i=a.getSlot(r.q1,r.q3),this.realBody=i,this.reflowBoxSlot(e),this.whiskerSlot=t=a.getSlot(r.lower,r.upper),this.reflowWhiskerSlot(e);var o=a.getSlot(r.median);if(r.mean){var s=a.getSlot(r.mean);this.meanPoints=this.calcMeanPoints(e,s)}this.whiskerPoints=this.calcWhiskerPoints(i,t),this.medianPoints=this.calcMedianPoints(e,o),this.box=t.clone().wrap(i),this.reflowNote()}},{key:"reflowBoxSlot",value:function(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2}},{key:"reflowWhiskerSlot",value:function(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2}},{key:"calcMeanPoints",value:function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}},{key:"calcWhiskerPoints",value:function(e,t){var i=t.center().x;return[[[i-5,t.y1],[i+5,t.y1],[i,t.y1],[i,e.y1]],[[i-5,t.y2],[i+5,t.y2],[i,t.y2],[i,e.y2]]]}},{key:"calcMedianPoints",value:function(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}},{key:"renderOutliers",value:function(e){for(var t=this.value,i=t.outliers||[],n=3*Math.abs(t.q3-t.q1),r=[],a=e.markers||{},o=0;o<i.length;o++){var s=i[o],l=rF({},(a=s<t.q3+n&&s>t.q1-n?e.outliers:e.extremes).border);MF(l.color)||(l.color=MF(this.color)?this.color:new Bl(a.background).brightness(.8).toHex());var c=new cL({type:a.type,width:a.size,height:a.size,rotation:a.rotation,background:a.background,border:l,opacity:a.opacity});c.value=s,r.push(c)}return this.reflowOutliers(r),r}},{key:"reflowOutliers",value:function(e){for(var t=this.owner.seriesValueAxis(this.options),i=this.box.center(),n=0;n<e.length;n++){var r=t.getSlot(e[n].value);this.options.vertical?r.move(i.x):r.move(void 0,i.y),this.box=this.box.wrap(r),e[n].reflow(r)}}},{key:"mainVisual",value:function(e){for(var t=_get(_getPrototypeOf(i.prototype),"mainVisual",this).call(this,e),n=this.renderOutliers(e),r=0;r<n.length;r++){var a=n[r].getElement();a&&t.append(a)}return t}},{key:"createLines",value:function(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)}},{key:"getBorderColor",value:function(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:_get(_getPrototypeOf(i.prototype),"getBorderColor",this).call(this)}}]),i}(UV);XF(YV,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:UP,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:jP,background:UP,border:{width:2,opacity:1},opacity:0}}),rF(YV.prototype,sV);var KV=YV,ZV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"reflowBoxSlot",value:function(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2}},{key:"reflowWhiskerSlot",value:function(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2}},{key:"calcMeanPoints",value:function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}},{key:"calcWhiskerPoints",value:function(e,t){var i=t.center().y;return[[[t.x1,i-5],[t.x1,i+5],[t.x1,i],[e.x1,i]],[[t.x2,i-5],[t.x2,i+5],[t.x2,i],[e.x2,i]]]}},{key:"calcMedianPoints",value:function(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}}]),i}(KV),$V=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"addValue",value:function(e,t){var i,n=t.categoryIx,r=t.category,a=t.series,o=t.seriesIx,s=this.children,l=this.options,c=e.valueFields,u=qV(this.splitValue(c)),h=a.data[n],f=this.categoryPoints[n];f||(this.categoryPoints[n]=f=[]),u&&(i=this.createPoint(e,t));var d=s[n];d||(d=new VV({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(d)),i&&(this.updateRange(c,t),d.append(i),i.categoryIx=n,i.category=r,i.series=a,i.seriesIx=o,i.owner=this,i.dataItem=h),this.points.push(i),f.push(i)}},{key:"pointType",value:function(){return this.options.invertAxes?ZV:KV}},{key:"splitValue",value:function(e){return[e.lower,e.q1,e.median,e.q3,e.upper]}},{key:"updateRange",value:function(e,t){var i=t.series.axis,n=this.valueAxisRanges[i],r=this.splitValue(e).concat(this.filterOutliers(e.outliers));MF(e.mean)&&(r=r.concat(e.mean)),n=this.valueAxisRanges[i]=n||{min:NP,max:HP},n=this.valueAxisRanges[i]={min:Math.min.apply(Math,r.concat([n.min])),max:Math.max.apply(Math,r.concat([n.max]))}}},{key:"formatPointValue",value:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.lower,i.q1,i.median,i.q3,i.upper,i.mean,e.category)}},{key:"filterOutliers",value:function(e){for(var t=(e||[]).length,i=[],n=0;n<t;n++){var r=e[n];MF(r)&&null!==r&&i.push(r)}return i}}]),i}(JV),QV=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"getAxis",value:function(){var e=this.chart.seriesAxes(this.series);return this.isVertical?e.y:e.x}}]),i}(tV);function eB(e){return MF(e)&&null!==e}var tB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).plotArea=e,r.chartService=e.chartService,r._initFields(),r.render(),r}return _createClass(i,[{key:"_initFields",value:function(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}},{key:"render",value:function(){this.traverseDataPoints(this.addValue.bind(this))}},{key:"addErrorBar",value:function(e,t,i){var n,r=e.value[t],a=t+"Value",o=t+"ErrorLow",s=t+"ErrorHigh",l=i.seriesIx,c=i.series,u=e.options.errorBars,h=i[o],f=i[s];QP(r)&&(QP(h)&&QP(f)&&(n={low:h,high:f}),u&&MF(u[a])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[t][l]=this.seriesErrorRanges[t][l]||new Uj(u[a],c,t),n=this.seriesErrorRanges[t][l].getErrorRange(r,u[a])),n&&this.addPointErrorBar(n,e,t))}},{key:"addPointErrorBar",value:function(e,t,i){var n=e.low,r=e.high,a=t.series,o=t.options.errorBars,s=i===XP,l={};t[i+"Low"]=n,t[i+"High"]=r,t.errorBars=t.errorBars||[];var c=new QV(n,r,s,this,a,o);t.errorBars.push(c),t.append(c),l[i]=n,this.updateRange(l,a),l[i]=r,this.updateRange(l,a)}},{key:"addValue",value:function(e,t){var i,n=e.x,r=e.y,a=t.seriesIx,o=this.seriesMissingValues(this.options.series[a]),s=this.seriesPoints[a],l=e;eB(n)&&eB(r)||(l=this.createMissingValue(l,o)),l&&((i=this.createPoint(l,t))&&(Object.assign(i,t),this.addErrorBar(i,qP,t),this.addErrorBar(i,XP,t)),this.updateRange(l,t.series)),this.points.push(i),s.push(i)}},{key:"seriesMissingValues",value:function(e){return e.missingValues}},{key:"createMissingValue",value:function(){}},{key:"updateRange",value:function(e,t){var i=this.chartService.intl,n=t.xAxis,r=t.yAxis,a=e.x,o=e.y,s=this.xAxisRanges[n],l=this.yAxisRanges[r];eB(a)&&(s=this.xAxisRanges[n]=s||{min:NP,max:HP},eF(a)&&(a=YL(i,a)),s.min=Math.min(s.min,a),s.max=Math.max(s.max,a)),eB(o)&&(l=this.yAxisRanges[r]=l||{min:NP,max:HP},eF(o)&&(o=YL(i,o)),l.min=Math.min(l.min,o),l.max=Math.max(l.max,o))}},{key:"evalPointOptions",value:function(e,t,i){var n=i.series,r=i.seriesIx,a={defaults:n._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]},o=this._evalSeries[r];MF(o)||(this._evalSeries[r]=o=nV(e,{},a,!0));var s=e;return o&&nV(s=rF({},e),{value:t,series:n,dataItem:i.dataItem},a),s}},{key:"pointType",value:function(){return uV}},{key:"pointOptions",value:function(e,t){var i=this.seriesOptions[t];if(!i){var n=this.pointType().prototype.defaults;this.seriesOptions[t]=i=rF({},n,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return i}},{key:"createPoint",value:function(e,t){var i=t.series,n=this.pointOptions(i,t.seriesIx),r=t.color||i.color;n=this.evalPointOptions(n,e,t),iF(i.color)&&(r=n.color);var a=new uV(e,n);return a.color=r,this.append(a),a}},{key:"seriesAxes",value:function(e){var t=e.xAxis,i=e.yAxis,n=this.plotArea,r=t?n.namedXAxes[t]:n.axisX,a=i?n.namedYAxes[i]:n.axisY;if(!r)throw new Error("Unable to locate X axis with name "+t);if(!a)throw new Error("Unable to locate Y axis with name "+i);return{x:r,y:a}}},{key:"reflow",value:function(e){var t=this,i=this.points,n=!this.options.clip,r=0;this.traverseDataPoints((function(e,a){var o=i[r++],s=t.seriesAxes(a.series),l=s.x.getSlot(e.x,e.x,n),c=s.y.getSlot(e.y,e.y,n);if(o)if(l&&c){var u=t.pointSlot(l,c);o.reflow(u)}else o.visible=!1})),this.box=e}},{key:"pointSlot",value:function(e,t){return new QF(e.x1,t.y1,e.x2,t.y2)}},{key:"traverseDataPoints",value:function(e){for(var t=this.options.series,i=this.seriesPoints,n=0;n<t.length;n++){var r=t[n];i[n]||(i[n]=[]);for(var a=0;a<r.data.length;a++){var o=this._bindPoint(r,n,a),s=o.valueFields,l=o.fields;e(s,rF({pointIx:a,series:r,seriesIx:n,dataItem:r.data[a],owner:this},l))}}}},{key:"formatPointValue",value:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.x,i.y)}},{key:"animationPoints",value:function(){for(var e=this.points,t=[],i=0;i<e.length;i++)t.push((e[i]||{}).marker);return t}}]),i}(aL);XF(tB,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),rF(tB.prototype,_V,{_bindPoint:oV.prototype._bindPoint});var iB=tB,nB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).category=e.category,r}return _createClass(i,[{key:"createHighlight",value:function(){var e=this.options.highlight,t=e.border,i=this.options.markers,n=this.box.center(),r=(i.size+i.border.width+t.width)/2,a=new m.Group,o=new m.Circle(new p.Circle([n.x,n.y+r/5+t.width/2],r+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:i.background,stops:[{offset:0,color:i.background,opacity:.3},{offset:1,color:i.background,opacity:0}]})}),s=new m.Circle(new p.Circle([n.x,n.y],r),{stroke:{color:t.color||new Bl(i.background).brightness(.8).toHex(),width:t.width,opacity:t.opacity},fill:{color:i.background,opacity:e.opacity}});return a.append(o,s),a}}]),i}(uV);nB.prototype.defaults=rF({},nB.prototype.defaults,{labels:{position:LP},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),nB.prototype.defaults.highlight.zIndex=void 0;var rB=nB,aB=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"_initFields",value:function(){this._maxSize=HP,_get(_getPrototypeOf(i.prototype),"_initFields",this).call(this)}},{key:"addValue",value:function(e,t){null!==e.size&&(e.size>0||e.size<0&&t.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),_get(_getPrototypeOf(i.prototype),"addValue",this).call(this,e,t)):(this.points.push(null),this.seriesPoints[t.seriesIx].push(null))}},{key:"reflow",value:function(e){this.updateBubblesSize(e),_get(_getPrototypeOf(i.prototype),"reflow",this).call(this,e)}},{key:"pointType",value:function(){return rB}},{key:"createPoint",value:function(e,t){var i=t.series,n=t.pointIx*(600/i.data.length),r={delay:n,duration:600-n,type:"bubble"},a=t.color||i.color;e.size<0&&i.negativeValues.visible&&(a=UF(i.negativeValues.color,a));var o=rF({labels:{animation:{delay:n,duration:600-n}}},this.pointOptions(i,t.seriesIx),{markers:{type:jP,border:i.border,opacity:i.opacity,animation:r}});o=this.evalPointOptions(o,e,t),iF(i.color)&&(a=o.color),o.markers.background=a;var s=new rB(e,o);return s.color=a,this.append(s),s}},{key:"updateBubblesSize",value:function(e){for(var t=this.options.series,i=Math.min(e.width(),e.height()),n=0;n<t.length;n++)for(var r=t[n],a=this.seriesPoints[n],o=(r.minSize||Math.max(.02*i,10))/2,s=(r.maxSize||.2*i)/2,l=Math.PI*o*o,c=(Math.PI*s*s-l)/this._maxSize,u=0;u<a.length;u++){var h=a[u];if(h){var f=Math.abs(h.value.size)*c,d=Math.sqrt((l+f)/Math.PI),p=UF(h.options.zIndex,0)+(1-d/s);rF(h.options,{zIndex:p,markers:{size:2*d,zIndex:p},labels:{zIndex:p+1}})}}}},{key:"formatPointValue",value:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.x,i.y,i.size,e.category)}},{key:"createAnimation",value:function(){}},{key:"createVisual",value:function(){}}]),i}(iB);XF(aB,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var oB=aB,sB=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(cL);rF(sB.prototype,sV);var lB=sB,cB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).aboveAxis=r.options.aboveAxis,r.color=n.color||UP,r.value=e,r}return _createClass(i,[{key:"render",value:function(){var e=this.options;this._rendered||(this._rendered=!0,MF(this.value.target)&&(this.target=new lB({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:GP,align:"right"}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createNote())}},{key:"reflow",value:function(e){this.render();var t=this.options,i=this.target,n=this.owner,r=t.invertAxes,a=n.seriesValueAxis(this.options),o=n.categorySlot(n.categoryAxis,t.categoryIx,a),s=a.getSlot(this.value.target),l=r?s:o,c=r?o:s;if(i){var u=new QF(l.x1,c.y1,l.x2,c.y2);i.options.height=r?u.height():t.target.line.width,i.options.width=r?t.target.line.width:u.width(),i.reflow(u)}this.note&&this.note.reflow(e),this.box=e}},{key:"createVisual",value:function(){_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this);var e=this.options,t=m.Path.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&t.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:UF(e.border.opacity,e.opacity)}),this.bodyVisual=t,ZP(t),this.visual.append(t)}},{key:"createAnimation",value:function(){this.bodyVisual&&(this.animation=m.Animation.create(this.bodyVisual,this.options.animation))}},{key:"createHighlight",value:function(e){return m.Path.fromRect(this.box.toRect(),e)}},{key:"highlightVisual",value:function(){return this.bodyVisual}},{key:"highlightVisualArgs",value:function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}}]),i}(aL);cB.prototype.tooltipAnchor=PV.prototype.tooltipAnchor,XF(cB,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}}),rF(cB.prototype,sV),rF(cB.prototype,lV);var uB=cB,hB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){return _classCallCheck(this,i),function(e){for(var t=e.series,i=0;i<t.length;i++){var n=t[i],r=n.data;!r||JP(r[0])||aF(r[0])||(n.data=[r])}}(n),t.call(this,e,n)}return _createClass(i,[{key:"reflowCategories",value:function(e){for(var t=this.children,i=t.length,n=0;n<i;n++)t[n].reflow(e[n])}},{key:"plotRange",value:function(e){var t=this.seriesValueAxis(e.series),i=this.categoryAxisCrossingValue(t);return[i,e.value.current||i]}},{key:"createPoint",value:function(e,t){var i=t.categoryIx,n=t.category,r=t.series,a=t.seriesIx,o=this.options,s=this.children,l=e.valueFields,c=rF({vertical:!o.invertAxes,overlay:r.overlay,categoryIx:i,invertAxes:o.invertAxes},r),u=e.fields.color||r.color;c=this.evalPointOptions(c,l,n,i,r,a),iF(r.color)&&(u=c.color);var h=new uB(l,c);h.color=u;var f=s[i];return f||(f=new VV({vertical:o.invertAxes,gap:o.gap,spacing:o.spacing,rtl:!o.invertAxes&&(this.chartService||{}).rtl}),this.append(f)),f.append(h),h}},{key:"updateRange",value:function(e,t){var i=e.current,n=e.target,r=t.series.axis,a=this.valueAxisRanges[r];MF(i)&&!isNaN(i)&&MF(n&&!isNaN(n))&&((a=this.valueAxisRanges[r]=a||{min:NP,max:HP}).min=Math.min(a.min,i,n),a.max=Math.max(a.max,i,n))}},{key:"formatPointValue",value:function(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)}},{key:"pointValue",value:function(e){return e.valueFields.current}},{key:"aboveAxis",value:function(e){return e.value.current>0}},{key:"createAnimation",value:function(){var e=this.points;this._setAnimationOptions();for(var t=0;t<e.length;t++){var i=e[t];i.options.animation=this.options.animation,i.createAnimation()}}}]),i}(oV);hB.prototype._setAnimationOptions=GV.prototype._setAnimationOptions,XF(hB,{animation:{type:Xj}});var fB=hB,dB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).chartService=e,r.options=rF({},r.options,n),r}return _createClass(i,[{key:"getStyle",value:function(e,t){var i=e.background,n=e.border.color;if(t){var r=t.color||t.options.color;i=UF(i,r),n=UF(n,r)}var a=uF(e.padding||{},"auto");return{backgroundColor:i,borderColor:n,font:e.font,color:e.color,opacity:e.opacity,borderWidth:oF(e.border.width),paddingTop:oF(a.top),paddingBottom:oF(a.bottom),paddingLeft:oF(a.left),paddingRight:oF(a.right)}}},{key:"show",value:function(e,t,i){e.format=t.format;var n=this.getStyle(t,i);e.style=n,!MF(t.color)&&new Bl(n.backgroundColor).percBrightness()>180&&(e.className="k-chart-tooltip-inverse"),this.chartService.notify("showTooltip",e),this.visible=!0}},{key:"hide",value:function(){this.chartService&&this.chartService.notify("hideTooltip"),this.visible=!1}},{key:"destroy",value:function(){delete this.chartService}}]),i}(hl);XF(dB,{border:{width:1},opacity:1});var pB=dB,vB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e,r)).crosshair=n,a.formatService=e.format,a.initAxisName(),a}return _createClass(i,[{key:"initAxisName",value:function(){var e,t=this.crosshair.axis;e=t.plotArea.categoryAxis?t.getCategory?"categoryAxis":"valueAxis":t.options.vertical?"yAxis":"xAxis",this.axisName=e}},{key:"showAt",value:function(e){var t=this.crosshair.axis,i=this.options,n=t[i.stickyMode?"getCategory":"getValue"](e),r=n;i.format?r=this.formatService.auto(i.format,n):t.options.type===VP&&(r=this.formatService.auto(t.options.labels.dateFormats[t.options.baseUnit],n)),this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:r,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}},{key:"hide",value:function(){this.chartService.notify("hideTooltip",{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}},{key:"getAnchor",value:function(){var e,t,i,n=this.crosshair,r=this.options,a=r.position,o=r.padding,s=!n.axis.options.vertical,l=n.line.bbox();return s?(e=LP,a===FP?(t=GP,i=l.bottomLeft().translate(0,o)):(t=FP,i=l.topLeft().translate(0,-o))):(t=LP,"left"===a?(e="right",i=l.topLeft().translate(-o,0)):(e="left",i=l.topRight().translate(o,0))),{point:i,align:{horizontal:e,vertical:t}}}}]),i}(pB);XF(vB,{padding:10});var gB=vB,mB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;_classCallCheck(this,i),(a=t.call(this,r)).axis=n,a.stickyMode=n instanceof $L;var o=a.options.tooltip;return o.visible&&(a.tooltip=new gB(e,_assertThisInitialized(a),rF({},o,{stickyMode:a.stickyMode}))),a}return _createClass(i,[{key:"showAt",value:function(e){this.point=e,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(e)}},{key:"hide",value:function(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}},{key:"moveLine",value:function(){var e,t=this.axis,i=this.point,n=t.options.vertical,r=this.getBox(),a=n?XP:qP,o=new p.Point(r.x1,r.y1);if(e=n?new p.Point(r.x2,r.y1):new p.Point(r.x1,r.y2),i)if(this.stickyMode){var s=t.getSlot(t.pointCategoryIndex(i));o[a]=e[a]=s.center()[a]}else o[a]=e[a]=i[a];this.box=r,this.line.moveTo(o).lineTo(e)}},{key:"getBox",value:function(){for(var e,t=this.axis,i=t.pane.axes,n=i.length,r=t.options.vertical,a=t.lineBox().clone(),o=r?qP:XP,s=0;s<n;s++){var l=i[s];l.options.vertical!==r&&(e?e.wrap(l.lineBox()):e=l.lineBox().clone())}return a[o+1]=e[o+1],a[o+2]=e[o+2],a}},{key:"createVisual",value:function(){_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this);var e=this.options;this.line=new m.Path({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}},{key:"destroy",value:function(){this.tooltip&&this.tooltip.destroy(),_get(_getPrototypeOf(i.prototype),"destroy",this).call(this)}}]),i}(aL);XF(mB,{color:PP,width:2,zIndex:-1,tooltip:{visible:!1}});var yB=mB,bB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).pane=n,r}return _createClass(i,[{key:"shouldClip",value:function(){for(var e=this.children,t=e.length,i=0;i<t;i++)if(!0===e[i].options.clip)return!0;return!1}},{key:"_clipBox",value:function(){return this.pane.chartsBox()}},{key:"createVisual",value:function(){if(this.visual=new m.Group({zIndex:0}),this.shouldClip()){var e=(this.clipBox=this._clipBox()).toRect(),t=m.Path.fromRect(e);ZP(t),this.visual.clip(t),this.unclipLabels()}}},{key:"stackRoot",value:function(){return this}},{key:"unclipLabels",value:function(){for(var e=this.children,t=this.clipBox,i=0;i<e.length;i++)for(var n=e[i].points||{},r=n.length,a=0;a<r;a++){var o=n[a];if(o&&!1!==o.visible&&o.overlapsBox&&o.overlapsBox(t))if(o.unclipElements)o.unclipElements();else{var s=o.label,l=o.note;s&&s.options.visible&&(s.alignToClipBox&&s.alignToClipBox(t),s.options.noclip=!0),l&&l.options.visible&&(l.options.noclip=!0)}}}},{key:"destroy",value:function(){_get(_getPrototypeOf(i.prototype),"destroy",this).call(this),delete this.parent}}]),i}(aL);bB.prototype.isStackRoot=!0;var kB=bB,CB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).id="pane"+wB++,n.createTitle(),n.content=new aL,n.chartContainer=new kB({},_assertThisInitialized(n)),n.append(n.content),n.axes=[],n.charts=[],n}return _createClass(i,[{key:"createTitle",value:function(){var e=this.options.title;aF(e)&&(e=rF({},e,{align:e.position,position:GP})),this.title=_L.buildTitle(e,this,i.prototype.options.title)}},{key:"appendAxis",value:function(e){this.content.append(e),this.axes.push(e),e.pane=this}},{key:"appendAxisAt",value:function(e,t){this.content.append(e),this.axes.splice(t,0,e),e.pane=this}},{key:"appendChart",value:function(e){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(e),this.chartContainer.append(e),e.pane=this}},{key:"empty",value:function(){var e=this.parent;if(e){for(var t=0;t<this.axes.length;t++)e.removeAxis(this.axes[t]);for(var i=0;i<this.charts.length;i++)e.removeChart(this.charts[i])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}},{key:"reflow",value:function(e){var t;VF(this.children)===this.content&&(t=this.children.pop()),_get(_getPrototypeOf(i.prototype),"reflow",this).call(this,e),t&&this.children.push(t),this.title&&(this.contentBox.y1+=this.title.box.height())}},{key:"visualStyle",value:function(){var e=_get(_getPrototypeOf(i.prototype),"visualStyle",this).call(this);return e.zIndex=-10,e}},{key:"renderComplete",value:function(){this.options.visible&&this.createGridLines()}},{key:"stackRoot",value:function(){return this}},{key:"clipRoot",value:function(){return this}},{key:"createGridLines",value:function(){for(var e=this.axes,t=e.concat(this.parent.axes),i=[],n=[],r=0;r<e.length;r++)for(var a=e[r],o=a.options.vertical,s=o?i:n,l=0;l<t.length;l++)if(0===s.length){var c=t[l];o!==c.options.vertical&&RF(s,a.createGridLines(c))}}},{key:"refresh",value:function(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}},{key:"chartsBox",value:function(){for(var e=this.axes,t=e.length,i=new QF,n=0;n<t;n++){var r=e[n],a=r.options.vertical?XP:qP,o=r.lineBox();i[a+1]=o[a+1],i[a+2]=o[a+2]}if(0===i.x2)for(var s=this.parent.axes,l=s.length,c=0;c<l;c++){var u=s[c];if(!u.options.vertical){var h=u.lineBox();i.x1=h.x1,i.x2=h.x2}}return i}},{key:"clipBox",value:function(){return this.chartContainer.clipBox}},{key:"notifyRender",value:function(){var e=this.getService();e&&e.notify("paneRender",{pane:new Pj(this),index:this.paneIndex,name:this.options.name})}}]),i}(sL),wB=1;CB.prototype.isStackRoot=!0,XF(CB,{zIndex:-1,shrinkToFit:!0,title:{align:"left"},visible:!0});var _B=CB;function xB(e,t){null!==t&&e.push(t)}function SB(e,t,i){var n=t.visible;if(MF(n))return n;var r=e.pointVisibility;return r?r[i]:void 0}function TB(e){for(var t=e.data,i=[],n=0,r=0,a=0;a<t.length;a++){var o=Hj.current.bindPoint(e,a),s=o.valueFields.value;eF(s)&&(s=parseFloat(s)),QP(s)?(o.visible=!1!==SB(e,o.fields,a),o.value=Math.abs(s),i.push(o),o.visible&&(n+=o.value),0!==s&&r++):i.push(null)}return{total:n,points:i,count:r}}function IB(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function OB(e,t){for(var i=[],n=[].concat(t),r=0;r<e.length;r++){var a=e[r];SF(a.type,n)&&i.push(a)}return i}function EB(e,t,i){if(null===t)return t;var n="_date_"+e,r=t[n];return r||(r=YL(i,CF(e)(t)),t[n]=r),r}function AB(e,t){var i=e.type,n=t instanceof Date;return!i&&n||IB(i,VP)}function RB(e){return 1===e.length?e[0]:e}var DB=/area/i;function MB(e,t){var i=Hj.current.bindPoint(e,null,t).valueFields;for(var n in i)if(tF(i[n]))return!0}function zB(e){var t,i,n=e.start,r=e.dir,a=e.min,o=e.max,s=e.getter,l=e.hasItem,c=e.series,u=n;do{l(u+=r)&&(t=MB(c,(i=s(u)).item))}while(a<=u&&u<=o&&!t);if(t)return i}function PB(e,t,i,n,r){var a=t.min,o=t.max,s=a>0&&a<i,l=o+1<i;if(s||l){var c,u,h;if("interpolate"!==function(e){return e.missingValues?e.missingValues:DB.test(e.type)||e.stack?"zero":"interpolate"}(e))s&&(c=n(a-1)),l&&(u=n(o+1));else s&&(c=MB(e,(h=n(a-1)).item)?h:zB({start:a,dir:-1,min:0,max:i-1,getter:n,hasItem:r,series:e})),l&&(u=MB(e,(h=n(o+1)).item)?h:zB({start:o,dir:1,min:0,max:i-1,getter:n,hasItem:r,series:e}));c&&(e._outOfRangeMinPoint=c),u&&(e._outOfRangeMaxPoint=u)}}var FB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,n)).initFields(e,n),a.series=e,a.initSeries(),a.charts=[],a.options.legend=a.options.legend||{},a.options.legend.items=[],a.axes=[],a.crosshairs=[],a.chartService=r,a.originalOptions=n,a.createPanes(),a.render(),a.createCrosshairs(),a}return _createClass(i,[{key:"initFields",value:function(){}},{key:"initSeries",value:function(){for(var e=this.series,t=0;t<e.length;t++)e[t].index=t}},{key:"createPanes",value:function(){var e={title:{color:(this.options.title||{}).color}},t=[],i=this.options.panes||[],n=Math.max(i.length,1);function r(e,t){eF(e.title)&&(e.title={text:e.title}),e.title=rF({},t.title,e.title)}for(var a=0;a<n;a++){var o=i[a]||{};r(o,e);var s=new _B(o);s.paneIndex=a,t.push(s),this.append(s)}this.panes=t}},{key:"createCrosshairs",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.panes,t=0;t<e.length;t++)for(var i=e[t],n=0;n<i.axes.length;n++){var r=i.axes[n];if(r.options.crosshair&&r.options.crosshair.visible){var a=new yB(this.chartService,r,r.options.crosshair);this.crosshairs.push(a),i.content.append(a)}}}},{key:"removeCrosshairs",value:function(e){for(var t=this.crosshairs,i=e.axes,n=t.length-1;n>=0;n--)for(var r=0;r<i.length;r++)if(t[n].axis===i[r]){t.splice(n,1);break}}},{key:"hideCrosshairs",value:function(){for(var e=this.crosshairs,t=0;t<e.length;t++)e[t].hide()}},{key:"findPane",value:function(e){for(var t,i=this.panes,n=0;n<i.length;n++)if(i[n].options.name===e){t=i[n];break}return t||i[0]}},{key:"findPointPane",value:function(e){for(var t,i=this.panes,n=0;n<i.length;n++)if(i[n].box.containsPoint(e)){t=i[n];break}return t}},{key:"appendAxis",value:function(e){this.findPane(e.options.pane).appendAxis(e),this.axes.push(e),e.plotArea=this}},{key:"removeAxis",value:function(e){for(var t=[],i=0;i<this.axes.length;i++){var n=this.axes[i];e!==n?t.push(n):n.destroy()}this.axes=t}},{key:"appendChart",value:function(e,t){this.charts.push(e),t?t.appendChart(e):this.append(e)}},{key:"removeChart",value:function(e){for(var t=[],i=0;i<this.charts.length;i++){var n=this.charts[i];n!==e?t.push(n):n.destroy()}this.charts=t}},{key:"addToLegend",value:function(e){for(var t=e.length,i=this.options.legend,n=i.labels||{},r=i.inactiveItems||{},a=r.labels||{},o=[],s=0;s<t;s++){var l=e[s],c=!1!==l.visible;if(!1!==l.visibleInLegend){var u=l.name,h=c?yF(n):yF(a)||yF(n);h&&(u=h({text:eB(u)?u:"",series:l}));var f=l._defaults,d=void 0,p=void 0,v=l.color;iF(v)&&f&&(v=f.color),c?(d={},p=v):(d={color:a.color,font:a.font},p=r.markers.color),eB(u)&&""!==u&&o.push({text:u,labels:d,markerColor:p,series:l,active:c})}}RF(i.items,o)}},{key:"groupAxes",value:function(e){for(var t=[],i=[],n=0;n<e.length;n++)for(var r=e[n].axes,a=0;a<r.length;a++){var o=r[a];o.options.vertical?i.push(o):t.push(o)}return{x:t,y:i,any:t.concat(i)}}},{key:"groupSeriesByPane",value:function(){for(var e=this.series,t={},i=0;i<e.length;i++){var n=e[i],r=this.seriesPaneName(n);t[r]?t[r].push(n):t[r]=[n]}return t}},{key:"filterVisibleSeries",value:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];!1!==n.visible&&t.push(n)}return t}},{key:"reflow",value:function(e){var t=this.panes,i=uF(this.options.plotArea.margin);this.box=e.clone().unpad(i),this.reflowPanes(),this.detachLabels(),this.reflowAxes(t),this.reflowCharts(t)}},{key:"redraw",value:function(e){var t=[].concat(e);this.initSeries();var i=this.getRoot();i&&i.cleanGradients();for(var n=0;n<t.length;n++)this.removeCrosshairs(t[n]),t[n].empty();this.render(t),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(t),this.createCrosshairs(t);for(var r=0;r<t.length;r++)t[r].refresh()}},{key:"axisCrossingValues",value:function(e,t){for(var i=e.options,n=[].concat(i.axisCrossingValues||i.axisCrossingValue),r=t.length-n.length,a=n[0]||0,o=0;o<r;o++)n.push(a);return n}},{key:"alignAxisTo",value:function(e,t,i,n){var r=e.getSlot(i,i,!0),a=e.options.reverse?2:1,o=t.getSlot(n,n,!0),s=t.options.reverse?2:1,l=e.box.translate(o[qP+s]-r[qP+a],o[XP+s]-r[XP+a]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)}},{key:"alignAxes",value:function(e,t){for(var i=e[0],n=t[0],r=this.axisCrossingValues(i,t),a=this.axisCrossingValues(n,e),o={},s={},l={},c={},u=0;u<t.length;u++){var h=t[u],f=h.pane,d=f.id,p=!1!==h.options.visible,v=VB(e,f)||i,g=r;v!==i&&(g=this.axisCrossingValues(v,t)),this.alignAxisTo(h,v,a[u],g[u]),h.options._overlap||(GF(h.lineBox().x1)===GF(v.lineBox().x1)&&(o[d]&&h.reflow(h.box.alignTo(o[d].box,"left").translate(-h.options.margin,0)),p&&(o[d]=h)),GF(h.lineBox().x2)===GF(v.lineBox().x2)&&(h._mirrored||(h.options.labels.mirror=!h.options.labels.mirror,h._mirrored=!0),this.alignAxisTo(h,v,a[u],g[u]),s[d]&&h.reflow(h.box.alignTo(s[d].box,"right").translate(h.options.margin,0)),p&&(s[d]=h)),0!==u&&n.pane===h.pane&&(h.alignTo(n),h.reflow(h.box)))}for(var m=0;m<e.length;m++){var y=e[m],b=y.pane,k=b.id,C=!1!==y.options.visible,w=VB(t,b)||n,_=a;w!==n&&(_=this.axisCrossingValues(w,e)),this.alignAxisTo(y,w,r[m],_[m]),y.options._overlap||(GF(y.lineBox().y1)===GF(w.lineBox().y1)&&(y._mirrored||(y.options.labels.mirror=!y.options.labels.mirror,y._mirrored=!0),this.alignAxisTo(y,w,r[m],_[m]),l[k]&&y.reflow(y.box.alignTo(l[k].box,GP).translate(0,-y.options.margin)),C&&(l[k]=y)),GF(y.lineBox().y2,3)===GF(w.lineBox().y2,3)&&(c[k]&&y.reflow(y.box.alignTo(c[k].box,FP).translate(0,y.options.margin)),C&&(c[k]=y)),0!==m&&(y.alignTo(i),y.reflow(y.box)))}}},{key:"shrinkAxisWidth",value:function(e){for(var t=this.groupAxes(e).any,i=jB(t),n=0,r=0;r<e.length;r++){var a=e[r];a.axes.length>0&&(n=Math.max(n,i.width()-a.contentBox.width()))}if(0!==n)for(var o=0;o<t.length;o++){var s=t[o];s.options.vertical||s.reflow(s.box.shrink(n,0))}}},{key:"shrinkAxisHeight",value:function(e){for(var t,i=0;i<e.length;i++){var n=e[i],r=n.axes,a=Math.max(0,jB(r).height()-n.contentBox.height());if(0!==a){for(var o=0;o<r.length;o++){var s=r[o];s.options.vertical&&s.reflow(s.box.shrink(0,a))}t=!0}}return t}},{key:"fitAxes",value:function(e){for(var t=this.groupAxes(e).any,i=0,n=0;n<e.length;n++){var r=e[n],a=r.axes,o=r.contentBox;if(a.length>0){var s=jB(a),l=Math.max(o.y1-s.y1,o.y2-s.y2);i=Math.max(i,o.x1-s.x1);for(var c=0;c<a.length;c++){var u=a[c];u.reflow(u.box.translate(0,l))}}}for(var h=0;h<t.length;h++){var f=t[h];f.reflow(f.box.translate(i,0))}}},{key:"reflowAxes",value:function(e){for(var t=this.groupAxes(e),i=0;i<e.length;i++)this.reflowPaneAxes(e[i]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e),this.autoRotateAxisLabels(t),this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e)&&this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e),this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e)&&this.alignAxes(t.x,t.y),this.fitAxes(e))}},{key:"autoRotateAxisLabels",value:function(e){for(var t,i=this.panes,n=BB(i),r=0;r<n.length;r++)n[r].autoRotateLabels()&&(t=!0);if(t){for(var a=0;a<i.length;a++)this.reflowPaneAxes(i[a]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(i))}}},{key:"reflowPaneAxes",value:function(e){var t=e.axes,i=t.length;if(i>0)for(var n=0;n<i;n++)t[n].reflow(e.contentBox)}},{key:"reflowCharts",value:function(e){for(var t=this.charts,i=t.length,n=this.box,r=0;r<i;r++){var a=t[r].pane;a&&!SF(a,e)||t[r].reflow(n)}}},{key:"reflowPanes",value:function(){for(var e=this.box,t=this.panes,i=t.length,n=e.height(),r=0,a=e.y1,o=0;o<i;o++){var s=t[o],l=s.options.height;if(s.options.width=e.width(),s.options.height){if(l.indexOf&&l.indexOf("%")){var c=parseInt(l,10)/100;s.options.height=c*e.height()}s.reflow(e.clone()),n-=s.options.height}else r++}for(var u=0;u<i;u++){var h=t[u];h.options.height||(h.options.height=n/r)}for(var f=0;f<i;f++){var d=t[f],p=e.clone().move(e.x1,a);d.reflow(p),a+=d.options.height}}},{key:"backgroundBox",value:function(){for(var e,t=this.axes,i=t.length,n=0;n<i;n++)for(var r=t[n],a=0;a<i;a++){var o=t[a];if(r.options.vertical!==o.options.vertical){var s=r.lineBox().clone().wrap(o.lineBox());e=e?e.wrap(s):s}}return e||this.box}},{key:"chartsBoxes",value:function(){for(var e=this.panes,t=[],i=0;i<e.length;i++)t.push(e[i].chartsBox());return t}},{key:"addBackgroundPaths",value:function(e){for(var t=this.chartsBoxes(),i=0;i<t.length;i++)e.paths.push(m.Path.fromRect(t[i].toRect()))}},{key:"backgroundContainsPoint",value:function(e){for(var t=this.chartsBoxes(),i=0;i<t.length;i++)if(t[i].containsPoint(e))return!0}},{key:"createVisual",value:function(){_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this);var e,t=this.options.plotArea,n=t.opacity,r=t.background,a=t.border,o=void 0===a?{}:a;""!==(e=r)&&null!==e&&"none"!==e&&"transparent"!==e&&MF(e)||(r=UP,n=0);var s=this._bgVisual=new m.MultiPath({fill:{color:r,opacity:n},stroke:{color:o.width?o.color:"",width:o.width,dashType:o.dashType},zIndex:-1});this.addBackgroundPaths(s),this.appendVisual(s)}},{key:"pointsByCategoryIndex",value:function(e){var t=this.charts,i=[];if(null!==e)for(var n=0;n<t.length;n++)if("_navigator"!==t[n].pane.options.name){var r=t[n].categoryPoints[e];if(r&&r.length)for(var a=0;a<r.length;a++){var o=r[a];o&&MF(o.value)&&null!==o.value&&i.push(o)}}return i}},{key:"pointsBySeriesIndex",value:function(e){return this.filterPoints((function(t){return t.series.index===e}))}},{key:"pointsBySeriesName",value:function(e){return this.filterPoints((function(t){return t.series.name===e}))}},{key:"filterPoints",value:function(e){for(var t=this.charts,i=[],n=0;n<t.length;n++)for(var r=t[n].points,a=0;a<r.length;a++){var o=r[a];o&&!1!==o.visible&&e(o)&&i.push(o)}return i}},{key:"findPoint",value:function(e){for(var t=this.charts,i=0;i<t.length;i++)for(var n=t[i].points,r=0;r<n.length;r++){var a=n[r];if(a&&!1!==a.visible&&e(a))return a}}},{key:"paneByPoint",value:function(e){for(var t=this.panes,i=0;i<t.length;i++){var n=t[i];if(n.box.containsPoint(e))return n}}},{key:"detachLabels",value:function(){var e=this.groupAxes(this.panes),t=e.x,i=e.y;this.detachAxisGroupLabels(i,t),this.detachAxisGroupLabels(t,i)}},{key:"detachAxisGroupLabels",value:function(e,t){for(var i=0,n=0;n<e.length;n++){var r=e[n],a=r.pane,o=VB(t,a)||t[0],s=this.createLabelAxis(r,n+i,o);if(s){i++;var l=a.axes.indexOf(r)+i;a.appendAxisAt(s,l)}}}},{key:"createLabelAxis",value:function(e,t,i){var n=e.options.labels,r=n.position;if("end"!==r&&"start"!==r||!1===n.visible)return null;var a=this.groupAxes(this.panes),o=this.axisCrossingValues(i,i.options.vertical?a.x:a.y),s="end"===r,l=i.range(),c=s?l.max:l.min;if(BF(o[t],l.min,l.max)-c==0)return null;o.splice(t+1,0,c),i.options.axisCrossingValues=o;var u=e.clone();return e.clear(),u.options.name=void 0,u.options.line.visible=!1,u.options.crosshair=void 0,u.options.notes=void 0,u.options.plotBands=void 0,u}}]),i}(aL);function LB(e){return!e.pane.axes.some((function(t){return t.options.vertical===e.options.vertical&&t!==e&&!1!==t.options.visible}))}function jB(e){for(var t,i=e.length,n=0;n<i;n++){var r=e[n],a=!1!==r.options.visible;if(a||LB(r)){var o=a?r.contentBox():r.lineBox();t?t.wrap(o):t=o.clone()}}return t||new QF}function VB(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n&&n.pane===t)return n}}var BB=function(e){return e.reduce((function(e,t){return e.concat(t.axes)}),[])};XF(FB,{series:[],plotArea:{margin:{}},background:"",border:{color:PP,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var NB=FB,HB={hover:function(e,t){this._dispatchEvent(e,t,"plotAreaHover")},click:function(e,t){this._dispatchEvent(e,t,"plotAreaClick")}};function GB(e,t,i){var n=t,r=e;if(e.indexOf(".")>-1){for(var a=e.split(".");a.length>1;)r=a.shift(),MF(n[r])||(n[r]={}),n=n[r];r=a.shift()}n[r]=i}var WB,UB=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;_classCallCheck(this,i),a=t.call(this);var o=n.canonicalFields(e),s=n.valueFields(e),l=n.sourceFields(e,o),c=a._seriesFields=[],u=r.query(e.type),h=e.aggregate||u;a._series=e,a._binder=n;for(var f=0;f<o.length;f++){var d=o[f],p=void 0;if(aF(h))p=h[d];else{if(0!==f&&!SF(d,s))break;p=h}p&&c.push({canonicalName:d,name:l[f],transform:iF(p)?p:Vj[p]})}return a}return _createClass(i,[{key:"aggregatePoints",value:function(e,t){var i=this._series,n=this._seriesFields,r=this._bindPoints(e||[]),a=r.dataItems[0],o={};if(a&&!QP(a)&&!JP(a)){var s=function(){};s.prototype=a,o=new s}for(var l=0;l<n.length;l++){var c=n[l],u=this._bindField(r.values,c.canonicalName),h=c.transform(u,i,r.dataItems,t);if(!(null===h||!aF(h)||MF(h.length)||h instanceof Date)){o=h;break}MF(h)&&GB(c.name,o,h)}return o}},{key:"_bindPoints",value:function(e){for(var t=this._binder,i=this._series,n=[],r=[],a=0;a<e.length;a++){var o=e[a];n.push(t.bindPoint(i,o)),r.push(i.data[o])}return{values:n,dataItems:r}}},{key:"_bindField",value:function(e,t){for(var i=[],n=e.length,r=0;r<n;r++){var a,o=e[r],s=o.valueFields;a=MF(s[t])?s[t]:o.fields[t],i.push(a)}return i}}]),i}(hl),qB=((WB=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._defaults={},e}return _createClass(i,[{key:"register",value:function(e,t){for(var i=0;i<e.length;i++)this._defaults[e[i]]=t}},{key:"query",value:function(e){return this._defaults[e]}}]),i}(hl)).current=new WB,WB),XB=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createLabel",value:function(){var e=this.options.labels,t=rF({},e,e.from),i=rF({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),i.visible&&(this.labelTo=this._createLabel(i),this.append(this.labelTo))}},{key:"_createLabel",value:function(e){var t,i=yF(e),n=this.pointData();return t=i?i(n):this.formatValue(e.format),new DV(t,rF({vertical:this.options.vertical},e),n)}},{key:"reflow",value:function(e){this.render();var t=this.labelFrom,i=this.labelTo,n=this.value;this.box=e,t&&(t.options.aboveAxis=n.from>n.to,t.reflow(e)),i&&(i.options.aboveAxis=n.to>n.from,i.reflow(e)),this.note&&this.note.reflow(e)}}]),i}(PV);XB.prototype.defaults=rF({},XB.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var JB=XB,YB=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"pointType",value:function(){return JB}},{key:"pointValue",value:function(e){return e.valueFields}},{key:"formatPointValue",value:function(e,t){return null===e.value.from&&null===e.value.to?"":this.chartService.format.auto(t,e.value.from,e.value.to)}},{key:"plotRange",value:function(e){return e?[e.value.from,e.value.to]:0}},{key:"updateRange",value:function(e,t){var i=t.series.axis,n=e.from,r=e.to,a=this.valueAxisRanges[i];null!==e&&QP(n)&&QP(r)&&((a=this.valueAxisRanges[i]=a||{min:NP,max:HP}).min=Math.min(a.min,n),a.max=Math.max(a.max,n),a.min=Math.min(a.min,r),a.max=Math.max(a.max,r))}},{key:"aboveAxis",value:function(e){var t=e.value;return t.from<t.to}}]),i}(GV);YB.prototype.plotLimits=oV.prototype.plotLimits;var KB=YB,ZB=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"aliasFor",value:function(){return this.parent}}]),i}(uV),$B=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).value=e,r.options=n,r.aboveAxis=UF(r.options.aboveAxis,!0),r.tooltipTracking=!0,r.initLabelsFormat(),r}return _createClass(i,[{key:"render",value:function(){if(!this._rendered){this._rendered=!0;var e=this.options,t=e.markers,i=e.labels,n=this.value,r=this.fromPoint=new ZB(n,rF({},this.options,{labels:i.from,markers:t.from})),a=this.toPoint=new ZB(n,rF({},this.options,{labels:i.to,markers:t.to}));this.copyFields(r),this.copyFields(a),this.append(r),this.append(a)}}},{key:"reflow",value:function(e){this.render();var t=e.from,i=e.to;this.positionLabels(t,i),this.fromPoint.reflow(t),this.toPoint.reflow(i),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}},{key:"createHighlight",value:function(){var e=new m.Group;return e.append(this.fromPoint.createHighlight()),e.append(this.toPoint.createHighlight()),e}},{key:"highlightVisual",value:function(){return this.visual}},{key:"highlightVisualArgs",value:function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}},{key:"tooltipAnchor",value:function(){var e=this.owner.pane.clipBox();if(!e||e.overlaps(this.box)){var t,i,n,r=this.box,a=r.center();return this.options.vertical?(t=a.x,i=r.y1-5,n=FP):(t=r.x2+5,i=a.y,n=LP),{point:new ZF(t,i),align:{horizontal:"left",vertical:n}}}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"overlapsBox",value:function(e){return this.box.overlaps(e)}},{key:"unclipElements",value:function(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}},{key:"initLabelsFormat",value:function(){var e=this.options.labels;e.format||(e.from&&e.from.format||(e.from=Object.assign({},e.from,{format:"{0}"})),e.to&&e.to.format||(e.to=Object.assign({},e.to,{format:"{1}"})))}},{key:"positionLabels",value:function(e,t){var i,n,r=this.options,a=r.labels,o=r.vertical;"auto"===a.position&&(o?t.y1<=e.y1?(n="above",i="below"):(n="below",i="above"):t.x1<=e.x1?(n="left",i="right"):(n="right",i="left"),a.from&&a.from.position||(this.fromPoint.options.labels.position=i),a.to&&a.to.position||(this.toPoint.options.labels.position=n))}},{key:"copyFields",value:function(e){e.dataItem=this.dataItem,e.category=this.category,e.series=this.series,e.color=this.color,e.owner=this.owner}}]),i}(aL);rF($B.prototype,sV),rF($B.prototype,lV),$B.prototype.defaults={markers:{visible:!1,background:UP,size:8,type:jP,border:{width:2},opacity:1},labels:{visible:!1,margin:uF(3),padding:uF(4),animation:{type:"fadeIn",delay:600},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:UP,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};var QB=$B,eN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createStrokeSegments",value:function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}},{key:"stackSegments",value:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),e}},{key:"createStroke",value:function(e){var t=new m.Path(e),i=new m.Path(e);t.segments.push.apply(t.segments,this.strokeSegments()),i.segments.push.apply(i.segments,this.stackSegments()),this.visual.append(t),this.visual.append(i)}},{key:"hasStackSegment",value:function(){return!0}},{key:"fromPoints",value:function(){return this.linePoints.map((function(e){return e.fromPoint}))}},{key:"toPoints",value:function(){return this.linePoints.map((function(e){return e.toPoint}))}}]),i}(SV),tN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createStrokeSegments",value:function(){return this.createCurveSegments(this.toPoints())}},{key:"stackSegments",value:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),e}},{key:"createCurveSegments",value:function(e){return(new Dj).process(this.toGeometryPoints(e))}}]),i}(eN),iN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createStrokeSegments",value:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}},{key:"stackSegments",value:function(){var e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()))).reverse(),e}}]),i}(eN);rF(iN.prototype,pV);var nN,rN=iN,aN=(rF((nN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),this.renderSegments()}},{key:"pointType",value:function(){return QB}},{key:"createPoint",value:function(e,t){var i=t.categoryIx,n=t.category,r=t.series,a=t.seriesIx,o=e.valueFields;if(!eB(o.from)&&!eB(o.to)){if("zero"!==this.seriesMissingValues(r))return null;o={from:0,to:0}}var s=this.pointOptions(r,a);s=this.evalPointOptions(s,o,n,i,r,a);var l=e.fields.color||r.color;iF(r.color)&&(l=s.color);var c=new QB(o,s);return c.color=l,this.append(c),c}},{key:"createSegment",value:function(e,t,i){var n=(t.line||{}).style;return new("smooth"===n?tN:"step"===n?rN:eN)(e,t,i)}},{key:"plotRange",value:function(e,t){return e?[e.value.from,e.value.to]:[t,t]}},{key:"valueSlot",value:function(e,t){var i=e.getSlot(t[0],t[0],!this.options.clip),n=e.getSlot(t[1],t[1],!this.options.clip);if(i&&n)return{from:i,to:n}}},{key:"pointSlot",value:function(e,t){var i,n,r=t.from,a=t.to;return this.options.invertAxes?(i=new QF(r.x1,e.y1,r.x2,e.y2),n=new QF(a.x1,e.y1,a.x2,e.y2)):(i=new QF(e.x1,r.y1,e.x2,r.y2),n=new QF(e.x1,a.y1,e.x2,a.y2)),{from:i,to:n}}},{key:"addValue",value:function(e,t){var n=e.valueFields;QP(n.from)||(n.from=n.to),QP(n.to)||(n.to=n.from),_get(_getPrototypeOf(i.prototype),"addValue",this).call(this,e,t)}},{key:"updateRange",value:function(e,t){if(null!==e&&QP(e.from)&&QP(e.to)){var i=t.series.axis,n=this.valueAxisRanges[i]=this.valueAxisRanges[i]||{min:NP,max:HP},r=e.from,a=e.to;n.min=Math.min(n.min,r,a),n.max=Math.max(n.max,r,a)}}},{key:"formatPointValue",value:function(e,t){var i=e.value;return this.chartService.format.auto(t,i.from,i.to)}},{key:"animationPoints",value:function(){for(var e=this.points,t=[],i=0;i<e.length;i++){var n=e[i];n&&(t.push((n.fromPoint||{}).marker),t.push((n.toPoint||{}).marker))}return t.concat(this._segments)}}]),i}(oV)).prototype,yV,_V),nN),oN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"reflow",value:function(e){var t=this.options,i=this.value,n=this.owner.seriesValueAxis(t),r=[],a=[],o=[],s=n.getSlot(i.low,i.high),l=n.getSlot(i.open,i.open),c=n.getSlot(i.close,i.close);l.x1=c.x1=s.x1=e.x1,l.x2=c.x2=s.x2=e.x2;var u=s.center().x;r.push([l.x1,l.y1]),r.push([u,l.y1]),a.push([u,c.y1]),a.push([c.x2,c.y1]),o.push([u,s.y1]),o.push([u,s.y2]),this.lines=[r,a,o],this.box=s.clone().wrap(l.clone().wrap(c)),this.reflowNote()}},{key:"createBody",value:function(){}}]),i}(UV),sN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"pointType",value:function(){return oN}}]),i}(JV),lN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this)).from=e,a.to=n,a.series=r,a}return _createClass(i,[{key:"linePoints",value:function(){var e=this.from,t=this.from.box,i=this.to.box,n=[];if(e.isVertical){var r=e.aboveAxis?t.y1:t.y2;n.push([t.x1,r],[i.x2,r])}else{var a=e.aboveAxis?t.x2:t.x1;n.push([a,t.y1],[a,i.y2])}return n}},{key:"createVisual",value:function(){_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this);var e=this.series.line||{},t=m.Path.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});ZP(t),this.visual.append(t)}}]),i}(aL);XF(lN,{animation:{type:"fadeIn",delay:600}});var cN=lN,uN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),this.createSegments()}},{key:"traverseDataPoints",value:function(e){for(var t=this.options.series,i=rV(t),n=!this.options.invertAxes,r=0;r<t.length;r++)for(var a=t[r],o=0,s=0,l=0;l<i;l++){var c=Hj.current.bindPoint(a,l),u=c.valueFields.value,h=c.fields.summary,f=void 0,d=o;h?"total"===h.toLowerCase()?(c.valueFields.value=o,d=0,f=o):(c.valueFields.value=s,f=d-s,s=0):QP(u)&&(s+=u,f=o+=u),e(c,{category:this.categoryAxis.categoryAt(l),categoryIx:l,series:a,seriesIx:r,total:o,runningTotal:s,from:d,to:f,isVertical:n})}}},{key:"updateRange",value:function(e,t){_get(_getPrototypeOf(i.prototype),"updateRange",this).call(this,{value:t.to},t)}},{key:"aboveAxis",value:function(e){return e.value>=0}},{key:"plotRange",value:function(e){return[e.from,e.to]}},{key:"createSegments",value:function(){for(var e=this.options.series,t=this.seriesPoints,i=this.segments=[],n=0;n<e.length;n++){var r=e[n],a=t[n];if(a)for(var o=void 0,s=0;s<a.length;s++){var l=a[s];if(l&&o){var c=new cN(o,l,r);i.push(c),this.append(c)}o=l}}}}]),i}(GV),hN=["area","verticalArea","rangeArea","verticalRangeArea"],fN=[Yj,Zj].concat(hN),dN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"initFields",value:function(e){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new AV,e.length>0){this.invertAxes=SF(e[0].type,[Xj,"bullet",Zj,"verticalArea","verticalRangeArea","rangeBar","horizontalWaterfall","verticalBoxPlot"]);for(var t=0;t<e.length;t++){var i=e[t].stack;if(i&&"100%"===i.type){this.stack100=!0;break}}}}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.panes;this.createCategoryAxes(e),this.aggregateCategories(e),this.createCategoryAxesLabels(e),this.createCharts(e),this.createValueAxes(e)}},{key:"removeAxis",value:function(e){var t=e.options.name;_get(_getPrototypeOf(i.prototype),"removeAxis",this).call(this,e),e instanceof $L?delete this.namedCategoryAxes[t]:(this.valueAxisRangeTracker.reset(t),delete this.namedValueAxes[t]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis}},{key:"createCharts",value:function(e){for(var t=this.groupSeriesByPane(),i=0;i<e.length;i++){var n=e[i],r=t[n.options.name||"default"]||[];this.addToLegend(r);var a=this.filterVisibleSeries(r);if(a)for(var o=this.groupSeriesByCategoryAxis(a),s=0;s<o.length;s++)this.createChartGroup(o[s],n)}}},{key:"createChartGroup",value:function(e,t){this.createAreaChart(OB(e,["area","verticalArea"]),t),this.createRangeAreaChart(OB(e,["rangeArea","verticalRangeArea"]),t),this.createBarChart(OB(e,[Jj,Xj]),t),this.createRangeBarChart(OB(e,["rangeColumn","rangeBar"]),t),this.createBulletChart(OB(e,["bullet","verticalBullet"]),t),this.createCandlestickChart(OB(e,"candlestick"),t),this.createBoxPlotChart(OB(e,["boxPlot","verticalBoxPlot"]),t),this.createOHLCChart(OB(e,"ohlc"),t),this.createWaterfallChart(OB(e,["waterfall","horizontalWaterfall"]),t),this.createLineChart(OB(e,[Yj,Zj]),t)}},{key:"aggregateCategories",value:function(e){var t=this.srcSeries||this.series,i=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(var n=0;n<t.length;n++){var r=t[n],a=this.seriesCategoryAxis(r),o=this.findPane(a.options.pane);r=(IB(a.options.type,VP)||r.categoryField)&&SF(o,e)?this.aggregateSeries(r,a):this.filterSeries(r,a),i.push(r)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=t,this.series=i}},{key:"filterSeries",value:function(e,t){var i=(e.data||{}).length;if(t._seriesMax=Math.max(t._seriesMax||0,i),!QP(t.options.min)&&!QP(t.options.max))return e;var n=t.currentRangeIndices(),r=SF(e.type,fN),a=rF({},e);return a.data=(a.data||[]).slice(n.min,n.max+1),r&&PB(a,n,i,(function(i){return{item:e.data[i],category:t.categoryAt(i,!0),categoryIx:i-n.min}}),(function(t){return MF(e.data[t])})),a}},{key:"clearSeriesPointsCache",value:function(){this._seriesPointsCache={}}},{key:"seriesSourcePoints",value:function(e,t){var i="".concat(e.index,";").concat(t.categoriesHash());if(this._seriesPointsCache[i])return this._currentPointsCache[i]=this._seriesPointsCache[i],this._seriesPointsCache[i];var n=t.options,r=n.srcCategories,a=IB(n.type,VP),o=e.data,s=a?EB:Bj,l=[];a||t.mapCategories();for(var c=0;c<o.length;c++){var u;if(u=e.categoryField?s(e.categoryField,o[c],this.chartService.intl):r[c],MF(u)&&null!==u){var h=t.totalIndex(u);l[h]=l[h]||{items:[],category:u},l[h].items.push(c)}}return this._currentPointsCache[i]=l,l}},{key:"aggregateSeries",value:function(e,t){if(!e.data.length)return e;for(var i=this.seriesSourcePoints(e,t),n=rF({},e),r=new UB(rF({},e),Hj.current,qB.current),a=n.data=[],o=t.options.dataItems||[],s=t.currentRangeIndices(),l=function(e){var n=e-s.min,a=i[e];if(a||(a=i[e]={}),a.categoryIx=n,!a.item){var o=t.categoryAt(e,!0);a.category=o,a.item=r.aggregatePoints(a.items,o)}return a},c=s.min;c<=s.max;c++){var u=l(c);a[u.categoryIx]=u.item,u.items&&u.items.length&&(o[u.categoryIx]=u.item)}return SF(n.type,fN)&&PB(n,s,t.totalCount(),l,(function(e){return i[e]})),t.options.dataItems=o,n}},{key:"appendChart",value:function(e,t){var n=e.options.series,r=this.seriesCategoryAxis(n[0]),a=r.options.categories,o=Math.max(0,rV(n)-a.length);if(o>0)for(a=r.options.categories=r.options.categories.slice(0);o--;)a.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),_get(_getPrototypeOf(i.prototype),"appendChart",this).call(this,e,t)}},{key:"seriesPaneName",value:function(e){var t=this.options,i=e.axis;return(wF([].concat(t.valueAxis),(function(e){return e.name===i}))[0]||{}).pane||((t.panes||[{}])[0]||{}).name||"default"}},{key:"seriesCategoryAxis",value:function(e){var t=e.categoryAxis,i=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!i)throw new Error("Unable to locate category axis with name "+t);return i}},{key:"stackableChartOptions",value:function(e,t){var i=e.stack;return{isStacked:i,isStacked100:i&&"100%"===i.type,clip:t.options.clip}}},{key:"groupSeriesByCategoryAxis",value:function(e){for(var t=[],i={},n=0;n<e.length;n++){var r=e[n].categoryAxis||"$$default$$";i.hasOwnProperty(r)||(i[r]=!0,t.push(r))}for(var a=[],o=0;o<t.length;o++){var s=vN(e,t[o],o);0!==s.length&&a.push(s)}return a}},{key:"createBarChart",value:function(e,t){if(0!==e.length){var i=e[0],n=new GV(this,Object.assign({series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing},this.stackableChartOptions(i,t)));this.appendChart(n,t)}}},{key:"createRangeBarChart",value:function(e,t){if(0!==e.length){var i=e[0],n=new KB(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(n,t)}}},{key:"createBulletChart",value:function(e,t){if(0!==e.length){var i=e[0],n=new fB(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing,clip:t.options.clip});this.appendChart(n,t)}}},{key:"createLineChart",value:function(e,t){if(0!==e.length){var i=new xV(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(i,t)}}},{key:"createAreaChart",value:function(e,t){if(0!==e.length){var i=new EV(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(i,t)}}},{key:"createRangeAreaChart",value:function(e,t){if(0!==e.length){var i=new aN(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(i,t)}}},{key:"createOHLCChart",value:function(e,t){if(0!==e.length){var i=e[0],n=new sN(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(n,t)}}},{key:"createCandlestickChart",value:function(e,t){if(0!==e.length){var i=e[0],n=new JV(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(n,t)}}},{key:"createBoxPlotChart",value:function(e,t){if(0!==e.length){var i=e[0],n=new $V(this,{invertAxes:this.invertAxes,gap:i.gap,series:e,spacing:i.spacing,clip:t.options.clip});this.appendChart(n,t)}}},{key:"createWaterfallChart",value:function(e,t){if(0!==e.length){var i=e[0],n=new uN(this,{series:e,invertAxes:this.invertAxes,gap:i.gap,spacing:i.spacing});this.appendChart(n,t)}}},{key:"axisRequiresRounding",value:function(e,t){for(var i=OB(this.series,$j),n=0;n<this.series.length;n++){var r=this.series[n];if(SF(r.type,hN)){var a=r.line;a&&"step"===a.style&&i.push(r)}}for(var o=0;o<i.length;o++){var s=i[o].categoryAxis||"";if(s===e||!s&&0===t)return!0}}},{key:"aggregatedAxis",value:function(e,t){for(var i=this.series,n=0;n<i.length;n++){var r=i[n].categoryAxis||"";if((r===e||!r&&0===t)&&i[n].categoryField)return!0}}},{key:"createCategoryAxesLabels",value:function(){for(var e=this.axes,t=0;t<e.length;t++)e[t]instanceof $L&&e[t].createLabels()}},{key:"createCategoryAxes",value:function(e){for(var t=this.invertAxes,i=[].concat(this.options.categoryAxis),n=[],r=0;r<i.length;r++){var a=i[r];if(SF(this.findPane(a.pane),e)){var o=a,s=o.name,l=o.categories,c=void 0===l?[]:l,u=void 0;if(a=rF({vertical:t,reverse:!t&&this.chartService.rtl,axisCrossingValue:t?NP:0},a),MF(a.justified)||(a.justified=this.isJustified()),this.axisRequiresRounding(s,r)&&(a.justified=!1),u=AB(a,c[0])?new oj(a,this.chartService):new $L(a,this.chartService),i[r].categories=u.options.srcCategories,s){if(this.namedCategoryAxes[s])throw new Error("Category axis with name ".concat(s," is already defined"));this.namedCategoryAxes[s]=u}u.axisIndex=r,n.push(u),this.appendAxis(u)}}var h=this.categoryAxis||n[0];this.categoryAxis=h,t?this.axisY=h:this.axisX=h}},{key:"isJustified",value:function(){for(var e=this.series,t=0;t<e.length;t++)if(!SF(e[t].type,hN))return!1;return!0}},{key:"createValueAxes",value:function(e){var t=this.valueAxisRangeTracker,i=t.query(),n=[].concat(this.options.valueAxis),r=this.invertAxes,a={vertical:!r,reverse:r&&this.chartService.rtl},o=[];this.stack100&&(a.roundToMajorUnit=!1,a.labels={format:"P0"});for(var s=0;s<n.length;s++){var l=n[s];if(SF(this.findPane(l.pane),e)){var c=l.name,u=IB(l.type,"log")?{min:.1,max:1}:{min:0,max:1},h=t.query(c)||i||u;0===s&&h&&i&&(h.min=Math.min(h.min,i.min),h.max=Math.max(h.max,i.max));var f=new(IB(l.type,"log")?bj:dj)(h.min,h.max,rF({},a,l),this.chartService);if(c){if(this.namedValueAxes[c])throw new Error("Value axis with name ".concat(c," is already defined"));this.namedValueAxes[c]=f}f.axisIndex=s,o.push(f),this.appendAxis(f)}}var d=this.valueAxis||o[0];this.valueAxis=d,r?this.axisX=d:this.axisY=d}},{key:"_dispatchEvent",value:function(e,t,i){var n=e._eventCoordinates(t),r=new ZF(n.x,n.y),a=this.pointPane(r),o=[],s=[];if(a){for(var l=a.axes,c=0;c<l.length;c++){var u=l[c];u.getValue?xB(s,u.getValue(r)):xB(o,u.getCategory(r))}0===o.length&&xB(o,this.categoryAxis.getCategory(r)),o.length>0&&s.length>0&&e.trigger(i,{element:LF(t),originalEvent:t,category:RB(o),value:RB(s)})}}},{key:"pointPane",value:function(e){for(var t=this.panes,i=0;i<t.length;i++){var n=t[i];if(n.contentBox.containsPoint(e))return n}}},{key:"updateAxisOptions",value:function(e,t){pN(this.options,e,t),pN(this.originalOptions,e,t)}}]),i}(NB);function pN(e,t,i){rF([].concat(t instanceof $L?e.categoryAxis:e.valueAxis)[t.axisIndex],i)}function vN(e,t,i){return wF(e,(function(e){return 0===i&&!e.categoryAxis||e.categoryAxis===t}))}XF(dN,{categoryAxis:{},valueAxis:{}}),rF(dN.prototype,HB);var gN=dN;function mN(){this._defaultPrevented=!0}var yN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._points=[],e}return _createClass(i,[{key:"destroy",value:function(){this._points=[]}},{key:"show",value:function(e){var t=[].concat(e);this.hide();for(var i=0;i<t.length;i++){var n=t[i];n&&n.toggleHighlight&&n.hasHighlight()&&(this.togglePointHighlight(n,!0),this._points.push(n))}}},{key:"togglePointHighlight",value:function(e,t){var i=(e.options.highlight||{}).toggle;if(i){var n={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:mN,visual:e.highlightVisual(),show:t};i(n),n._defaultPrevented||e.toggleHighlight(t)}else e.toggleHighlight(t)}},{key:"hide",value:function(){for(var e=this._points;e.length;)this.togglePointHighlight(e.pop(),!1)}},{key:"isHighlighted",value:function(e){for(var t=this._points,i=0;i<t.length;i++)if(e===t[i])return!0;return!1}}]),i}(hl);function bN(e,t){var i=(t||"").toLowerCase(),n=e.event;return"none"===i&&!(n.ctrlKey||n.shiftKey||n.altKey)||n[i+"Key"]}function kN(e){for(var t={},i=0;i<e.length;i++){var n=e[i];n.axis.options.name&&(t[n.axis.options.name]={min:n.range.min,max:n.range.max})}return t}var CN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).plotArea=e,r.options=rF({},r.options,n),r}return _createClass(i,[{key:"start",value:function(e){return this._active=bN(e,this.options.key),this._active}},{key:"move",value:function(e){if(this._active){var t=this.axisRanges=this._panAxes(e,qP).concat(this._panAxes(e,XP));if(t.length)return this.axisRanges=t,kN(t)}}},{key:"end",value:function(){var e=this._active;return this._active=!1,e}},{key:"pan",value:function(){var e=this.plotArea,t=this.axisRanges;if(t.length){for(var i=0;i<t.length;i++){var n=t[i];e.updateAxisOptions(n.axis,n.range)}e.redraw(e.panes)}}},{key:"destroy",value:function(){delete this.plotArea}},{key:"_panAxes",value:function(e,t){var i=this.plotArea,n=-e[t].delta,r=(this.options.lock||"").toLowerCase(),a=[];if(0!==n&&(r||"").toLowerCase()!==t)for(var o=i.axes,s=0;s<o.length;s++){var l=o[s];if(t===qP&&!l.options.vertical||t===XP&&l.options.vertical){var c=l.pan(n);c&&(c.limitRange=!0,a.push({axis:l,range:c}))}}return a}}]),i}(hl);CN.prototype.options={key:"none",lock:"none"};var wN=CN,_N=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).chart=e,r.options=rF({},r.options,n),r.createElement(),r}return _createClass(i,[{key:"createElement",value:function(){var e=this._marquee=document.createElement("div");e.className="k-marquee";var t=document.createElement("div");t.className="k-marquee-color",e.appendChild(t)}},{key:"removeElement",value:function(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}},{key:"setStyles",value:function(e){cF(this._marquee,e)}},{key:"start",value:function(e){if(bN(e,this.options.key)){var t=this.chart,i=t._eventCoordinates(e),n=this._zoomPane=t._plotArea.paneByPoint(i),r=n?n.chartsBox().clone():null;if(n&&r){var a=this._elementOffset();return r.translate(a.left,a.top),this._zoomPaneClipBox=r,document.body.appendChild(this._marquee),this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0}),!0}}return!1}},{key:"_elementOffset",value:function(){var e=this.chart.element,t=cF(e,["paddingLeft","paddingTop"]),i=t.paddingLeft,n=t.paddingTop,r=PF(e);return{left:i+r.left,top:n+r.top}}},{key:"move",value:function(e){this._zoomPane&&this.setStyles(this._selectionPosition(e))}},{key:"end",value:function(e){if(this._zoomPane){var t=this._elementOffset(),i=this._selectionPosition(e);return i.left-=t.left,i.top-=t.top,this._updateAxisRanges({x:i.left,y:i.top},{x:i.left+i.width,y:i.top+i.height}),this.removeElement(),delete this._zoomPane,kN(this.axisRanges)}}},{key:"zoom",value:function(){var e=this.axisRanges;if(e&&e.length){for(var t=this.chart._plotArea,i=0;i<e.length;i++){var n=e[i];t.updateAxisOptions(n.axis,n.range)}t.redraw(t.panes)}}},{key:"destroy",value:function(){this.removeElement(),delete this._marquee,delete this.chart}},{key:"_updateAxisRanges",value:function(e,t){for(var i=(this.options.lock||"").toLowerCase(),n=[],r=this._zoomPane.axes,a=0;a<r.length;a++){var o=r[a],s=o.options.vertical;if((i!==qP||s)&&(i!==XP||!s)&&MF(o.axisIndex)){var l=o.pointsRange(e,t);l&&n.push({axis:o,range:l})}}this.axisRanges=n}},{key:"_selectionPosition",value:function(e){var t=this._zoomPaneClipBox,i={x:e.x.startLocation,y:e.y.startLocation},n=e.x.location,r=e.y.location,a=(this.options.lock||"").toLowerCase(),o=Math.min(i.x,n),s=Math.min(i.y,r),l=Math.abs(i.x-n),c=Math.abs(i.y-r);return a===qP&&(o=t.x1,l=t.width()),a===XP&&(s=t.y1,c=t.height()),n>t.x2&&(l=t.x2-i.x),n<t.x1&&(l=i.x-t.x1),r>t.y2&&(c=t.y2-i.y),r<t.y1&&(c=i.y-t.y1),{left:Math.max(o,t.x1),top:Math.max(s,t.y1),width:l,height:c}}}]),i}(hl);_N.prototype.options={key:"shift",lock:"none"};var xN=_N,SN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this)).chart=e,r.options=rF({},r.options,n),r}return _createClass(i,[{key:"updateRanges",value:function(e){for(var t=(this.options.lock||"").toLowerCase(),i=[],n=this.chart._plotArea.axes,r=0;r<n.length;r++){var a=n[r],o=a.options.vertical;if((t!==qP||o)&&(t!==XP||!o)&&a.zoomRange){var s=a.zoomRange(-e);s&&i.push({axis:a,range:s})}}return this.axisRanges=i,kN(i)}},{key:"zoom",value:function(){var e=this.axisRanges,t=this.chart._plotArea;if(e&&e.length&&t.updateAxisOptions){for(var i=0;i<e.length;i++){var n=e[i];t.updateAxisOptions(n.axis,n.range)}t.redraw(t.panes)}}},{key:"destroy",value:function(){delete this.chart}}]),i}(hl),TN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e)).chartService=n,r}return _createClass(i,[{key:"render",value:function(){var e=this.children,t=this.options,i=t.vertical;this.visual=new m.Layout(null,{spacing:i?0:t.spacing,lineSpacing:i?t.spacing:0,orientation:i?"vertical":"horizontal",reverse:t.rtl,alignItems:i?"start":"center"});for(var n=0;n<e.length;n++){var r=e[n];r.reflow(new QF),r.renderVisual()}}},{key:"reflow",value:function(e){this.visual.rect(e.toRect()),this.visual.reflow();var t=this.visual.clippedBBox();this.box=t?bL(t):new QF}},{key:"renderVisual",value:function(){this.addVisual()}},{key:"createVisual",value:function(){}}]),i}(aL),IN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).createContainer(),e.rtl?(n.createLabel(),n.createMarker()):(n.createMarker(),n.createLabel()),n}return _createClass(i,[{key:"createContainer",value:function(){this.container=new vL({vertical:!1,wrap:!1,align:LP,spacing:this.options.spacing}),this.append(this.container)}},{key:"createMarker",value:function(){this.container.append(new cL(this.markerOptions()))}},{key:"markerOptions",value:function(){var e=this.options,t=e.markerColor;return rF({},e.markers,{background:t,border:{color:t}})}},{key:"createLabel",value:function(){var e=this.options,t=rF({},e.labels);this.container.append(new CL(e.text,t))}},{key:"renderComplete",value:function(){_get(_getPrototypeOf(i.prototype),"renderComplete",this).call(this);var e=this.options.cursor||{},t=this._itemOverlay=m.Path.fromRect(this.container.box.toRect(),{fill:{color:UP,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(t)}},{key:"click",value:function(e,t){var i=this.eventArgs(t);!e.trigger("legendItemClick",i)&&t&&"contextmenu"===t.type&&t.preventDefault()}},{key:"over",value:function(e,t){var i=this.eventArgs(t);return e.trigger("legendItemHover",i)||e._legendItemHover(i.seriesIndex,i.pointIndex),!0}},{key:"out",value:function(e,t){e._unsetActivePoint(),e.trigger("legendItemLeave",this.eventArgs(t))}},{key:"eventArgs",value:function(e){var t=this.options;return{element:LF(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}}},{key:"renderVisual",value:function(){var e=this,t=this.options,n=t.visual;n?(this.visual=n({active:t.active,series:t.series,sender:this.getSender(),pointIndex:t.pointIndex,options:{markers:this.markerOptions(),labels:t.labels},createVisual:function(){e.createVisual(),e.renderChildren(),e.renderComplete();var t=e.visual;return delete e.visual,t}}),this.addVisual()):_get(_getPrototypeOf(i.prototype),"renderVisual",this).call(this)}}]),i}(sL),ON=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(n=t.call(this,e)).chartService=r,SF(n.options.position,[GP,"right",FP,"left","custom"])||(n.options.position="right"),n.createContainer(),n.createItems(),n}return _createClass(i,[{key:"createContainer",value:function(){var e=this.options,t=e.position,i=e.align,n=t,r=LP;"custom"===t?n="left":SF(t,[GP,FP])?(n="start"===i?"left":"end"===i?"right":LP,r=t):i&&("start"===i?r=GP:"end"===i&&(r=FP)),this.container=new sL({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:r,align:n,zIndex:e.zIndex,shrinkToFit:!0}),this.append(this.container)}},{key:"createItems",value:function(){var e=this.getService(),t=this.options,i=this.isVertical(),n=new TN({vertical:i,spacing:t.spacing,rtl:e.rtl},e),r=t.items;t.reverse&&(r=r.slice(0).reverse());for(var a=r.length,o=0;o<a;o++)n.append(new IN(rF({},{markers:t.markers,labels:t.labels,rtl:e.rtl},t.item,r[o])));n.render(),this.container.append(n)}},{key:"isVertical",value:function(){var e=this.options,t=e.orientation,i=e.position;return"custom"===i&&"horizontal"!==t||(MF(t)?"horizontal"!==t:SF(i,["left","right"]))}},{key:"hasItems",value:function(){return this.container.children[0].children.length>0}},{key:"reflow",value:function(e){var t=this.options,i=e.clone();this.hasItems()?"custom"===t.position?(this.containerCustomReflow(i),this.box=i):this.containerReflow(i):this.box=i}},{key:"containerReflow",value:function(e){var t=this.options,i=this.container,n=t.position,r=t.width,a=t.height,o=n===GP||n===FP?qP:XP,s=this.isVertical(),l=e.clone(),c=e.clone();"left"!==n&&"right"!==n||(c.y1=l.y1=0),s&&a?(c.y2=c.y1+a,c.align(l,XP,i.options.vAlign)):!s&&r&&(c.x2=c.x1+r,c.align(l,qP,i.options.align)),i.reflow(c);var u=(c=i.box).clone();(t.offsetX||t.offsetY)&&(c.translate(t.offsetX,t.offsetY),this.container.reflow(c)),u[o+1]=e[o+1],u[o+2]=e[o+2],this.box=u}},{key:"containerCustomReflow",value:function(e){var t=this.options,i=this.container,n=t.offsetX,r=t.offsetY,a=t.width,o=t.height,s=this.isVertical(),l=e.clone();s&&o?l.y2=l.y1+o:!s&&a&&(l.x2=l.x1+a),i.reflow(l),l=i.box,i.reflow(new QF(n,r,n+l.width(),r+l.height()))}},{key:"renderVisual",value:function(){this.hasItems()&&_get(_getPrototypeOf(i.prototype),"renderVisual",this).call(this)}}]),i}(aL);XF(ON,{position:"right",items:[],offsetX:0,offsetY:0,margin:uF(5),padding:uF(5),border:{color:PP,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:"left",vAlign:LP}});var EN,AN=ON,RN=((EN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.call(this))._registry=[],e}return _createClass(i,[{key:"register",value:function(e,t){this._registry.push({type:e,seriesTypes:t})}},{key:"create",value:function(e,t,i){for(var n,r=this._registry,a=r[0],o=0;o<r.length;o++){var s=r[o];if((n=OB(e,s.seriesTypes)).length>0){a=s;break}}return new a.type(n,t,i)}}]),i}(hl)).current=new EN,EN);function DN(e){var t=document.createElement("div");return e&&(t.className=e),t}function MN(e){for(var t=e;t&&!_F(t,"k-handle");)t=t.parentNode;return t}var zN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;_classCallCheck(this,i),o=t.call(this);var s=e.element;return o.options=rF({},o.options,r),o.chart=e,o.observer=a,o.chartElement=s,o.categoryAxis=n,o._dateAxis=o.categoryAxis instanceof oj,o.initOptions(),o.visible=o.options.visible&&s.offsetHeight,o.visible&&(o.createElements(),o.set(o._index(o.options.from),o._index(o.options.to)),o.bindEvents()),o}return _createClass(i,[{key:"onPane",value:function(e){return this.categoryAxis.pane===e}},{key:"createElements",value:function(){var e=this.options,t=this.wrapper=DN("k-selector");cF(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});var i=this.selection=DN("k-selection");this.leftMask=DN("k-mask"),this.rightMask=DN("k-mask"),t.appendChild(this.leftMask),t.appendChild(this.rightMask),t.appendChild(i),i.appendChild(DN("k-selection-bg"));var n=this.leftHandle=DN("k-handle k-left-handle"),r=this.rightHandle=DN("k-handle k-right-handle");n.appendChild(DN()),r.appendChild(DN()),i.appendChild(n),i.appendChild(r),this.chartElement.appendChild(t);var a=cF(i,["borderLeftWidth","borderRightWidth","height"]),o=cF(n,"height").height,s=cF(r,"height").height;e.selection={border:{left:a.borderLeftWidth,right:a.borderRightWidth}},cF(n,{top:(a.height-o)/2}),cF(r,{top:(a.height-s)/2}),t.style.cssText=t.style.cssText}},{key:"bindEvents",value:function(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),DF(this.wrapper,_defineProperty({},Qj,this._mousewheelHandler))),this._domEvents=gF.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}},{key:"initOptions",value:function(){var e=this.options,t=this.categoryAxis.pane.chartsBox(),i=this.chart.chartService.intl;this._dateAxis&&rF(e,{min:YL(i,e.min),max:YL(i,e.max),from:YL(i,e.from),to:YL(i,e.to)});var n=cF(this.chartElement,["paddingLeft","paddingTop"]),r=n.paddingLeft,a=n.paddingTop;this.options=rF({},{width:t.width(),height:t.height()+.1,padding:{left:r,top:a},offset:{left:t.x1+r,top:t.y1+a},from:e.min,to:e.max},e)}},{key:"destroy",value:function(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(WF(this.wrapper,_defineProperty({},Qj,this._mousewheelHandler)),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}},{key:"_rangeEventArgs",value:function(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}}},{key:"_start",value:function(e){var t=this.options,i=LF(e);if(!this._state&&i){this.chart._unsetActivePoint(),this._state={moveTarget:MN(i)||i,startLocation:e.x?e.x.location:0,range:{from:this._index(t.from),to:this._index(t.to)}};var n=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});this.trigger("selectStart",n)&&(this._state=null)}}},{key:"_press",value:function(e){var t;(t=this._state?this._state.moveTarget:MN(LF(e)))&&YP(t,"k-handle-active")}},{key:"_move",value:function(e){if(this._state){var t=this._state,i=this.options,n=this.categoryAxis,r=t.range,a=t.moveTarget,o=n.options.reverse,s=this._index(i.from),l=this._index(i.to),c=this._index(i.min),u=this._index(i.max),h=t.startLocation-e.x.location,f=r.from,d=r.to,p=r.to-r.from,v=cF(this.wrapper,"width").width/(n.categoriesCount()-1),g=Math.round(h/v)*(o?-1:1);if(a){var m=_F(a,"k-left-handle"),y=_F(a,"k-right-handle");_F(a,"k-selection k-selection-bg")?(r.from=Math.min(Math.max(c,s-g),u-p),r.to=Math.min(r.from+p,u)):m&&!o||y&&o?(r.from=Math.min(Math.max(c,s-g),u-1),r.to=Math.max(r.from+1,r.to)):(m&&o||y&&!o)&&(r.to=Math.min(Math.max(c+1,l-g),u),r.from=Math.min(r.to-1,r.from)),r.from===f&&r.to===d||(this.move(r.from,r.to),this.trigger("select",this._rangeEventArgs(r)))}}}},{key:"_end",value:function(){if(this._state){var e=this._state.moveTarget;e&&(i=e)&&i.className&&(i.className=i.className.replace("k-handle-active","").replace(KP," "));var t=this._state.range;this.set(t.from,t.to),this.trigger("selectEnd",this._rangeEventArgs(t)),delete this._state}var i}},{key:"_tap",value:function(e){var t=this.options,i=this.categoryAxis,n=this.chart._eventCoordinates(e),r=i.pointCategoryIndex(new ZF(n.x,i.box.y1)),a=this._index(t.from),o=this._index(t.to),s=this._index(t.min),l=this._index(t.max),c=o-a,u={},h=3===e.event.which,f=Math.round(a+c/2-r);this._state||h||(this.chart._unsetActivePoint(),i.options.justified||f--,u.from=Math.min(Math.max(s,a-f),l-c),u.to=Math.min(u.from+c,l),this._start(e),this._state&&(this._state.range=u,this.trigger("select",this._rangeEventArgs(u)),this._end()))}},{key:"_mousewheel",value:function(e){var t=this,i=EF(e);if(this._start({target:this.selection}),this._state){var n=this._state.range;e.preventDefault(),e.stopPropagation(),Math.abs(i)>1&&(i*=3),this.options.mousewheel.reverse&&(i*=-1),this.expand(i)&&this.trigger("select",{axis:this.categoryAxis.options,delta:i,originalEvent:e,from:this._value(n.from),to:this._value(n.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){t._end()}),150)}}},{key:"_gesturestart",value:function(e){var t=this.options;this._state={range:{from:this._index(t.from),to:this._index(t.to)}};var i=this._rangeEventArgs(this._state.range);this.trigger("selectStart",i)?this._state=null:e.preventDefault()}},{key:"_gestureend",value:function(){this._state&&(this.trigger("selectEnd",this._rangeEventArgs(this._state.range)),delete this._state)}},{key:"_gesturechange",value:function(e){var t=this.chart,i=this._state,n=this.options,r=this.categoryAxis,a=i.range,o=t._toModelCoordinates(e.touches[0].x.location).x,s=t._toModelCoordinates(e.touches[1].x.location).x,l=Math.min(o,s),c=Math.max(o,s);e.preventDefault(),a.from=r.pointCategoryIndex(new ZF(l))||n.min,a.to=r.pointCategoryIndex(new ZF(c))||n.max,this.move(a.from,a.to),this.trigger("select",this._rangeEventArgs(a))}},{key:"_index",value:function(e){var t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t}},{key:"_value",value:function(e){var t=e;return this._dateAxis&&((t=this.categoryAxis.categoryAt(e))>this.options.max&&(t=this.options.max)),t}},{key:"_slot",value:function(e){var t=this.categoryAxis,i=this._index(e);return t.getSlot(i,i,!0)}},{key:"move",value:function(e,t){var i=this.options,n=this.categoryAxis.options.reverse,r=i.offset,a=i.padding,o=i.selection.border,s=n?e:t,l="x"+(n?2:1),c=this._slot(n?t:e),u=GF(c[l]-r.left+a.left);cF(this.leftMask,{width:u}),cF(this.selection,{left:u}),c=this._slot(s);var h=GF(i.width-(c[l]-r.left+a.left));cF(this.rightMask,{width:h});var f=i.width-h;f!==i.width&&(f+=o.right),cF(this.rightMask,{left:f}),cF(this.selection,{width:Math.max(i.width-(u+h)-o.right,0)})}},{key:"set",value:function(e,t){var i=this.options,n=this._index(i.min),r=this._index(i.max),a=BF(this._index(e),n,r),o=BF(this._index(t),a+1,r);i.visible&&this.move(a,o),i.from=this._value(a),i.to=this._value(o)}},{key:"expand",value:function(e){var t=this.options,i=this._index(t.min),n=this._index(t.max),r=t.mousewheel.zoom,a=this._index(t.from),o=this._index(t.to),s={from:a,to:o},l=rF({},s);if(this._state&&(s=this._state.range),"right"!==r&&(s.from=BF(BF(a-e,0,o-1),i,n)),"left"!==r&&(s.to=BF(BF(o+e,s.from+1,n),i,n)),s.from!==l.from||s.to!==l.to)return this.set(s.from,s.to),!0}},{key:"trigger",value:function(e,t){return(this.observer||this.chart).trigger(e,t)}}]),i}(hl);XF(zN,{visible:!0,mousewheel:{zoom:"both"},min:HP,max:NP});var PN=zN,FN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"show",value:function(e){if(e&&e.tooltipAnchor&&(!this._current||this._current!==e)){var t=rF({},this.options,e.options.tooltip),n=e.tooltipAnchor();n?(this._current=e,_get(_getPrototypeOf(i.prototype),"show",this).call(this,{point:e,anchor:n},t,e)):this.hide()}}},{key:"hide",value:function(){delete this._current,_get(_getPrototypeOf(i.prototype),"hide",this).call(this)}}]),i}(pB),LN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e.chartService,n)).plotArea=e,r.formatService=e.chartService.format,r}return _createClass(i,[{key:"showAt",value:function(e,t){var i=wF(e,(function(e){var t=e.series.tooltip;return!(t&&!1===t.visible)}));if(i.length>0){var n=i[0],r=this.plotArea.categoryAxis.getSlot(n.categoryIx),a=t?this._slotAnchor(t,r):this._defaultAnchor(n,r);this.show({anchor:a,shared:!0,points:e,category:n.category,categoryText:this.formatService.auto(this.options.categoryFormat,n.category),series:this.plotArea.series},this.options)}}},{key:"_slotAnchor",value:function(e,t){return this.plotArea.categoryAxis.options.vertical||(e.x=t.center().x),{point:e,align:{horizontal:"left",vertical:"center"}}}},{key:"_defaultAnchor",value:function(e,t){var i=e.owner.pane.chartsBox(),n=this.plotArea.categoryAxis.options.vertical,r=i.center(),a=t.center();return{point:n?new ZF(r.x,a.y):new ZF(a.x,r.y),align:{horizontal:"center",vertical:"center"}}}}]),i}(pB);XF(LN,{categoryFormat:"{0:d}"});var jN=LN,VN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setup",value:function(){var e=this.element,t=this.options;if(e.bbox()){this.origin=t.origin;var i=t.vertical?XP:qP,n=this.fromScale=new p.Point(1,1);n[i]=qj,e.transform(p.transform().scale(n.x,n.y))}else this.abort()}},{key:"step",value:function(e){var t=TF(this.fromScale.x,1,e),i=TF(this.fromScale.y,1,e);this.element.transform(p.transform().scale(t,i,this.origin))}},{key:"abort",value:function(){_get(_getPrototypeOf(i.prototype),"abort",this).call(this),this.element.transform(null)}}]),i}(m.Animation);XF(VN,{duration:600}),m.AnimationFactory.current.register(Xj,VN);var BN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setup",value:function(){var e=this.center=this.element.bbox().center();this.element.transform(p.transform().scale(qj,qj,e))}},{key:"step",value:function(e){this.element.transform(p.transform().scale(e,e,this.center))}}]),i}(m.Animation);XF(BN,{easing:"easeOutElastic"}),m.AnimationFactory.current.register("bubble",BN);var NN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setup",value:function(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}},{key:"step",value:function(e){this.element.opacity(e*this.fadeTo)}}]),i}(m.Animation);XF(NN,{duration:200,easing:"linear"}),m.AnimationFactory.current.register("fadeIn",NN);var HN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setup",value:function(){this.element.transform(p.transform().scale(qj,qj,this.options.center))}},{key:"step",value:function(e){this.element.transform(p.transform().scale(e,e,this.options.center))}}]),i}(m.Animation);XF(HN,{easing:"easeOutElastic",duration:600}),m.AnimationFactory.current.register(Kj,HN);var GN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"render",value:function(){_get(_getPrototypeOf(i.prototype),"render",this).call(this),this.renderSegments()}},{key:"createSegment",value:function(e,t,i){return new("smooth"===t.style?mV:fV)(e,t,i)}},{key:"animationPoints",value:function(){return _get(_getPrototypeOf(i.prototype),"animationPoints",this).call(this).concat(this._segments)}},{key:"createMissingValue",value:function(e,t){if("zero"===t){var i={x:e.x,y:e.y};return eB(i.x)||(i.x=0),eB(i.y)||(i.y=0),i}}}]),i}(iB);rF(GN.prototype,yV);var WN=GN,UN=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"initFields",value:function(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new AV,this.yAxisRangeTracker=new AV}},{key:"render",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.panes,t=this.groupSeriesByPane(),i=0;i<e.length;i++){var n=e[i],r=t[n.options.name||"default"]||[];this.addToLegend(r);var a=this.filterVisibleSeries(r);a&&(this.createScatterChart(OB(a,"scatter"),n),this.createScatterLineChart(OB(a,"scatterLine"),n),this.createBubbleChart(OB(a,"bubble"),n))}this.createAxes(e)}},{key:"appendChart",value:function(e,t){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),_get(_getPrototypeOf(i.prototype),"appendChart",this).call(this,e,t)}},{key:"removeAxis",value:function(e){var t=e.options.name;_get(_getPrototypeOf(i.prototype),"removeAxis",this).call(this,e),e.options.vertical?(this.yAxisRangeTracker.reset(t),delete this.namedYAxes[t]):(this.xAxisRangeTracker.reset(t),delete this.namedXAxes[t]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY}},{key:"seriesPaneName",value:function(e){var t=this.options,i=e.xAxis,n=wF([].concat(t.xAxis),(function(e){return e.name===i}))[0],r=e.yAxis,a=wF([].concat(t.yAxis),(function(e){return e.name===r}))[0];return(n||{}).pane||(a||{}).pane||(t.panes||[{}])[0].name||"default"}},{key:"createScatterChart",value:function(e,t){e.length>0&&this.appendChart(new iB(this,{series:e,clip:t.options.clip}),t)}},{key:"createScatterLineChart",value:function(e,t){e.length>0&&this.appendChart(new WN(this,{series:e,clip:t.options.clip}),t)}},{key:"createBubbleChart",value:function(e,t){e.length>0&&this.appendChart(new oB(this,{series:e,clip:t.options.clip}),t)}},{key:"createXYAxis",value:function(e,t,i){for(var n,r=e.name,a=t?this.namedYAxes:this.namedXAxes,o=t?this.yAxisRangeTracker:this.xAxisRangeTracker,s=rF({reverse:!t&&this.chartService.rtl},e,{vertical:t}),l=IB(s.type,"log"),c=o.query(),u=l?{min:.1,max:1}:{min:0,max:1},h=o.query(r)||c||u,f=[s.min,s.max],d=this.series,p=0;p<d.length;p++){var v=d[p],g=v[t?"yAxis":"xAxis"];if(g===s.name||0===i&&!g){var m=Hj.current.bindPoint(v,0).valueFields;f.push(m[t?"y":"x"]);break}}0===i&&c&&(h.min=Math.min(h.min,c.min),h.max=Math.max(h.max,c.max));for(var y=0;y<f.length;y++)if(f[y]instanceof Date){n=!0;break}var b=new(IB(s.type,VP)||!s.type&&n?vj:l?bj:dj)(h.min,h.max,s,this.chartService);if(b.axisIndex=i,r){if(a[r])throw new Error("".concat(t?"Y":"X"," axis with name ").concat(r," is already defined"));a[r]=b}return this.appendAxis(b),b}},{key:"createAxes",value:function(e){for(var t=this.options,i=[].concat(t.xAxis),n=[],r=[].concat(t.yAxis),a=[],o=0;o<i.length;o++)SF(this.findPane(i[o].pane),e)&&n.push(this.createXYAxis(i[o],!1,o));for(var s=0;s<r.length;s++)SF(this.findPane(r[s].pane),e)&&a.push(this.createXYAxis(r[s],!0,s));this.axisX=this.axisX||n[0],this.axisY=this.axisY||a[0]}},{key:"_dispatchEvent",value:function(e,t,i){for(var n=e._eventCoordinates(t),r=new ZF(n.x,n.y),a=this.axes,o=a.length,s=[],l=[],c=0;c<o;c++){var u=a[c],h=u.options.vertical?l:s,f=u.getValue(r);null!==f&&h.push(f)}s.length>0&&l.length>0&&e.trigger(i,{element:LF(t),originalEvent:t,x:RB(s),y:RB(l)})}},{key:"updateAxisOptions",value:function(e,t){var i=e.options.vertical,n=this.groupAxes(this.panes),r=(i?n.y:n.x).indexOf(e);qN(this.options,r,i,t),qN(this.originalOptions,r,i,t)}}]),i}(NB);function qN(e,t,i,n){rF([].concat(i?e.yAxis:e.xAxis)[t],n)}XF(UN,{xAxis:{},yAxis:{}}),rF(UN.prototype,HB);var XN=UN,JN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,r)).value=e,a.sector=n,a}return _createClass(i,[{key:"render",value:function(){var e=this.options.labels,t=this.owner.chartService,i=this.value;if(!this._rendered&&!1!==this.visible){this._rendered=!0;var n=yF(e),r=this.pointData();if(n?i=n(r):e.format&&(i=t.format.auto(e.format,i)),e.visible&&(i||0===i)){if(e.position===LP||"insideEnd"===e.position){if(!e.color){var a=new Bl(this.options.color).percBrightness();e.color=a>180?PP:UP}e.background||(e.background=this.options.color)}else{var o=t.theme.seriesDefaults.labels;e.color=e.color||o.color,e.background=e.background||o.background}this.label=new CL(i,rF({},e,{align:LP,vAlign:"",animation:{type:"fadeIn",delay:this.animationDelay}}),r),this.append(this.label)}}}},{key:"reflow",value:function(e){this.render(),this.box=e,this.reflowLabel()}},{key:"reflowLabel",value:function(){var e=this.options.labels,t=this.label,i=this.sector.clone(),n=e.distance,r=i.middle();if(t){var a,o=t.box.height(),s=t.box.width();if(e.position===LP)i.radius=Math.abs((i.radius-o)/2)+o,a=i.point(r),t.reflow(new QF(a.x,a.y-o/2,a.x,a.y));else if("insideEnd"===e.position)i.radius=i.radius-o/2,a=i.point(r),t.reflow(new QF(a.x,a.y-o/2,a.x,a.y));else{var l;(a=i.clone().expand(n).point(r)).x>=i.center.x?(l=a.x+s,t.orientation="right"):(l=a.x-s,t.orientation="left"),t.reflow(new QF(l,a.y-o,a.x,a.y))}}}},{key:"createVisual",value:function(){var e=this,t=this.sector,n=this.options;if(_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this),this.value)if(n.visual){var r=(t.startAngle+180)%360,a=n.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new p.Point(t.center.x,t.center.y),radius:t.radius,innerRadius:t.innerRadius,startAngle:r,endAngle:r+t.angle,options:n,sender:this.getSender(),createVisual:function(){var t=new m.Group;return e.createSegmentVisual(t),t}});a&&this.visual.append(a)}else this.createSegmentVisual(this.visual)}},{key:"createSegmentVisual",value:function(e){var t=this.sector,i=this.options,n=i.border||{},r=i.color,a={color:r,opacity:i.opacity},o=this.createSegment(t,rF({fill:a,stroke:{opacity:i.opacity},zIndex:i.zIndex},n.width>0?{stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType}}:{}));e.append(o),MV(i)&&e.append(this.createGradientOverlay(o,{baseColor:r,fallbackFill:a},rF({center:[t.center.x,t.center.y],innerRadius:t.innerRadius,radius:t.radius,userSpace:!0},i.overlay)))}},{key:"createSegment",value:function(e,t){return t.singleSegment?new m.Circle(new p.Circle(new p.Point(e.center.x,e.center.y),e.radius),t):nL.current.createRing(e,t)}},{key:"createAnimation",value:function(){var e=this.options,t=this.sector.center;rF(e,{animation:{center:[t.x,t.y],delay:this.animationDelay}}),_get(_getPrototypeOf(i.prototype),"createAnimation",this).call(this)}},{key:"createHighlight",value:function(e){var t=this.options.highlight||{},i=t.border||{};return this.createSegment(this.sector,rF({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:i.opacity,width:i.width,color:i.color}}))}},{key:"highlightVisual",value:function(){return this.visual.children[0]}},{key:"highlightVisualArgs",value:function(){var e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new p.Point(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}}},{key:"tooltipAnchor",value:function(){var e,t,i,n,r,a,o=this.sector.clone().expand(5),s=o.middle();return{point:o.point(s),align:(e=s+180,t=HF(e),i=GF(Math.sin(t),10),n=GF(Math.cos(t),10),r=Math.abs(i)>KN?LP:n<0?"right":"left",a=Math.abs(i)<YN?LP:i<0?FP:GP,{horizontal:r,vertical:a})}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}},{key:"pointData",value:function(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}]),i}(aL),YN=GF(HF(30),10),KN=GF(HF(60),10);XF(JN,{color:UP,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:"12px sans-serif",margin:uF(.5),align:jP,zIndex:1,position:"outsideEnd"},animation:{type:Kj},highlight:{visible:!0,border:{width:1}},visible:!0}),rF(JN.prototype,sV);var ZN=JN,$N={createLegendItem:function(e,t,i){var n=this.options.legend||{},r=n.labels||{},a=n.inactiveItems||{},o=a.labels||{};if(i&&!1!==i.visibleInLegend){var s,l,c=!1!==i.visible,u=c?yF(r):yF(o)||yF(r),h=i.category;u&&(h=u({text:h,series:i.series,dataItem:i.dataItem,percentage:i.percentage,value:e})),c?(s={},l=t.color):(s={color:o.color,font:o.font},l=(a.markers||{}).color),eB(h)&&""!==h&&this.legendItems.push({active:c,pointIndex:i.index,text:h,series:i.series,markerColor:l,labels:s})}}},QN=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).plotArea=e,r.chartService=e.chartService,r.points=[],r.legendItems=[],r.render(),r}return _createClass(i,[{key:"render",value:function(){this.traverseDataPoints(this.addValue.bind(this))}},{key:"traverseDataPoints",value:function(e){for(var t=this.options,i=this.plotArea.options.seriesColors,n=void 0===i?[]:i,r=n.length,a=t.series,o=a.length,s=0;s<o;s++){var l=a[s],c=l.data,u=TB(l),h=u.total,f=u.points,d=u.count,p=360/h,v=void 0,g=void 0;isFinite(p)||(v=360/d),g=MF(l.startAngle)?l.startAngle:t.startAngle,s!==o-1&&"outsideEnd"===l.labels.position&&(l.labels.position=LP);for(var m=0;m<f.length;m++){var y=f[m];if(y){var b=y.fields,k=y.value,C=y.visible,w=0!==k?v||k*p:0,_=1!==c.length&&Boolean(b.explode);iF(l.color)||(l.color=b.color||n[m%r]),e(y.valueFields.value,new iL(null,0,0,g,w),{owner:this,category:MF(b.category)?b.category:"",index:m,series:l,seriesIx:s,dataItem:c[m],percentage:0!==h?k/h:0,explode:_,visibleInLegend:b.visibleInLegend,visible:C,zIndex:o-s,animationDelay:this.animationDelay(m,s,o)}),!1!==C&&(g+=w)}}}}},{key:"evalSegmentOptions",value:function(e,t,i){var n=i.series;nV(e,{value:t,series:n,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:n._defaults,excluded:["data","content","template","visual","toggle"]})}},{key:"addValue",value:function(e,t,i){var n=rF({},i.series,{index:i.index});if(this.evalSegmentOptions(n,e,i),this.createLegendItem(e,n,i),!1!==i.visible){var r=new ZN(e,t,n);Object.assign(r,i),this.append(r),this.points.push(r)}}},{key:"reflow",value:function(e){var t=this.options,i=this.points,n=this.seriesConfigs,r=void 0===n?[]:n,a=i.length,o=e.clone(),s=Math.min(o.width(),o.height()),l=s/2,c=s-.85*s,u=new QF(o.x1,o.y1,o.x1+s,o.y1+s),h=u.center(),f=o.center(),d=t.series.length,p=[],v=[],g=UF(t.padding,c);this.targetBox=e,g=g>l-5?l-5:g,u.translate(f.x-h.x,f.y-h.y);for(var m=l-g,y=new ZF(m+u.x1+g,m+u.y1+g),b=0;b<a;b++){var k=i[b],C=k.sector,w=k.seriesIx;if(C.radius=m,C.center=y,r.length){var _=r[w];C.innerRadius=_.innerRadius,C.radius=_.radius}w===d-1&&k.explode&&(C.center=C.clone().setRadius(.15*C.radius).point(C.middle())),k.reflow(u);var x=k.label;x&&"outsideEnd"===x.options.position&&w===d-1&&("right"===x.orientation?v.push(x):p.push(x))}p.length>0&&(p.sort(this.labelComparator(!0)),this.leftLabelsReflow(p)),v.length>0&&(v.sort(this.labelComparator(!1)),this.rightLabelsReflow(v)),this.box=u}},{key:"leftLabelsReflow",value:function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}},{key:"rightLabelsReflow",value:function(e){var t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}},{key:"distanceBetweenLabels",value:function(e){var t=VF(this.points),i=t.sector,n=e.length-1,r=i.radius+t.options.labels.distance,a=[],o=e[0].box,s=GF(o.y1-(i.center.y-r-o.height()-o.height()/2));a.push(s);for(var l=0;l<n;l++)o=e[l].box,s=GF(e[l+1].box.y1-o.y2),a.push(s);return s=GF(i.center.y+r-e[n].box.y2-e[n].box.height()/2),a.push(s),a}},{key:"distributeLabels",value:function(e,t){for(var i,n,r,a=e.length,o=0;o<a;o++)for(r=-e[o],i=n=o;r>0&&(i>=0||n<a);)r=this._takeDistance(e,o,--i,r),r=this._takeDistance(e,o,++n,r);this.reflowLabels(e,t)}},{key:"_takeDistance",value:function(e,t,i,n){var r=n;if(e[i]>0){var a=Math.min(e[i],r);r-=a,e[i]-=a,e[t]+=a}return r}},{key:"reflowLabels",value:function(e,t){var i,n=VF(this.points),r=n.sector,a=n.options.labels,o=t.length,s=a.distance,l=r.center.y-(r.radius+s)-t[0].box.height();e[0]+=2;for(var c=0;c<o;c++){var u=t[c],h=u.box;l+=e[c],i=this.hAlignLabel(h.x2,r.clone().expand(s),l,l+h.height(),"right"===u.orientation),"right"===u.orientation?(a.align!==jP&&(i=r.radius+r.center.x+s),u.reflow(new QF(i+h.width(),l,i,l))):(a.align!==jP&&(i=r.center.x-r.radius-s),u.reflow(new QF(i-h.width(),l,i,l))),l+=h.height()}}},{key:"createVisual",value:function(){var e=this.options.connectors,t=this.points,n=t.length;_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this),this._connectorLines=[];for(var r=0;r<n;r++){var a=t[r],o=a.sector,s=a.label,l=o.middle(),c=(a.options.connectors||{}).color||e.color;if(s){var u=new m.Path({stroke:{color:c,width:e.width},animation:{type:"fadeIn",delay:a.animationDelay}});if("outsideEnd"===s.options.position){var h=s.box,f=o.center,d=void 0,p=void 0,v=void 0,g=o.point(l),y=new ZF(h.x1,h.center().y);g=o.clone().expand(e.padding).point(l),u.moveTo(g.x,g.y),"right"===s.orientation?(v=eH(f,g,y,p=new ZF(h.x1-e.padding,h.center().y)),y=new ZF(p.x-4,p.y),(v=v||y).x=Math.min(v.x,y.x),this.pointInCircle(v,o.center,o.radius+4)||v.x<o.center.x?(d=o.center.x+o.radius+4,u.lineTo(a.options.labels.align!==Jj?d<y.x?d:g.x+8:d,g.y),u.lineTo(y.x,p.y)):(v.y=p.y,u.lineTo(v.x,v.y))):(v=eH(f,g,y,p=new ZF(h.x2+e.padding,h.center().y)),y=new ZF(p.x+4,p.y),(v=v||y).x=Math.max(v.x,y.x),this.pointInCircle(v,o.center,o.radius+4)||v.x>o.center.x?(d=o.center.x-o.radius-4,u.lineTo(a.options.labels.align!==Jj?d>y.x?d:g.x-8:d,g.y),u.lineTo(y.x,p.y)):(v.y=p.y,u.lineTo(v.x,v.y))),u.lineTo(p.x,p.y),this._connectorLines.push(u),this.visual.append(u)}}}}},{key:"renderVisual",value:function(){if(_get(_getPrototypeOf(i.prototype),"renderVisual",this).call(this),YF(this.options.series,(function(e){return e.autoFit}))){var e=this.targetBox,t=this.box.center(),n=this.visual.bbox();if(!n)return;var r=n.bottomRight(),a=Math.min((t.y-e.y1)/(t.y-n.origin.y),(e.y2-t.y)/(r.y-t.y),(t.x-e.x1)/(t.x-n.origin.x),(e.x2-t.x)/(r.x-t.x));a<1&&this.visual.transform(p.transform().scale(a,a,[t.x,t.y]))}}},{key:"labelComparator",value:function(e){var t=e?-1:1;return function(e,i){return((e.parent.sector.middle()+270)%360-(i.parent.sector.middle()+270)%360)*t}}},{key:"hAlignLabel",value:function(e,t,i,n,r){var a=t.radius,o=t.center,s=o.x,l=o.y,c=Math.min(Math.abs(l-i),Math.abs(l-n));return c>a?e:s+Math.sqrt(a*a-c*c)*(r?1:-1)}},{key:"pointInCircle",value:function(e,t,i){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(i,2)}},{key:"formatPointValue",value:function(e,t){return this.chartService.format.auto(t,e.value)}},{key:"animationDelay",value:function(e){return 70*e}},{key:"stackRoot",value:function(){return this}}]),i}(aL);function eH(e,t,i,n){var r,a=(n.y-i.y)*(t.x-e.x)-(n.x-i.x)*(t.y-e.y);if(0!==a){var o=((n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x))/a;r=new ZF(e.x+o*(t.x-e.x),e.y+o*(t.y-e.y))}return r}XF(QN,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),rF(QN.prototype,$N),QN.prototype.isStackRoot=!0;var tH=QN,iH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"render",value:function(){this.createPieChart(this.series)}},{key:"createPieChart",value:function(e){var t=e[0],i=new tH(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(i)}},{key:"appendChart",value:function(e,t){_get(_getPrototypeOf(i.prototype),"appendChart",this).call(this,e,t),RF(this.options.legend.items,e.legendItems)}}]),i}(NB),nH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"reflowLabel",value:function(){var e=this.options.labels,t=this.label,n=this.sector.clone(),r=n.middle();if(t){var a=t.box.height();if(e.position===LP){n.radius-=(n.radius-n.innerRadius)/2;var o=n.point(r);t.reflow(new QF(o.x,o.y-a/2,o.x,o.y))}else _get(_getPrototypeOf(i.prototype),"reflowLabel",this).call(this)}}},{key:"createSegment",value:function(e,t){return nL.current.createRing(e,t)}}]),i}(ZN);XF(nH,{overlay:{gradient:"roundedGlass"},labels:{position:LP},animation:{type:Kj}}),rF(nH.prototype,sV);var rH=nH,aH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"addValue",value:function(e,t,i){var n=rF({},i.series,{index:i.index});if(this.evalSegmentOptions(n,e,i),this.createLegendItem(e,n,i),e&&!1!==i.visible){var r=new rH(e,t,n);Object.assign(r,i),this.append(r),this.points.push(r)}}},{key:"reflow",value:function(e){for(var t,n=this.options,r=e.clone(),a=Math.min(r.width(),r.height()),o=a/2,s=n.series,l=s.length,c=UF(n.padding,a-.85*a),u=o-(c=c>o-5?o-5:c),h=0,f=0;f<l;f++){var d=s[f];0===f&&MF(d.holeSize)&&(t=d.holeSize,u-=d.holeSize),MF(d.size)?u-=d.size:h++,MF(d.margin)&&f!==l-1&&(u-=d.margin)}MF(t)||(u-=t=(o-c)/(l+.75)*.75);var p,v=t,g=0;this.seriesConfigs=[];for(var m=0;m<l;m++){var y=s[m];p=(v+=g)+UF(y.size,u/h),this.seriesConfigs.push({innerRadius:v,radius:p}),g=y.margin||0,v=p}_get(_getPrototypeOf(i.prototype),"reflow",this).call(this,e)}},{key:"animationDelay",value:function(e,t,i){return 50*e+600*(t+1)/(i+1)}}]),i}(tH);XF(aH,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var oH=aH,sH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"initFields",value:function(){this.valueAxisRangeTracker=new AV}},{key:"render",value:function(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}},{key:"alignAxes",value:function(){var e=this.valueAxis,t=e.range(),i=e.getSlot(e.options.reverse?t.max:t.min),n=this.polarAxis.getSlot(0).center,r=e.box.translate(n.x-i.x1,n.y-i.y1);e.reflow(r)}},{key:"createValueAxis",value:function(){var e,t,i=this.valueAxisRangeTracker,n=i.query(),r=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});"log"===r.type?(e=Aj,t={min:.1,max:1}):(e=Oj,t={min:0,max:1});var a=i.query(name)||n||t;a&&n&&(a.min=Math.min(a.min,n.min),a.max=Math.max(a.max,n.max));var o=new e(a.min,a.max,r,this.chartService);this.valueAxis=o,this.appendAxis(o)}},{key:"reflowAxes",value:function(){var e=this.options.plotArea,t=this.valueAxis,i=this.polarAxis,n=this.box,r=.15*Math.min(n.width(),n.height()),a=uF(e.padding||{},r),o=n.clone().unpad(a),s=o.clone();s.y2=s.y1+Math.min(s.width(),s.height()),s.align(o,XP,LP);var l=s.clone().shrink(0,s.height()/2);i.reflow(s),t.reflow(l);var c=t.lineBox().height()-t.box.height();t.reflow(t.box.unpad({top:c})),this.axisBox=s,this.alignAxes(s)}},{key:"backgroundBox",value:function(){return this.box}},{key:"detachLabels",value:function(){}}]),i}(NB),lH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"pointSlot",value:function(e,t){var i=ZF.onCircle(e.center,e.startAngle,e.center.y-t.y1);return new QF(i.x,i.y,i.x,i.y)}}]),i}(iB);XF(lH,{clip:!1});var cH=lH,uH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(WN);uH.prototype.pointSlot=cH.prototype.pointSlot,XF(uH,{clip:!1});var hH=uH,fH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"fillToAxes",value:function(e){var t=this._polarAxisCenter();e.lineTo(t.x,t.y)}},{key:"_polarAxisCenter",value:function(){return this.parent.plotArea.polarAxis.box.center()}},{key:"strokeSegments",value:function(){var e=this._strokeSegments;if(!e){var t=this._polarAxisCenter(),i=new Dj(!1),n=this.points();n.push(t),(e=this._strokeSegments=i.process(n)).pop()}return e}}]),i}(OV),dH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"fillToAxes",value:function(e){var t=this.parent.plotArea.polarAxis.box.center(),i=new p.Segment([t.x,t.y]);e.segments.unshift(i),e.segments.push(i)}}]),i}(SV);function pH(e,t){return e.value.x-t.value.x}var vH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createSegment",value:function(e,t,i){return"smooth"===(t.line||{}).style?new fH(e,t,i):new dH(e,t,i)}},{key:"createMissingValue",value:function(e,t){var i;return eB(e.x)&&"interpolate"!==t&&(i={x:e.x,y:e.y},"zero"===t&&(i.y=0)),i}},{key:"seriesMissingValues",value:function(e){return e.missingValues||"zero"}},{key:"_hasMissingValuesGap",value:function(){for(var e=this.options.series,t=0;t<e.length;t++)if("gap"===this.seriesMissingValues(e[t]))return!0}},{key:"sortPoints",value:function(e){if(e.sort(pH),this._hasMissingValuesGap())for(var t=0;t<e.length;t++){var i=e[t];i&&(eB(i.value.y)||"gap"!==this.seriesMissingValues(i.series)||delete e[t])}return e}}]),i}(hH),gH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createPolarAxis",value:function(){var e=new xj(this.options.xAxis,this.chartService);this.polarAxis=e,this.axisX=e,this.appendAxis(e)}},{key:"valueAxisOptions",value:function(e){return rF(e,{majorGridLines:{type:zP},minorGridLines:{type:zP}},this.options.yAxis)}},{key:"createValueAxis",value:function(){_get(_getPrototypeOf(i.prototype),"createValueAxis",this).call(this),this.axisY=this.valueAxis}},{key:"appendChart",value:function(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges),NB.prototype.appendChart.call(this,e,t)}},{key:"createCharts",value:function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createLineChart(OB(e,["polarLine"]),t),this.createScatterChart(OB(e,["polarScatter"]),t),this.createAreaChart(OB(e,["polarArea"]),t)}},{key:"createLineChart",value:function(e,t){if(0!==e.length){var i=new hH(this,{series:e});this.appendChart(i,t)}}},{key:"createScatterChart",value:function(e,t){if(0!==e.length){var i=new cH(this,{series:e});this.appendChart(i,t)}}},{key:"createAreaChart",value:function(e,t){if(0!==e.length){var i=new vH(this,{series:e});this.appendChart(i,t)}}},{key:"_dispatchEvent",value:function(e,t,i){var n=e._eventCoordinates(t),r=new ZF(n.x,n.y),a=this.axisX.getValue(r),o=this.axisY.getValue(r);null!==a&&null!==o&&e.trigger(i,{element:LF(t),x:a,y:o})}},{key:"createCrosshairs",value:function(){}}]),i}(sH);XF(gH,{xAxis:{},yAxis:{}}),rF(gH.prototype,HB);var mH=gH,yH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"pointSlot",value:function(e,t){var i=e.center.y-t.y1,n=ZF.onCircle(e.center,e.middle(),i);return new QF(n.x,n.y,n.x,n.y)}},{key:"renderSegments",value:function(){if(_get(_getPrototypeOf(i.prototype),"renderSegments",this).call(this),this._segments&&this._segments.length>1)for(var e=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];t[n.seriesIx]=t[n.seriesIx]||[],t[n.seriesIx].push(n)}return t}(this._segments),t=0;t<e.length;t++){var n=e[t];n.length>1&&VF(n).linePoints.push(n[0].linePoints[0])}}},{key:"createSegment",value:function(e,t,i){var n=new("smooth"===t.style?mV:fV)(e,t,i);return e.length===t.data.length&&(n.options.closed=!0),n}}]),i}(xV);XF(yH,{clip:!1,limitPoints:!1});var bH=yH,kH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"fillToAxes",value:function(){}}]),i}(OV),CH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"fillToAxes",value:function(){}}]),i}(SV),wH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createSegment",value:function(e,t,i,n){var r,a,o,s=(t.line||{}).style;return this.options.isStacked&&i>0&&n&&(a=n.linePoints.slice(0),r=n),"smooth"===s?(o=new kH(e,t,i,r,a)).options.closed=!0:(e.push(e[0]),o=new CH(e,t,i,r,a)),o}},{key:"seriesMissingValues",value:function(e){return e.missingValues||"zero"}}]),i}(bH),_H=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){return _classCallCheck(this,i),t.call(this,e,null,n)}return i}(rH);XF(_H,{overlay:{gradient:"none"},labels:{distance:10}});var xH=_H,SH=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).forEach=e.rtl?LV:FV,n}return _createClass(i,[{key:"reflow",value:function(e){var t=this.options,i=this.children,n=t.gap,r=t.spacing,a=i.length,o=e.angle/(a+n+r*(a-1)),s=e.startAngle+o*(n/2);this.forEach(i,(function(t){var i=e.clone();i.startAngle=s,i.angle=o,t.sector&&(i.radius=t.sector.radius),t.reflow(i),t.sector=i,s+=o+o*r}))}}]),i}(aL);XF(SH,{gap:1,spacing:0});var TH=SH,IH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"reflow",value:function(e){var t=this.options.reverse,i=this.children,n=i.length,r=t?n-1:0,a=t?-1:1;this.box=new QF;for(var o=r;o>=0&&o<n;o+=a){var s=i[o].sector;s.startAngle=e.startAngle,s.angle=e.angle}}}]),i}(aL),OH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"pointType",value:function(){return xH}},{key:"clusterType",value:function(){return TH}},{key:"stackType",value:function(){return IH}},{key:"categorySlot",value:function(e,t){return e.getSlot(t)}},{key:"pointSlot",value:function(e,t){var i=e.clone(),n=e.center.y;return i.radius=n-t.y1,i.innerRadius=n-t.y2,i}},{key:"reflowPoint",value:function(e,t){e.sector=t,e.reflow()}},{key:"createAnimation",value:function(){this.options.animation.center=this.box.toRect().center(),_get(_getPrototypeOf(i.prototype),"createAnimation",this).call(this)}}]),i}(GV);OH.prototype.reflow=oV.prototype.reflow,XF(OH,{clip:!1,limitPoints:!1,animation:{type:"pie"}});var EH,AH=OH,RH=(EH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"createPolarAxis",value:function(){var e=new wj(this.options.categoryAxis,this.chartService);this.polarAxis=e,this.categoryAxis=e,this.appendAxis(e),this.aggregateCategories(),this.createCategoryAxesLabels()}},{key:"valueAxisOptions",value:function(e){return this._hasBarCharts&&rF(e,{majorGridLines:{type:zP},minorGridLines:{type:zP}}),this._isStacked100&&rF(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),rF(e,this.options.valueAxis)}},{key:"aggregateCategories",value:function(){gN.prototype.aggregateCategories.call(this,this.panes)}},{key:"createCategoryAxesLabels",value:function(){gN.prototype.createCategoryAxesLabels.call(this,this.panes)}},{key:"filterSeries",value:function(e){return e}},{key:"createCharts",value:function(){var e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createAreaChart(OB(e,["radarArea"]),t),this.createLineChart(OB(e,["radarLine"]),t),this.createBarChart(OB(e,["radarColumn"]),t)}},{key:"chartOptions",value:function(e){var t={series:e},i=e[0];if(i){var n=this.filterVisibleSeries(e),r=i.stack;t.isStacked=r&&n.length>1,t.isStacked100=r&&"100%"===r.type&&n.length>1,t.isStacked100&&(this._isStacked100=!0)}return t}},{key:"createAreaChart",value:function(e,t){if(0!==e.length){var i=new wH(this,this.chartOptions(e));this.appendChart(i,t)}}},{key:"createLineChart",value:function(e,t){if(0!==e.length){var i=new bH(this,this.chartOptions(e));this.appendChart(i,t)}}},{key:"createBarChart",value:function(e,t){if(0!==e.length){var i=e[0],n=this.chartOptions(e);n.gap=i.gap,n.spacing=i.spacing;var r=new AH(this,n);this.appendChart(r,t),this._hasBarCharts=!0}}},{key:"seriesCategoryAxis",value:function(){return this.categoryAxis}},{key:"_dispatchEvent",value:function(e,t,i){var n=e._eventCoordinates(t),r=new ZF(n.x,n.y),a=this.categoryAxis.getCategory(r),o=this.valueAxis.getValue(r);null!==a&&null!==o&&e.trigger(i,{element:LF(t),category:a,value:o})}},{key:"createCrosshairs",value:function(){}}]),i}(sH),rF(EH.prototype,HB,{appendChart:gN.prototype.appendChart,aggregateSeries:gN.prototype.aggregateSeries,seriesSourcePoints:gN.prototype.seriesSourcePoints}),EH);XF(RH,{categoryAxis:{categories:[]},valueAxis:{}});var DH=RH,MH=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,n)).value=e,a.options.index=r.index,a}return _createClass(i,[{key:"reflow",value:function(e){var t=this.points,i=this.children[0];this.box=new QF(t[0].x,t[0].y,t[1].x,t[2].y),i&&i.reflow(new QF(e.x1,t[0].y,e.x2,t[2].y))}},{key:"createVisual",value:function(){var e,t=this,n=this.options;_get(_getPrototypeOf(i.prototype),"createVisual",this).call(this),(e=n.visual?n.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:n,sender:this.getSender(),createVisual:function(){return t.createPath()}}):this.createPath())&&this.visual.append(e)}},{key:"createPath",value:function(){var e=this.options,t=e.border;return m.Path.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close()}},{key:"createHighlight",value:function(e){return m.Path.fromPoints(this.points,e)}},{key:"highlightVisual",value:function(){return this.visual.children[0]}},{key:"highlightVisualArgs",value:function(){var e=m.Path.fromPoints(this.points).close();return{options:this.options,path:e}}},{key:"tooltipAnchor",value:function(){var e=this.box;return{point:new ZF(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}}},{key:"formatValue",value:function(e){return this.owner.formatPointValue(this,e)}}]),i}(aL);XF(MH,{color:UP,border:{width:1}}),rF(MH.prototype,sV);var zH=MH,PH=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).plotArea=e,r.points=[],r.labels=[],r.legendItems=[],r.render(),r}return _createClass(i,[{key:"formatPointValue",value:function(e,t){return this.chartService.format.auto(t,e.value)}},{key:"render",value:function(){var e=this.options,t=this.plotArea.options.seriesColors,i=void 0===t?[]:t,n=e.series[0],r=n.data;if(r)for(var a=TB(n),o=a.total,s=a.points,l=0;l<s.length;l++){var c=s[l];if(c){var u=c.fields;iF(n.color)||(n.color=u.color||i[l%i.length]),u=rF({index:l,owner:this,series:n,dataItem:r[l],percentage:c.value/o},u,{visible:c.visible});var h=c.valueFields.value,f=this.createSegment(h,u),d=this.createLabel(h,u);f&&d&&f.append(d)}}}},{key:"evalSegmentOptions",value:function(e,t,i){var n=i.series;nV(e,{value:t,series:n,dataItem:i.dataItem,index:i.index},{defaults:n._defaults,excluded:["data","content","template","toggle","visual"]})}},{key:"createSegment",value:function(e,t){var i=rF({},t.series);if(this.evalSegmentOptions(i,e,t),this.createLegendItem(e,i,t),!1!==t.visible){var n=new zH(e,i,t);return Object.assign(n,t),this.append(n),this.points.push(n),n}}},{key:"createLabel",value:function(e,t){var i=t.series,n=t.dataItem,r=rF({},this.options.labels,i.labels),a=e;if(r.visible){var o=yF(r),s={dataItem:n,value:e,percentage:t.percentage,category:t.category,series:i};if(o?a=o(s):r.format&&(a=this.plotArea.chartService.format.auto(r.format,a)),!r.color){var l=new Bl(i.color).percBrightness();r.color=l>180?PP:UP,r.background||(r.background=i.color)}this.evalSegmentOptions(r,e,t);var c=new CL(a,rF({vAlign:r.position},r),s);return this.labels.push(c),c}}},{key:"labelPadding",value:function(){for(var e=this.labels,t={left:0,right:0},i=0;i<e.length;i++){var n=e[i].options.align;if(n!==LP){var r=e[i].box.width();"left"===n?t.left=Math.max(t.left,r):t.right=Math.max(t.right,r)}}return t}},{key:"dynamicSlopeReflow",value:function(e,t,i){for(var n=this.options,r=this.points,a=r.length,o=r[0],s=o,l=0;l<r.length;l++)r[l].percentage>s.percentage&&(s=r[l]);for(var c=o.percentage/s.percentage*t,u=(t-c)/2,h=0,f=0;f<a;f++){var d=r[f].percentage,v=r[f+1],g=v?v.percentage:d,m=r[f].points=[],y=n.dynamicHeight?i*d:i/a,b=void 0;b=BF(b=d?(t-c*(g/d))/2:g?0:t/2,0,t),m.push(new p.Point(e.x1+u,e.y1+h)),m.push(new p.Point(e.x1+t-u,e.y1+h)),m.push(new p.Point(e.x1+t-b,e.y1+y+h)),m.push(new p.Point(e.x1+b,e.y1+y+h)),u=b,h+=y+n.segmentSpacing,c=BF(t-2*b,0,t)}}},{key:"constantSlopeReflow",value:function(e,t,i){for(var n=this.options,r=this.points,a=r.length,o=n.neckRatio<=1,s=o?0:(t-t/n.neckRatio)/2,l=((o?t:t-2*s)-(o?n.neckRatio*t:t))/2,c=0,u=0;u<a;u++){var h=r[u].points=[],f=r[u].percentage,d=n.dynamicHeight?l*f:l/a,v=n.dynamicHeight?i*f:i/a;h.push(new p.Point(e.x1+s,e.y1+c)),h.push(new p.Point(e.x1+t-s,e.y1+c)),h.push(new p.Point(e.x1+t-s-d,e.y1+v+c)),h.push(new p.Point(e.x1+s+d,e.y1+v+c)),s+=d,c+=v+n.segmentSpacing}}},{key:"reflow",value:function(e){var t=this.points,i=t.length;if(i){var n=this.options,r=e.clone().unpad(this.labelPadding()),a=r.height()-n.segmentSpacing*(i-1),o=r.width();n.dynamicSlope?this.dynamicSlopeReflow(r,o,a):this.constantSlopeReflow(r,o,a);for(var s=0;s<i;s++)t[s].reflow(e)}}}]),i}(aL);XF(PH,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:LP,position:LP,zIndex:1}}),rF(PH.prototype,$N);var FH=PH,LH="color",jH="first",VH="max";RN.current.register(gN,[Xj,Jj,Yj,Zj,"area","verticalArea","candlestick","ohlc","bullet","verticalBullet","boxPlot","verticalBoxPlot","rangeColumn","rangeBar","waterfall","horizontalWaterfall","rangeArea","verticalRangeArea"]),RN.current.register(XN,["scatter","scatterLine","bubble"]),RN.current.register(iH,[Kj]),RN.current.register(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"render",value:function(){this.createDonutChart(this.series)}},{key:"createDonutChart",value:function(e){var t=e[0],i=new oH(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(i)}}]),i}(iH),["donut"]),RN.current.register(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"render",value:function(){this.createFunnelChart(this.series)}},{key:"createFunnelChart",value:function(e){var t=e[0],i=new FH(this,{series:e,legend:this.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});this.appendChart(i)}},{key:"appendChart",value:function(e,t){_get(_getPrototypeOf(i.prototype),"appendChart",this).call(this,e,t),RF(this.options.legend.items,e.legendItems)}}]),i}(NB),["funnel"]),RN.current.register(mH,["polarArea","polarLine","polarScatter"]),RN.current.register(DH,["radarArea","radarColumn","radarLine"]),Hj.current.register([Xj,Jj,Yj,Zj,"area","verticalArea"],[WP],["category",LH,"noteText","errorLow","errorHigh"]),Hj.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],["from","to"],["category",LH,"noteText"]),Hj.current.register(["waterfall","horizontalWaterfall"],[WP],["category",LH,"noteText","summary"]),Hj.current.register(["polarArea","polarLine","polarScatter"],[qP,XP],[LH]),Hj.current.register(["radarArea","radarColumn","radarLine"],[WP],[LH]),Hj.current.register(["funnel"],[WP],["category",LH,"visibleInLegend","visible"]),qB.current.register([Xj,Jj,Yj,Zj,"area","verticalArea","waterfall","horizontalWaterfall"],{value:VH,color:jH,noteText:jH,errorLow:"min",errorHigh:VH}),qB.current.register(["rangeColumn","rangeBar","rangeArea","verticalRangeArea"],{from:"min",to:VH,color:jH,noteText:jH}),qB.current.register(["radarArea","radarColumn","radarLine"],{value:VH,color:jH}),Hj.current.register(["scatter","scatterLine","bubble"],[qP,XP],[LH,"noteText","xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Hj.current.register(["bubble"],[qP,XP,"size"],[LH,"category","noteText"]),Hj.current.register(["candlestick","ohlc"],["open","high","low","close"],["category",LH,"downColor","noteText"]),qB.current.register(["candlestick","ohlc"],{open:VH,high:VH,low:"min",close:VH,color:jH,downColor:jH,noteText:jH}),Hj.current.register(["boxPlot","verticalBoxPlot"],["lower","q1","median","q3","upper","mean","outliers"],["category",LH,"noteText"]),qB.current.register(["boxPlot","verticalBoxPlot"],{lower:VH,q1:VH,median:VH,q3:VH,upper:VH,mean:VH,outliers:jH,color:jH,noteText:jH}),Hj.current.register(["bullet","verticalBullet"],["current","target"],["category",LH,"visibleInLegend","noteText"]),qB.current.register(["bullet","verticalBullet"],{current:VH,target:VH,color:jH,noteText:jH}),Hj.current.register([Kj,"donut"],[WP],["category",LH,"explode","visibleInLegend","visible"]);var BH=["category",WP,qP,XP],NH=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_classCallCheck(this,i),(a=t.call(this)).observers=[],a.addObserver(o.observer),a.chartService=new vF(_assertThisInitialized(a),o),a.chartService.theme=r,a._initElement(e);var s=rF({},a.options,n);return a._originalOptions=rF({},s),a._theme=r,a._initTheme(s,r),a._initHandlers(),a._initSurface(),a.bindCategories(),qF.preloadFonts(n,(function(){a.fontLoaded=!0,a._destroyed||(a.trigger("init"),a._redraw(),a._attachEvents())})),a}return _createClass(i,[{key:"_initElement",value:function(e){for(this._setElementClass(e),e.style.position="relative";e.firstChild;)e.removeChild(e.firstChild);this.element=e}},{key:"_setElementClass",value:function(e){YP(e,"k-chart")}},{key:"_initTheme",value:function(e,t){for(var i=[],n=e.series||[],r=0;r<n.length;r++)i.push(Object.assign({},n[r]));e.series=i,function(e){for(var t=BH,i=0;i<t.length;i++){var n=t[i]+"Axes";e[n]&&(e[t[i]+"Axis"]=e[n],delete e[n])}}(e),this.applyDefaults(e,t),null===e.seriesColors&&delete e.seriesColors,this.options=rF({},t,e),this.applySeriesColors()}},{key:"getSize",value:function(){var e=this.options.chartArea||{};return{width:e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth),height:e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight)}}},{key:"resize",value:function(e){var t=this.getSize(),i=this._size,n=t.width>0||t.height>0;e||n&&(!i||t.width!==i.width||t.height!==i.height)?(this._size=t,this._resize(t,e),this.trigger("resize",t)):n&&this._selections&&YF(this._selections,(function(e){return!e.visible}))&&(this._destroySelections(),this._setupSelection())}},{key:"_resize",value:function(){this._noTransitionsRedraw()}},{key:"redraw",value:function(e){if(this.applyDefaults(this.options),this.applySeriesColors(),e){var t=this._model._plotArea,i=t.findPane(e);t.redraw(i)}else this._redraw()}},{key:"getAxis",value:function(e){return zj(e,this._plotArea.axes)}},{key:"findAxisByName",value:function(e){return this.getAxis(e)}},{key:"findPaneByName",value:function(e){for(var t=this._plotArea.panes,i=0;i<t.length;i++)if(t[i].options.name===e)return new Pj(t[i])}},{key:"findPaneByIndex",value:function(e){var t=this._plotArea.panes;if(t[e])return new Pj(t[e])}},{key:"plotArea",value:function(){return new Fj(this._plotArea)}},{key:"toggleHighlight",value:function(e,t){var i,n,r,a=this._plotArea,o=(a.srcSeries||a.series||[])[0];iF(t)?i=a.filterPoints(t):(aF(t)?(n=t.series,r=t.category):n=r=t,i="donut"===o.type?HH(a.pointsBySeriesName(n),r):o.type===Kj||"funnel"===o.type?HH((a.charts[0]||{}).points,r):a.pointsBySeriesName(n));i&&this.togglePointsHighlight(e,i)}},{key:"togglePointsHighlight",value:function(e,t){for(var i=this._highlight,n=0;n<t.length;n++)i.togglePointHighlight(t[n],e)}},{key:"showTooltip",value:function(e){var t,i,n=this._sharedTooltip(),r=this._tooltip,a=this._plotArea;if(iF(e)?(t=a.findPoint(e))&&n&&(i=t.categoryIx):n&&MF(e)&&(i=a.categoryAxis.categoryIndex(e)),n){if(i>=0){var o=this._plotArea.pointsByCategoryIndex(i);r.showAt(o)}}else t&&r.show(t)}},{key:"hideTooltip",value:function(){this._tooltip.hide()}},{key:"_initSurface",value:function(){var e=this.surface,t=this._surfaceWrap(),i=this.options.chartArea||{};i.width&&FF(t,{width:i.width}),i.height&&FF(t,{height:i.height}),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=m.Surface.create(t,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}},{key:"_surfaceWrap",value:function(){return this.element}},{key:"_redraw",value:function(){var e=this._getModel();this._size={width:e.options.width,height:e.options.height},this._destroyView(),this._model=e,this._plotArea=e._plotArea,e.renderVisual(),!1!==this.options.transitions&&e.traverse((function(e){e.animation&&e.animation.setup()})),this._initSurface(),this.surface.draw(e.visual),!1!==this.options.transitions&&e.traverse((function(e){e.animation&&e.animation.play()})),this._tooltip=this._createTooltip(),this._highlight=new yN,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),XH(this._plotArea.panes),this._navState||this._cancelDomEvents()}},{key:"exportVisual",value:function(e){var t;if(e&&(e.width||e.height||e.options)){var i=this.options,n=rF({},e.options,{chartArea:{width:e.width,height:e.height}});qH(this._originalOptions,n),this.options=rF({},this._originalOptions,n),this._initTheme(this.options,this._theme),this.bindCategories();var r=this._getModel();r.renderVisual(),XH(r._plotArea.panes),t=r.visual,this.options=i}else t=this.surface.exportVisual();return t}},{key:"_sharedTooltip",value:function(){return this._plotArea instanceof gN&&this.options.tooltip&&this.options.tooltip.shared}},{key:"_createPannable",value:function(){var e=this.options;!1!==e.pannable&&(this._pannable=new wN(this._plotArea,e.pannable))}},{key:"_createZoomSelection",value:function(){var e=this.options.zoomable,t=(e||{}).selection;!1!==e&&!1!==t&&(this._zoomSelection=new xN(this,t))}},{key:"_createMousewheelZoom",value:function(){var e=this.options.zoomable,t=(e||{}).mousewheel;!1!==e&&!1!==t&&(this._mousewheelZoom=new SN(this,t))}},{key:"_toggleDragZoomEvents",value:function(){var e=this.options.zoomable,t=(e||{}).mousewheel,i=!(this.options.pannable||!1!==e&&!1!==(e||{}).selection||this.requiresHandlers(["dragStart","drag","dragEnd"])),n=(!1===e||!1===t)&&!this.requiresHandlers(["zoomStart","zoom","zoomEnd"]),r=this.element;this._dragZoomEnabled&&i&&n?(r.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):this._dragZoomEnabled||i&&n||(r.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!i,!n)}},{key:"_toggleDomEvents",value:function(e,t){var i=this.domEvents;i&&(i.toggleDrag&&i.toggleDrag(e),i.toggleZoom&&i.toggleZoom(t))}},{key:"_createTooltip",value:function(){var e=this.options.tooltip;return this._sharedTooltip()?this._createSharedTooltip(e):new FN(this.chartService,e)}},{key:"_createSharedTooltip",value:function(e){return new jN(this._plotArea,e)}},{key:"applyDefaults",value:function(e,t){!function(e,t){var i,n,r,a=(t||{}).axisDefaults||{};function o(e){var t=(e||{}).color||n.color,r=rF({},a,a[i],n,n[i],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete r[i],r}for(var s=0;s<BH.length;s++)i=BH[s]+"Axis",n=e.axisDefaults||{},r=(r=[].concat(e[i])).map(o),e[i]=r.length>1?r:r[0]}(e,t),function(e,t){var i=e.series,n=i.length,r=e.seriesDefaults,a=rF({},e.seriesDefaults),o=t?rF({},t.seriesDefaults):{},s=rF({},o);GH(a),GH(s);for(var l=0;l<n;l++){var c=i[l].type||e.seriesDefaults.type,u=rF({data:[]},s,o[c],{tooltip:e.tooltip},a,r[c]);i[l]._defaults=u,i[l]=rF({},u,i[l]),i[l].data=i[l].data||[]}}(e,t)}},{key:"applySeriesColors",value:function(){for(var e=this.options,t=e.series,i=e.seriesColors||[],n=0;n<t.length;n++){var r=t[n],a=i[n%i.length],o=r._defaults;r.color=r.color||a,o&&(o.color=o.color||a)}}},{key:"_getModel",value:function(){var e=this.options,t=this._createPlotArea(),i=new dL(this._modelOptions());return i.chart=this,i._plotArea=t,_L.buildTitle(e.title,i),e.legend&&e.legend.visible&&i.append(new AN(t.options.legend,this.chartService)),i.append(t),i.reflow(),i}},{key:"_modelOptions",value:function(){var e=this.options,t=this.getSize();return rF({transitions:e.transitions,width:t.width||600,height:t.height||400},e.chartArea)}},{key:"_createPlotArea",value:function(e){var t=this.options;return RN.current.create(e?[]:t.series,t,this.chartService)}},{key:"_setupSelection",value:function(){for(var e=this._plotArea.axes,t=this._selections=[],i=0;i<e.length;i++){var n=e[i],r=n.options;if(n instanceof $L&&r.select&&!r.vertical){var a=n.range(),o=new PN(this,n,rF({min:a.min,max:a.max},r.select));t.push(o)}}}},{key:"_selectStart",value:function(e){return this.trigger("selectStart",e)}},{key:"_select",value:function(e){return this.trigger("select",e)}},{key:"_selectEnd",value:function(e){return this.trigger("selectEnd",e)}},{key:"_initHandlers",value:function(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=Il(this._mousemove.bind(this),20)}},{key:"addObserver",value:function(e){e&&this.observers.push(e)}},{key:"removeObserver",value:function(e){var t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)}},{key:"requiresHandlers",value:function(e){for(var t=this.observers,i=0;i<t.length;i++)if(t[i].requiresHandlers(e))return!0}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"showTooltip"===e&&(t.anchor.point=this._toDocumentCoordinates(t.anchor.point)),t.sender=this;for(var i=this.observers,n=!1,r=0;r<i.length;r++)i[r].trigger(e,t)&&(n=!0);return n}},{key:"_attachEvents",value:function(){var e,t=this.element;this._touchAction=t.style.touchAction,DF(t,(_defineProperty(e={contextmenu:this._clickHandler},Qj,this._mousewheelHandler),_defineProperty(e,"mouseleave",this._mouseleaveHandler),e)),this._shouldAttachMouseMove()&&DF(t,{mousemove:this._mousemove}),this.domEvents=gF.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}},{key:"_mouseleave",value:function(e){this._hoveredPoint&&(this._hoveredPoint.out(this,e),this._hoveredPoint=null),this._plotArea.hovered&&(this.trigger("plotAreaLeave"),this._plotArea.hovered=!1)}},{key:"_cancelDomEvents",value:function(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}},{key:"_gesturestart",value:function(e){this._mousewheelZoom&&!this._stopChartHandlers(e)&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this.surface.suspendTracking())}},{key:"_gestureend",value:function(e){this._zooming&&!this._stopChartHandlers(e)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger("zoomEnd",{}))}},{key:"_gesturechange",value:function(e){var t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();var i=-e.distance/this._gestureDistance+1;if(Math.abs(i)>=.1){i=Math.round(10*i),this._gestureDistance=e.distance;var n={delta:i,axisRanges:WH(this._plotArea.axes),originalEvent:e};!this._zooming&&this.trigger("zoomStart",n)||(this._zooming||(this._zooming=!0),(n.axisRanges=t.updateRanges(i))&&!this.trigger("zoom",n)&&t.zoom())}}}},{key:"_mouseout",value:function(e){if(e.element){var t=this._drawingChartElement(e.element,e);t&&t.leave&&t.leave(this,e.originalEvent)}}},{key:"_start",value:function(e){var t=this._eventCoordinates(e);!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(t)&&(this.requiresHandlers(["dragStart","drag","dragEnd"])&&this._startNavigation(e,t,"dragStart"),this._pannable&&this._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(e)&&this.trigger("zoomStart",{axisRanges:WH(this._plotArea.axes),originalEvent:e}))}},{key:"_move",value:function(e){var t=this._navState,i=this._pannable;if(!this._stopChartHandlers(e)){if(i){var n=i.move(e);n&&!this.trigger("drag",{axisRanges:n,originalEvent:e})&&i.pan()}else if(t){for(var r={},a=t.axes,o=0;o<a.length;o++){var s=a[o];if(s.options.name){var l=s.options.vertical?e.y:e.x,c=l.startLocation-l.location;0!==c&&(r[s.options.name]=s.translateRange(c))}}t.axisRanges=r,this.trigger("drag",{axisRanges:r,originalEvent:e})}this._zoomSelection&&this._zoomSelection.move(e)}}},{key:"_end",value:function(e){if(!this._stopChartHandlers(e)){var t=this._pannable;if(t&&t.end(e)?(this.surface.resumeTracking(),this.trigger("dragEnd",{axisRanges:WH(this._plotArea.axes),originalEvent:e}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(e,"dragEnd"),this._zoomSelection){var i=this._zoomSelection.end(e);i&&!this.trigger("zoom",{axisRanges:i,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger("zoomEnd",{axisRanges:i,originalEvent:e}))}}}},{key:"_stopChartHandlers",value:function(e){var t=this._selections||[];if(!t.length)return!1;var i=this._eventCoordinates(e),n=this._plotArea.paneByPoint(i);if(n)for(var r=0;r<t.length;r++)if(t[r].onPane(n))return!0}},{key:"_mousewheel",value:function(e){var t=this,i=EF(e),n=this._mousewheelZoom,r=this._eventCoordinates(e);if(!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(r))if(n){var a={delta:i,axisRanges:WH(this._plotArea.axes),originalEvent:e};!this._zooming&&this.trigger("zoomStart",a)||(e.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),a.axisRanges=n.updateRanges(i),a.axisRanges&&!this.trigger("zoom",a)&&n.zoom(),this._mwTimeout=setTimeout((function(){t.trigger("zoomEnd",a),t._zooming=!1,t.surface&&t.surface.resumeTracking()}),150))}else{var o=this._navState;if(o||this._startNavigation(e,r,"zoomStart")||(o=this._navState),o){var s=o.totalDelta||i;o.totalDelta=s+i;for(var l=this._navState.axes,c={},u=0;u<l.length;u++){var h=l[u],f=h.options.name;f&&(c[f]=h.scaleRange(-s))}this.trigger("zoom",{delta:i,axisRanges:c,originalEvent:e}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout((function(){t._endNavigation(e,"zoomEnd")}),150)}}}},{key:"_startNavigation",value:function(e,t,i){var n=this._model._plotArea,r=n.findPointPane(t),a=n.axes.slice(0);if(r){var o=WH(a);this.trigger(i,{axisRanges:o,originalEvent:e})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:o,pane:r,axes:a})}}},{key:"_endNavigation",value:function(e,t){this._navState&&(this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e}),this._suppressHover=!1,this._navState=null)}},{key:"_getChartElement",value:function(e,t){var i=this.surface.eventTarget(e);if(i)return this._drawingChartElement(i,e,t)}},{key:"_drawingChartElement",value:function(e,t,i){for(var n,r=e;r&&!n;)n=r.chartElement,r=r.parent;if(n)return n.aliasFor&&(n=n.aliasFor(t,this._eventCoordinates(t))),i&&((n=n.closest(i))&&n.aliasFor&&(n=n.aliasFor())),n}},{key:"_eventCoordinates",value:function(e){var t=jF(e);return this._toModelCoordinates(t.x,t.y)}},{key:"_elementPadding",value:function(){if(!this._padding){var e=cF(this.element,["paddingLeft","paddingTop"]),t=e.paddingLeft,i=e.paddingTop;this._padding={top:i,left:t}}return this._padding}},{key:"_toDocumentCoordinates",value:function(e){var t=this._elementPadding(),i=PF(this.element);return{left:GF(e.x+t.left+i.left),top:GF(e.y+t.top+i.top)}}},{key:"_toModelCoordinates",value:function(e,t){var i=PF(this.element),n=this._elementPadding();return new ZF(e-i.left-n.left,t-i.top-n.top)}},{key:"_tap",value:function(e){var t=this,i=this.surface.eventTarget(e),n=this._drawingChartElement(i,e),r=this._sharedTooltip();this._startHover(i,e)||r||this._unsetActivePoint(),r&&this._trackSharedTooltip(this._eventCoordinates(e),e,!0),this._propagateClick(n,e),this.handlingTap=!0,setTimeout((function(){t.handlingTap=!1}),0)}},{key:"_click",value:function(e){var t=this._getChartElement(e);this._propagateClick(t,e)}},{key:"_propagateClick",value:function(e,t){for(var i=e;i;)i.click&&i.click(this,t),i=i.parent}},{key:"_startHover",value:function(e,t){if(this._suppressHover)return!1;var i=this._drawingChartElement(e,t,(function(e){return(e.hover||e.over)&&!(e instanceof NB)})),n=this._activePoint,r=this._hoveredPoint;return r&&r!==i&&(r.out(this,t),this._hoveredPoint=null),i&&r!==i&&i.over&&(this._hoveredPoint=i,i.over(this,t)),i&&n!==i&&i.hover&&(this._activePoint=i,!this._sharedTooltip()&&!i.hover(this,t))&&(rF({},this.options.tooltip,i.options.tooltip).visible&&this._tooltip.show(i),this._highlight.show(i)),i}},{key:"_mouseover",value:function(e){var t=this._startHover(e.element,e.originalEvent);t&&t.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),DF(document,{mousemove:this._mouseMoveTrackHandler}))}},{key:"_mouseMoveTracking",value:function(e){var t=this.options,i=this._tooltip,n=this._highlight,r=this._activePoint,a=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(a)){if(r&&r.tooltipTracking&&r.series&&r.parent.getNearestPoint){var o=r.parent.getNearestPoint(a.x,a.y,r.seriesIx);o&&o!==r&&(this._activePoint=o,!o.hover(this,e))&&(rF({},t.tooltip,o.options.tooltip).visible&&i.show(o),n.show(o))}}else WF(document,{mousemove:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._mouseMoveTrackHandler=null}},{key:"_mousemove",value:function(e){var t=this._eventCoordinates(e),i=this._plotArea;if(this._trackCrosshairs(t),i.hover){var n=i.backgroundContainsPoint(t);n?(i.hovered=!0,this._plotArea.hover(this,e)):i.hovered&&!n&&(this.trigger("plotAreaLeave"),i.hovered=!1)}this._sharedTooltip()&&this._trackSharedTooltip(t,e)}},{key:"_trackCrosshairs",value:function(e){for(var t=this._plotArea.crosshairs,i=0;i<t.length;i++){var n=t[i];n.box.containsPoint(e)?n.showAt(e):n.hide()}}},{key:"_trackSharedTooltip",value:function(e,t,i){if(!this._suppressHover){var n=this.options.tooltip,r=this._plotArea,a=this._plotArea.categoryAxis,o=this._tooltip,s=this._highlight;if(r.backgroundContainsPoint(e)){var l=a.pointCategoryIndex(e);if(l!==this._tooltipCategoryIx||!this._sharedHighlight&&i){var c=r.pointsByCategoryIndex(l),u=c.map((function(e){return e.eventArgs(t)})),h=u[0]||{};h.categoryPoints=u,c.length>0&&!this.trigger("seriesHover",h)?(n.visible&&o.showAt(c,e),s.show(c),this._sharedHighlight=!0):o.hide(),this._tooltipCategoryIx=l}else i&&this._sharedHighlight&&(s.hide(),o.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(s.hide(),o.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}}},{key:"hideElements",value:function(){var e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint()}},{key:"_unsetActivePoint",value:function(){var e=this._tooltip,t=this._highlight;this._activePoint=null,this._hoveredPoint=null,e&&e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,t&&t.hide()}},{key:"_deferRedraw",value:function(){this._redraw()}},{key:"_clearRedrawTimeout",value:function(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}},{key:"bindCategories",value:function(){for(var e=[].concat(this.options.categoryAxis),t=0;t<e.length;t++){var i=e[t];!1!==i.autoBind&&this.bindCategoryAxisFromSeries(i,t)}}},{key:"bindCategoryAxisFromSeries",value:function(e,t){for(var i,n=this.options.series,r=n.length,a=new xF,o=[],s=!1,l=0;l<r;l++){var c=n[l],u=c.categoryAxis===e.name||!c.categoryAxis&&0===t,h=c.data,f=h.length,d=c.categoryField&&u;if(s=d||s,d&&f>0)for(var p=(i=AB(e,Bj(c.categoryField,h[0])))?EB:Bj,v=0;v<f;v++){var g=h[v],m=p(c.categoryField,g,this.chartService.intl);!i&&a.get(m)||(o.push([m,g]),i||a.set(m,!0))}}if(o.length>0){i&&(o=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HL,i=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HL,i=1,n=e.length;i<n;i++)if(t(e[i],e[i-1])<0){e.sort(t);break}return e}(e,t),n=i.length,r=n>0?[i[0]]:[],a=1;a<n;a++)0!==t(i[a],VF(r))&&r.push(i[a]);return r}(o,(function(e,t){return HL(e[0],t[0])})));var y=function(e){for(var t=e.length,i=[],n=0;n<t;n++)for(var r=e[n],a=r.length,o=0;o<a;o++)i[o]=i[o]||[],i[o].push(r[o]);return i}(o);e.categories=y[0]}else s&&(e.categories=[])}},{key:"_isBindable",value:function(e){for(var t=Hj.current.valueFields(e),i=!0,n=0;n<t.length;n++){var r=t[n];if(r===WP?r="field":r+="Field",!MF(e[r])){i=!1;break}}return i}},{key:"_noTransitionsRedraw",value:function(){var e,t=this.options;!1!==t.transitions&&(t.transitions=!1,e=!0),this._redraw(),e&&(t.transitions=!0)}},{key:"_legendItemHover",value:function(e,t){var i,n=this._plotArea,r=this._highlight;i=SF((n.srcSeries||n.series)[e].type,[Kj,"donut","funnel"])?n.findPoint((function(i){return i.series.index===e&&i.index===t})):n.pointsBySeriesIndex(e),r.show(i)}},{key:"_shouldAttachMouseMove",value:function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers(["plotAreaHover","plotAreaLeave"])}},{key:"updateMouseMoveHandler",value:function(){WF(this.element,{mousemove:this._mousemove}),this._shouldAttachMouseMove()&&DF(this.element,{mousemove:this._mousemove})}},{key:"applyOptions",value:function(e,t){qH(this._originalOptions,e),this._originalOptions=rF(this._originalOptions,e),this.options=rF({},this._originalOptions),t&&(this._theme=t,this.chartService.theme=t),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}},{key:"setOptions",value:function(e,t){this.applyOptions(e,t),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}},{key:"setDirection",value:function(e){this.chartService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&this._destroySurface()}},{key:"setIntlService",value:function(e){this.chartService.intl=e}},{key:"noTransitionsRedraw",value:function(){this._noTransitionsRedraw()}},{key:"destroy",value:function(){var e;this._destroyed=!0,WF(this.element,(_defineProperty(e={contextmenu:this._clickHandler},Qj,this._mousewheelHandler),_defineProperty(e,"mousemove",this._mousemove),_defineProperty(e,"mouseleave",this._mouseleaveHandler),e)),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&WF(document,{mousemove:this._mouseMoveTrackHandler}),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}},{key:"_destroySurface",value:function(){var e=this.surface;e&&(e.unbind("mouseenter",this._surfaceMouseenterHandler),e.unbind("mouseleave",this._surfaceMouseleaveHandler),e.destroy(),this.surface=null)}},{key:"_destroySelections",value:function(){var e=this._selections;if(e)for(;e.length>0;)e.shift().destroy()}},{key:"_destroyView",value:function(){var e=this._model;e&&(e.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}]),i}(hl);function HH(e,t){if(e)for(var i=0;i<e.length;i++)if(e[i].category===t)return[e[i]]}function GH(e){delete e.bar,delete e.column,delete e.rangeColumn,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.boxPlot,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine,delete e.waterfall}function WH(e){for(var t={},i=0;i<e.length;i++){var n=e[i],r=n.options.name;r&&(t[r]=n.range())}return t}var UH=["data","categories"];function qH(e,t){for(var i in t)if(!SF(i,UH)&&t.hasOwnProperty(i)){var n=t[i],r=e[i];if(MF(r)){var a=null===n;a||!MF(n)?(delete e[i],a&&delete t[i]):r&&aF(n)&&aF(r)&&qH(r,n)}}}function XH(e){for(var t=0;t<e.length;t++)e[t].notifyRender()}XF(NH,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:Jj,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});var JH=NH,YH=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"_slotAnchor",value:function(e,t){var i=this.plotArea.categoryAxis.options.vertical,n=i?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};return{point:i?new ZF(this.plotArea.box.x2,t.center().y):new ZF(t.center().x,-2),align:n}}},{key:"_defaultAnchor",value:function(e,t){return this._slotAnchor({},t)}}]),i}(jN),KH=[Xj,"bullet"];function ZH(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];t[i]=n.style.display,n.style.display="none"}return t}function $H(e,t){for(var i=0;i<e.length;i++)e[i].style.display=t[i]}function QH(e){return QP(e)?[e]:e}XF(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"_setElementClass",value:function(e){YP(e,"k-sparkline")}},{key:"_initElement",value:function(e){_get(_getPrototypeOf(i.prototype),"_initElement",this).call(this,e),this._initialWidth=Math.floor(FF(e).width)}},{key:"_resize",value:function(){var e=this.element,t=ZH(e.childNodes);this._initialWidth=Math.floor(FF(e).width),$H(e.childNodes,t),_get(_getPrototypeOf(i.prototype),"_resize",this).call(this)}},{key:"_modelOptions",value:function(){var e=this.options,t=this._surfaceWrap(),i=ZH(t.childNodes),n=document.createElement("span");n.innerHTML="&nbsp;",t.appendChild(n);var r=rF({width:this._autoWidth,height:FF(t).height,transitions:e.transitions},e.chartArea,{inline:!0,align:!1});return FF(t,{width:r.width,height:r.height}),t.removeChild(n),$H(t.childNodes,i),this.surface&&this.surface.resize(),r}},{key:"_surfaceWrap",value:function(){if(!this.stage){var e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage}},{key:"_createPlotArea",value:function(e){var t=_get(_getPrototypeOf(i.prototype),"_createPlotArea",this).call(this,e);return this._autoWidth=this._initialWidth||this._calculateWidth(t),t}},{key:"_calculateWidth",value:function(e){for(var t=this.options,i=uF(t.chartArea.margin),n=e.charts,r=this._surfaceWrap(),a=0,o=0;o<n.length;o++){var s=n[o],l=(s.options.series||[])[0];if(l){if(l.type===Xj)return 150;if("bullet"===l.type)return 150;if(l.type===Kj)return FF(r).height;var c=s.categoryAxis;if(c){var u=c.categoriesCount()*(!s.options.isStacked&&SF(l.type,[Jj,"verticalBullet"])?s.seriesOptions.length:1);a=Math.max(a,u)}}}var h=a*t.pointWidth;return h>0&&(h+=i.left+i.right),h}},{key:"_createSharedTooltip",value:function(e){return new YH(this._plotArea,e)}}],[{key:"normalizeOptions",value:function(e){var t=QH(e);return(t=JP(t)?{seriesDefaults:{data:t}}:rF({},t)).series||(t.series=[{data:QH(t.data)}]),rF(t,{seriesDefaults:{type:t.type}}),(SF(t.series[0].type,KH)||SF(t.seriesDefaults.type,KH))&&(t=rF({},{categoryAxis:{crosshair:{visible:!1}}},t)),t}}]),i}(JH),{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});var eG=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setup",value:function(){this._initialOpacity=parseFloat(cF(this.element,"opacity").opacity)}},{key:"step",value:function(e){cF(this.element,{opacity:String(TF(this._initialOpacity,0,e))})}},{key:"abort",value:function(){_get(_getPrototypeOf(i.prototype),"abort",this).call(this),cF(this.element,{display:"none",opacity:String(this._initialOpacity)})}},{key:"cancel",value:function(){_get(_getPrototypeOf(i.prototype),"abort",this).call(this),cF(this.element,{opacity:String(this._initialOpacity)})}}]),i}(m.Animation);function tG(e,t){var i=document.createElement("div");return i.className=e,t&&(i.style.cssText=t),i}var iG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;_classCallCheck(this,i),(a=t.call(this)).options=rF({},a.options,r),a.container=e,a.chartService=n;var o=cF(e,["paddingLeft","paddingTop"]);return a.chartPadding={top:o.paddingTop,left:o.paddingLeft},a.createElements(),e.appendChild(a.element),a}return _createClass(i,[{key:"createElements",value:function(){var e=this.element=tG("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),t=this.tooltip=tG("k-tooltip k-chart-tooltip"),i=this.scroll=tG("k-scroll");t.innerHTML="&nbsp;",e.appendChild(t),e.appendChild(i)}},{key:"show",value:function(e,t,i){var n=this.element,r=this.options,a=this.scroll,o=this.tooltip,s=LL(WL(e)+WL(t-e)/2),l=.4*i.width(),c=i.center().x-l,u=(i.center().x-c)/(r.max-r.min),h=s-r.min,f=this.chartService.intl.format(r.format,e,t),d=yF(r);this.clearHideTimeout(),this._visible||(cF(n,{visibility:"hidden",display:"block"}),this._visible=!0),d&&(f=d({from:e,to:t})),o.innerHTML=f,cF(o,{left:i.center().x-o.offsetWidth/2,top:i.y1});var p=cF(o,["marginTop","borderTopWidth","height"]);cF(a,{width:l,left:c+h*u,top:i.y1+p.marginTop+p.borderTopWidth+p.height/2}),cF(n,{visibility:"visible"})}},{key:"clearHideTimeout",value:function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}},{key:"hide",value:function(){var e=this;this.clearHideTimeout(),this._hideTimeout=setTimeout((function(){e._visible=!1,e._hideAnimation=new eG(e.element),e._hideAnimation.setup(),e._hideAnimation.play()}),this.options.hideDelay)}},{key:"destroy",value:function(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}]),i}(hl);XF(iG,{format:"{0:d} - {1:d}",hideDelay:500});var nG=iG;function rG(){}var aG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;_classCallCheck(this,i),(n=t.call(this)).chart=e;var r=n.options=rF({},n.options,e.options.navigator),a=r.select;return a&&(a.from=n.parseDate(a.from),a.to=n.parseDate(a.to)),MF(r.hint.visible)||(r.hint.visible=r.visible),n.chartObserver=new IF(_assertThisInitialized(n),{drag:"_drag",dragEnd:"_dragEnd",zoom:"_zoom",zoomEnd:"_zoomEnd"}),e.addObserver(n.chartObserver),n}return _createClass(i,[{key:"parseDate",value:function(e){return YL(this.chart.chartService.intl,e)}},{key:"clean",value:function(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}},{key:"destroy",value:function(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}},{key:"redraw",value:function(){this._redrawSelf(),this.initSelection()}},{key:"initSelection",value:function(){var e=this.chart,t=this.options,i=this.mainAxis(),n=i.roundedRange(),r=n.min,a=n.max,o=t.select,s=o.from,l=o.to,c=o.mousewheel,u=(rG.prototype=i,new rG);0!==i.categoriesCount()&&(this.clean(),u.box=i.box,this.selection=new PN(e,u,{min:r,max:a,from:s||r,to:l||a,mousewheel:UF(c,{zoom:"left"}),visible:t.visible},new IF(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),t.hint.visible&&(this.hint=new nG(e.element,e.chartService,{min:r,max:a,template:yF(t.hint),format:t.hint.format})))}},{key:"setRange",value:function(){var e=this.chart._createPlotArea(!0).namedCategoryAxes._navigator.roundedRange(),t=e.min,i=e.max,n=this.options.select||{},r=n.from||t;r<t&&(r=t);var a=n.to||i;a>i&&(a=i),this.options.select=rF({},n,{from:r,to:a}),this.filterAxes()}},{key:"_redrawSelf",value:function(e){var t=this.chart._plotArea;t&&t.redraw(VF(t.panes),e)}},{key:"redrawSlaves",value:function(){var e=this.chart,t=e._plotArea,i=t.panes.slice(0,-1);t.srcSeries=e.options.series,t.options.categoryAxis=e.options.categoryAxis,t.clearSeriesPointsCache(),t.redraw(i)}},{key:"_drag",value:function(e){var t,i=this.chart,n=this.selection,r=i._eventCoordinates(e.originalEvent),a=this.mainAxis(),o=a.roundedRange(),s=a.pane.box.containsPoint(r),l=e.axisRanges[i._plotArea.categoryAxis.options.name],c=this.options.select;if(l&&!s&&n){t=c.from&&c.to?WL(c.to)-WL(c.from):WL(n.options.to)-WL(n.options.from);var u=LL(BF(WL(l.min),o.min,WL(o.max)-t)),h=LL(BF(WL(u)+t,WL(o.min)+t,o.max));this.options.select={from:u,to:h},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),n.set(u,h),this.showHint(u,h)}}},{key:"_dragEnd",value:function(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}},{key:"readSelection",value:function(){var e=this.selection.options,t=e.from,i=e.to,n=this.options.select;n.from=t,n.to=i}},{key:"filterAxes",value:function(){for(var e=this.options.select,t=void 0===e?{}:e,i=this.chart.options.categoryAxis,n=t.from,r=t.to,a=0;a<i.length;a++){var o=i[a];"_navigator"!==o.pane&&(o.min=n,o.max=r)}}},{key:"filter",value:function(){var e=this.chart,t=this.options.select;if(e.requiresHandlers(["navigatorFilter"])){var i=this.mainAxis(),n={from:t.from,to:t.to};if("category"!==i.options.type){var r=new oj(rF({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[t.from,t.to]}),e.chartService).options;n.from=VL(r.min,-r.baseUnitStep,r.baseUnit),n.to=VL(r.max,r.baseUnitStep,r.baseUnit)}this.chart.trigger("navigatorFilter",n)}}},{key:"_zoom",value:function(e){var t=this.chart._plotArea.categoryAxis,i=this.selection,n=this.options,r=n.select,a=n.liveDrag,o=this.mainAxis(),s=e.delta;if(i){var l=o.categoryIndex(i.options.from),c=o.categoryIndex(i.options.to);e.originalEvent.preventDefault(),Math.abs(s)>1&&(s*=3),c-l>1?(i.expand(s),this.readSelection()):(t.options.min=r.from,r.from=t.scaleRange(-e.delta).min),a&&(this.filterAxes(),this.redrawSlaves()),i.set(r.from,r.to),this.showHint(this.options.select.from,this.options.select.to)}}},{key:"_zoomEnd",value:function(e){this._dragEnd(e)}},{key:"showHint",value:function(e,t){this.hint&&this.hint.show(e,t,this.chart._plotArea.backgroundBox())}},{key:"_selectStart",value:function(e){return this.chart._selectStart(e)}},{key:"_select",value:function(e){return this.showHint(e.from,e.to),this.chart._select(e)}},{key:"_selectEnd",value:function(e){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(e)}},{key:"mainAxis",value:function(){var e=this.chart._plotArea;if(e)return e.namedCategoryAxes._navigator}},{key:"select",value:function(e,t){var i=this.options.select;return e&&t&&(i.from=this.parseDate(e),i.to=this.parseDate(t),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,t)),{from:i.from,to:i.to}}}],[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.__navi){e.__navi=!0;var n=rF({},t.navigator,e.navigator),r=e.panes=[].concat(e.panes),a=rF({},n.pane,{name:"_navigator"});n.visible||(a.visible=!1,a.height=.1),r.push(a),i.attachAxes(e,n),i.attachSeries(e,n,t)}}},{key:"attachAxes",value:function(e,t){var i=t.series||[],n=e.categoryAxis=[].concat(e.categoryAxis),r=e.valueAxis=[].concat(e.valueAxis),a=0===OB(i,$j).length,o=rF({type:"date",pane:"_navigator",roundToBaseUnit:!a,justified:a,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:t.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),s=t.categoryAxis;n.push(rF({},o,{maxDateGroups:200},s,{name:"_navigator",title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),rF({},o,s,{name:"_navigator_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),rF({},o,s,{name:"_navigator_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),r.push(rF({name:"_navigator",pane:"_navigator",majorGridLines:{visible:!1},visible:!1},t.valueAxis))}},{key:"attachSeries",value:function(e,t,i){for(var n=e.series=e.series||[],r=[].concat(t.series||[]),a=i.seriesColors,o=t.seriesDefaults,s=0;s<r.length;s++)n.push(rF({color:a[s%a.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},o,r[s],{axis:"_navigator",categoryAxis:"_navigator",autoBind:t.autoBindElements}))}}]),i}(hl);XF(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"applyDefaults",value:function(e,t){var n=FF(this.element).width||600,r=t,a={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(n/28)}}};r&&(r=rF({},r,a)),aG.setup(e,r),_get(_getPrototypeOf(i.prototype),"applyDefaults",this).call(this,e,r)}},{key:"_setElementClass",value:function(e){YP(e,"k-chart k-stockchart")}},{key:"setOptions",value:function(e){this.destroyNavigator(),_get(_getPrototypeOf(i.prototype),"setOptions",this).call(this,e)}},{key:"noTransitionsRedraw",value:function(){var e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e}},{key:"_resize",value:function(){this.noTransitionsRedraw()}},{key:"_redraw",value:function(){var e=this.navigator;!this._dirty()&&e&&e.options.partialRedraw?e.redrawSlaves():this._fullRedraw()}},{key:"_dirty",value:function(){var e=this.options,t=wF([].concat(e.series,e.navigator.series),(function(e){return e&&e.visible})).length,i=this._seriesCount!==t;return this._seriesCount=t,i}},{key:"_fullRedraw",value:function(){var e=this.navigator;e||(e=this.navigator=new aG(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),_get(_getPrototypeOf(i.prototype),"_redraw",this).call(this),e.initSelection()}},{key:"_trackSharedTooltip",value:function(e){var t=this._plotArea.paneByPoint(e);t&&"_navigator"===t.options.name?this._unsetActivePoint():_get(_getPrototypeOf(i.prototype),"_trackSharedTooltip",this).call(this,e)}},{key:"bindCategories",value:function(){_get(_getPrototypeOf(i.prototype),"bindCategories",this).call(this),this.copyNavigatorCategories()}},{key:"copyNavigatorCategories",value:function(){for(var e,t=[].concat(this.options.categoryAxis),i=0;i<t.length;i++){var n=t[i];"_navigator"===n.name?e=n.categories:e&&"_navigator"===n.pane&&(n.categories=e)}}},{key:"destroyNavigator",value:function(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}},{key:"destroy",value:function(){this.destroyNavigator(),_get(_getPrototypeOf(i.prototype),"destroy",this).call(this)}},{key:"_stopChartHandlers",value:function(e){var t=this._eventCoordinates(e),n=this._plotArea.paneByPoint(t);return _get(_getPrototypeOf(i.prototype),"_stopChartHandlers",this).call(this,e)||n&&"_navigator"===n.options.name}},{key:"_toggleDragZoomEvents",value:function(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}}]),i}(JH),{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});var oG=Math.PI/180;function sG(e,t){var i=e.getOrigin(),n=e.getSize(),r=uF(t);return e.setOrigin([i.x-r.left,i.y-r.top]),e.setSize([n.width+(r.left+r.right),n.height+(r.top+r.bottom)]),e}var lG=m.Group,cG=m.Path,uG=m.Text;function hG(e,t){var i=e.box,n=e.children[0].box,r=t.border||{},a=t.background||"",o=cG.fromRect(new p.Rect([i.x1,i.y1],[i.width(),i.height()]),{stroke:{}}),s=new uG(e.text,new p.Point(n.x1,n.y1),{font:t.font,fill:{color:t.color}}),l=sG(s.bbox().clone(),t.padding),c=cG.fromRect(l,{stroke:{color:r.width?r.color:"",width:r.width,opacity:r.opacity,dashType:r.dashType,lineJoin:"round",lineCap:"round"},fill:{color:a}}),u=new lG;return u.append(o),u.append(c),u.append(s),u}function fG(e,t,i){var n=MF(e.from)?e.from:HP,r=MF(e.to)?e.to:NP;return e.from=Math.max(Math.min(r,n),t),e.to=Math.min(Math.max(r,n),i),e}function dG(e,t){var i=uF(t);return i.left=-i.left,i.top=-i.top,i.right=-i.right,i.bottom=-i.bottom,sG(e,i)}var pG=m.Path,vG=m.Surface,gG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,i),(a=t.call(this)).element=e,a.theme=r,a.contextService=new vF(_assertThisInitialized(a),o),a._originalOptions=rF({},a.options,n),a.options=rF({},a._originalOptions),a._initTheme(r),a.redraw(),a}return _createClass(i,[{key:"destroy",value:function(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}},{key:"value",value:function(e){var t=this.pointers[0];if(0===arguments.length)return t.value();t.value(e),this._setValueOptions(e)}},{key:"_draw",value:function(){var e=this.surface;e.clear(),e.draw(this._visuals)}},{key:"exportVisual",value:function(){return this._visuals}},{key:"allValues",value:function(e){var t=this.pointers,i=[];if(0===arguments.length){for(var n=0;n<t.length;n++)i.push(t[n].value());return i}if(JP(e))for(var r=0;r<e.length;r++)QP(e[r])&&t[r].value(e[r]);this._setValueOptions(e)}},{key:"_setValueOptions",value:function(e){for(var t=[].concat(this.options.pointer),i=[].concat(e),n=0;n<i.length;n++)t[n].value=i[n]}},{key:"resize",value:function(){this.noTransitionsRedraw()}},{key:"noTransitionsRedraw",value:function(){var e=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(e)}},{key:"redraw",value:function(){var e=this._surfaceSize(),t=new p.Rect([0,0],[e.width,e.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();var i=dG(t.bbox(),this._gaugeAreaMargin);this.reflow(i)}},{key:"setOptions",value:function(e,t){this._originalOptions=rF(this._originalOptions,e),this.options=rF({},this._originalOptions),this._initTheme(t),this.redraw()}},{key:"setDirection",value:function(e){this.contextService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}},{key:"setIntlService",value:function(e){this.contextService.intl=e}},{key:"_initTheme",value:function(e){var t=e||this.theme||{};this.theme=t,this.options=rF({},t,this.options);var i=this.options,n=i.pointer;if(JP(n)){for(var r=[],a=0;a<n.length;a++)r.push(rF({},t.pointer,n[a]));i.pointer=r}}},{key:"_createGaugeArea",value:function(){var e=this.options.gaugeArea,t=this.surface.size(),i=e.border||{},n=new p.Rect([0,0],[t.width,t.height]);return this._gaugeAreaMargin=e.margin||5,i.width>0&&(n=dG(n,i.width)),pG.fromRect(n,{stroke:{color:i.width?i.color:"",width:i.width,dashType:i.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}})}},{key:"_initSurface",value:function(){var e=this.options,t=this.surface,i=this._surfaceElement(),n=this._surfaceSize();FF(i,n),t&&t.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(t&&t.destroy(),this.surface=vG.create(i,{type:e.renderAs}))}},{key:"_surfaceSize",value:function(){var e=this.options,t=this._getSize();return e.gaugeArea&&rF(t,e.gaugeArea),t}},{key:"_surfaceElement",value:function(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}},{key:"getSize",value:function(){return this._getSize()}},{key:"_getSize",value:function(){var e=this.element,t=this._defaultSize(),i=e.offsetWidth,n=e.offsetHeight;return i||(i=t.width),n||(n=t.height),{width:i,height:n}}},{key:"_defaultSize",value:function(){return{width:200,height:200}}},{key:"_toggleTransitions",value:function(e){this.options.transitions=e;for(var t=0;t<this.pointers.length;t++)this.pointers[t].options.animation.transitions=e}}]),i}(hl);XF(gG,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});var mG=gG,yG=m.Path,bG=m.Group,kG=p.Point;function CG(e,t){var i,n,r=e.position,a=e.tickX,o=e.tickY;return e.vertical?(i=new kG(a,r),n=new kG(a+t.size,r)):(i=new kG(r,o),n=new kG(r,o+t.size)),new yG({stroke:{color:t.color,width:t.width}}).moveTo(i).lineTo(n)}function wG(e,t,i,n){var r=t.length;if(n.visible)for(var a=i.mirror,o=i.lineBox,s=n.skip;s<r;s+=n.step)s%n.skipUnit!=0&&(i.tickX=a?o.x2:o.x2-n.size,i.tickY=a?o.y1-n.size:o.y1,i.position=t[s],e.append(CG(i,n)))}var _G=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;_classCallCheck(this,i);var a=e||{};return!MF(a.reverse)&&!1===a.vertical&&(n||{}).rtl&&(a=Object.assign({},a,{reverse:!0})),(r=t.call(this,0,1,a,n)).options.minorUnit=r.options.minorUnit||r.options.majorUnit/10,r}return _createClass(i,[{key:"initUserOptions",value:function(e){var t=rF({},this.options,e);return(t=rF({},t,{labels:{mirror:t.mirror}})).majorUnit=t.majorUnit||KF(t.min,t.max),t}},{key:"initFields",value:function(){}},{key:"render",value:function(){var e=this.elements=new bG,t=this.renderLabels(),i=this.renderLine(),n=this.renderTicks(),r=this.renderRanges();return e.append(i,t,n,r),e}},{key:"renderRanges",value:function(){for(var e=this.options,t=e.min,i=e.max,n=e.vertical,r=e.labels.mirror,a=e.ranges||[],o=new bG,s=a.length,l=e.rangeSize||e.minorTicks.size/2,c=0;c<s;c++){var u=fG(a[c],t,i),h=this.getSlot(u.from,u.to),f=n?this.lineBox():h,d=n?h:this.lineBox();n?f.x1-=l*(r?-1:1):d.y2+=l*(r?-1:1),o.append(yG.fromRect(new p.Rect([f.x1,d.y1],[f.x2-f.x1,d.y2-d.y1]),{fill:{color:u.color,opacity:u.opacity},stroke:{}}))}return o}},{key:"renderLabels",value:function(){for(var e=this.labels,t=this.options,i=new bG,n=0;n<e.length;n++)i.append(hG(e[n],t.labels));return i}},{key:"renderLine",value:function(){var e=this.options.line,t=this.lineBox(),i=new bG;if(e.width>0&&e.visible){var n=new yG({stroke:{color:e.color,dashType:e.dashType,width:e.width}});n.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),i.append(n)}return i}},{key:"renderTicks",value:function(){var e=new bG,t=this.options,i=t.majorTicks.visible?t.majorUnit:0,n={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};return wG(e,this.getMajorTickPositions(),n,t.majorTicks),wG(e,this.getMinorTickPositions(),n,rF({},{skipUnit:i/t.minorUnit},t.minorTicks)),e}}]),i}(dj);XF(_G,{min:0,max:50,majorTicks:{size:15,align:"inside",color:PP,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:PP,width:.5,visible:!0},line:{width:.5},labels:{position:"inside",padding:2},mirror:!1,_alignLines:!1});var xG=_G,SG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;_classCallCheck(this,i),r=t.call(this);var a=e.options,o=a.min,s=a.max,l=r.options=rF({},r.options,n);return l.fill=l.color,r.scale=e,l.value=MF(l.value)?BF(l.value,o,s):o,r}return _createClass(i,[{key:"value",value:function(e){var t=this.options;if(0===arguments.length)return t.value;var i=this.scale.options,n=i.min,r=i.max;t._oldValue=MF(t._oldValue)?t.value:n,t.value=BF(e,n,r),this.elements&&this.repaint()}}]),i}(hl);XF(SG,{color:PP});var TG=SG,IG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).options=rF({track:{visible:MF(n.track)}},r.options),r}return _createClass(i,[{key:"reflow",value:function(){var e,t,i,n=this.options,r=this.scale,a=r.options,o=a.mirror,s=a.vertical,l=r.lineBox(),c=n.track.size||n.size,u=n.size/2,h=uF(n.margin),f=s?h[o?"left":"right"]:h[o?"bottom":"top"];f=o?-f:f,s?(i=new QF(l.x1+f,l.y1,l.x1+f,l.y2),o?i.x1-=c:i.x2+=c,"barPointer"!==n.shape&&(e=t=new QF(l.x2+f,l.y1-u,l.x2+f,l.y2+u))):(i=new QF(l.x1,l.y1-f,l.x2,l.y1-f),o?i.y2+=c:i.y1-=c,"barPointer"!==n.shape&&(e=t=new QF(l.x1-u,l.y1-f,l.x2+u,l.y1-f))),this.trackBox=i,this.pointerRangeBox=t,this.box=e||i.clone().pad(n.border.width)}},{key:"getElementOptions",value:function(){var e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:MF(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}}},{key:"_margin",value:function(){var e=this.scale,t=this.options,i=e.options,n=i.mirror,r=i.vertical,a=uF(t.margin);return r?a[n?"left":"right"]:a[n?"bottom":"top"]}}]),i}(TG);XF(IG,{shape:"barPointer",track:{border:{width:1}},color:PP,border:{width:1},opacity:1,margin:uF(3),animation:{type:"barPointer"},visible:!0});var OG=IG,EG=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setup",value:function(){var e=this.options,t=e.margin,i=e.from,n=e.to,r=e.vertical,a=r?"x1":"y1";e.mirror===r?(i[a]-=t,n[a]-=t):(i[a]+=t,n[a]+=t);var o=this.fromScale=new p.Point(i.x1,i.y1),s=this.toScale=new p.Point(n.x1,n.y1);0!==e.duration&&(e.duration=Math.max(o.distanceTo(s)/e.duration*1e3,1))}},{key:"step",value:function(e){var t=TF(this.fromScale.x,this.toScale.x,e),i=TF(this.fromScale.y,this.toScale.y,e);this.element.transform(p.transform().translate(t,i))}}]),i}(m.Animation);XF(EG,{easing:"linear",duration:250}),m.AnimationFactory.current.register("arrowPointer",EG);var AG=EG,RG=p.Point,DG=m.Path,MG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),r=t.call(this,e,n),MF(r.options.size)||(r.options.size=.6*r.scale.options.majorTicks.size),r}return _createClass(i,[{key:"pointerShape",value:function(){var e=this.scale,t=this.options.size,i=t/2,n=e.options.mirror?-1:1;return e.options.vertical?[new RG(0,0-i),new RG(0-n*t,0),new RG(0,0+i)]:[new RG(0-i,0),new RG(0,0+n*t),new RG(0+i,0)]}},{key:"repaint",value:function(){var e=this.scale,t=this.options,i=new AG(this.elements,rF(t.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(t.margin),from:e.getSlot(t._oldValue),to:e.getSlot(t.value)}));!1===t.animation.transitions&&(i.options.duration=0),i.setup(),i.play()}},{key:"render",value:function(){var e=this.scale,t=this.options,i=this.getElementOptions(),n=this.pointerShape(t.value);t.animation.type="arrowPointer";var r=new DG({stroke:i.stroke,fill:i.fill}).moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).close(),a=e.getSlot(t.value);return r.transform(p.transform().translate(a.x1,a.y1)),this.elements=r,r}}]),i}(OG),zG=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setup",value:function(){var e=this.options,t=this.axis=e.vertical?XP:qP,i=this.to=e.newPoints[0][t],n=this.from=e.oldPoints[0][t];0!==e.duration&&(e.duration=Math.max(Math.abs(i-n)/e.speed*1e3,1)),this._set(n)}},{key:"step",value:function(e){var t=TF(this.from,this.to,e);this._set(t)}},{key:"_set",value:function(e){var t="set"+this.axis.toUpperCase(),i=this.options.newPoints;i[0][t](e),i[1][t](e)}}]),i}(m.Animation);XF(zG,{easing:"linear",speed:250}),m.AnimationFactory.current.register("barPointer",zG);var PG=zG,FG=m.Group,LG=m.Path,jG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),r=t.call(this,e,n),MF(r.options.size)||(r.options.size=.3*r.scale.options.majorTicks.size),r}return _createClass(i,[{key:"pointerShape",value:function(e){var t=this.scale,i=this.options,n=t.options,r=n.mirror,a=n.vertical,o=r===a?-1:1,s=i.size*o,l=t.getSlot(t.options.min),c=t.getSlot(e),u=a?XP:qP,h=a?qP:XP,f=this._margin()*o,d=new p.Point;d[u]=l[u+"1"],d[h]=l[h+"1"];var v=new p.Point;v[u]=c[u+"1"],v[h]=c[h+"1"],a?(d.translate(f,0),v.translate(f,0)):(d.translate(0,f),v.translate(0,f));var g=v.clone(),m=d.clone();return a?(g.translate(s,0),m.translate(s,0)):(g.translate(0,s),m.translate(0,s)),[d,v,g,m]}},{key:"repaint",value:function(){var e=this.scale,t=this.options,i=this.pointerShape(t.value),n=this.pointerPath,r=this.pointerShape(t._oldValue);n.moveTo(i[0]).lineTo(i[1]).lineTo(i[2]).lineTo(i[3]).close();var a=new PG(n,rF(t.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[r[1],r[2]],newPoints:[i[1],i[2]]}));!1===t.animation.transitions&&(a.options.duration=0),a.setup(),a.play()}},{key:"render",value:function(){var e=new FG,t=this.getElementOptions();this.options.track.visible&&e.append(this.renderTrack());var i=this.pointerPath=new LG({stroke:t.stroke,fill:t.fill});return e.append(i),this.elements=e,e}},{key:"renderTrack",value:function(){var e=this.options.track,t=e.border||{},i=this.trackBox.clone().pad(t.width||0);return new LG.fromRect(i.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})}}]),i}(OG),VG=m.Group;XF(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"reflow",value:function(e){var t=this.pointers,i=e.origin.x,n=e.origin.y,r=new QF(i,n,i+e.width(),n+e.height());this.scale.reflow(r),this._shrinkScaleWidth(r);for(var a=0;a<t.length;a++)t[a].reflow();this.bbox=this._getBox(r),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}},{key:"_buildVisual",value:function(){var e=new VG,t=this.scale.render(),i=this.pointers;e.append(this.gaugeArea),e.append(t);for(var n=0;n<i.length;n++){var r=i[n];e.append(r.render()),r.value(r.options.value)}this._visuals=e}},{key:"_createModel",value:function(){var e=this.options,t=this.scale=new xG(e.scale,this.contextService);this.pointers=[];var i=e.pointer;i=JP(i)?i:[i];for(var n=0;n<i.length;n++){var r=rF({},i[n],{animation:{transitions:e.transitions}});this.pointers.push(new("arrow"===r.shape?MG:jG)(t,r))}}},{key:"_defaultSize",value:function(){var e=this.options.scale.vertical;return{width:e?60:200,height:e?200:60}}},{key:"_getBox",value:function(e){for(var t,i=this.scale,n=this.pointers,r=e.center(),a=n[0].box.clone().wrap(i.box),o=0;o<n.length;o++)a.wrap(n[o].box.clone());return i.options.vertical?(t=a.width()/2,a=new QF(r.x-t,e.y1,r.x+t,e.y2)):(t=a.height()/2,a=new QF(e.x1,r.y-t,e.x2,r.y+t)),a}},{key:"_alignElements",value:function(){for(var e,t=this.scale,i=this.pointers,n=t.box,r=i[0].box.clone().wrap(t.box),a=this.bbox,o=0;o<i.length;o++)r.wrap(i[o].box.clone());t.options.vertical?(e=a.center().x-r.center().x,t.reflow(new QF(n.x1+e,a.y1,n.x2+e,a.y2))):(e=a.center().y-r.center().y,t.reflow(new QF(n.x1,n.y1+e,n.x2,n.y2+e)));for(var s=0;s<i.length;s++)i[s].reflow(this.bbox)}},{key:"_shrinkScaleWidth",value:function(e){var t=this.scale;if(!t.options.vertical){var i=t.contentBox().width()-e.width();i>0&&(t.box.shrink(i,0),t.box.alignTo(e,"center"),t.reflow(t.box))}}},{key:"_shrinkElements",value:function(){for(var e=this.scale,t=this.pointers,i=e.box.clone(),n=e.options.vertical?"y":"x",r=t[0].box,a=0;a<t.length;a++)r.wrap(t[a].box.clone());i[n+1]+=Math.max(i[n+1]-r[n+1],0),i[n+2]-=Math.max(r[n+2]-i[n+2],0),e.reflow(i);for(var o=0;o<t.length;o++)t[o].reflow(this.bbox)}}]),i}(mG),{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});var BG=m.Arc,NG=m.Path,HG=m.Group;function GG(e,t,i,n){var r=new HG,a=e.center,o=e.getRadiusX();if(n.visible)for(var s=0;s<t.length;s++){var l=e.pointAt(t[s]),c=new p.Point(a.x+o-n.size,a.y).rotate(t[s],a);r.append(new NG({stroke:{color:n.color,width:n.width}}).moveTo(l).lineTo(c))}return r}function WG(e,t,i,n){return{from:e,to:t,color:i,opacity:n}}var UG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){return _classCallCheck(this,i),t.call(this,0,1,e,n)}return _createClass(i,[{key:"initUserOptions",value:function(e){var t=rF({},this.options,e);return t.majorUnit=t.majorUnit||KF(t.min,t.max),t.minorUnit=t.minorUnit||t.majorUnit/10,t}},{key:"initFields",value:function(){}},{key:"render",value:function(e,t){var i=this.renderArc(e,t);this.bbox=i.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}},{key:"reflow",value:function(e){var t=e.center(),i=Math.min(e.height(),e.width())/2;if(!MF(this.bbox))return this.render(t,i);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}},{key:"slotAngle",value:function(e){var t=this.options,i=t.min,n=t.max,r=t.reverse,a=t.startAngle,o=t.endAngle,s=o-a;return(r?o-(e-i)/(n-i)*s:(e-i)/(n-i)*s+a)+180}},{key:"hasRanges",value:function(){var e=this.options.ranges;return e&&e.length}},{key:"ticksSize",value:function(){var e=this.options,t=e.majorTicks,i=e.minorTicks,n=0;return t.visible&&(n=t.size),i.visible&&(n=Math.max(i.size,n)),n}},{key:"renderLabels",value:function(){var e=this.options,t=this.arc.clone(),i=t.getRadiusX(),n=this.tickAngles(t,e.majorUnit),r=e.rangeSize=e.rangeSize||.1*i,a=new HG,o=.05*i;MF(e.rangeDistance)?o=e.rangeDistance:e.rangeDistance=o;var s=e.labels,l="inside"===s.position,c=MF(this.labelElements);l&&(i-=this.ticksSize(),this.hasRanges()&&!c&&(i-=r+o),t.setRadiusX(i).setRadiusY(i));for(var u=this.labels,h=u.length,f=uF(s.padding),d=(f.left+f.right)/2,v=(f.top+f.bottom)/2,g=0;g<h;g++){var m=u[g],y=m.box.width()/2,b=m.box.height()/2,k=n[g],C=(k-180)*oG,w=t.pointAt(k),_=w.x+Math.cos(C)*(y+d)*(l?1:-1),x=w.y+Math.sin(C)*(b+v)*(l?1:-1);m.reflow(new QF(_-y,x-b,_+y,x+b));var S=new p.Point(m.box.x1,m.box.y1),T=void 0;if(c){var I=(T=this.labelElements.children[g]).bbox().origin,O=T.transform()||p.transform();O.translate(S.x-I.x,S.y-I.y),T.transform(O)}else T=hG(m,e.labels),a.append(T);this.bbox=p.Rect.union(this.bbox,T.bbox())}return a}},{key:"repositionRanges",value:function(){var e=this.ranges.children;if(e.length>0){var t=this.options,i=t.rangeDistance,n=t.rangeSize,r=this.getRangeRadius();"inside"===this.options.labels.position&&(r+=n+i);for(var a=r+n/2,o=0;o<e.length;o++)e[o]._geometry.setRadiusX(a).setRadiusY(a);this.bbox=p.Rect.union(this.bbox,this.ranges.bbox())}}},{key:"renderRanges",value:function(){var e=this.rangeSegments(),t=e.length,i=new HG;if(t){var n=this.options,r=n.rangeSize,a=n.reverse,o=n.rangeDistance,s=this.getRangeRadius();this.radius(this.radius()-r-o);for(var l=0;l<t;l++){var c=e[l],u=this.slotAngle(c[a?"to":"from"]),h=this.slotAngle(c[a?"from":"to"]);h-u!=0&&i.append(this.createRange(u,h,s,c))}}return i}},{key:"createRange",value:function(e,t,i,n){var r=this.options.rangeSize,a=new p.Arc(this.arc.center,{radiusX:i+r/2,radiusY:i+r/2,startAngle:e,endAngle:t});return new BG(a,{stroke:{width:r,color:n.color,opacity:n.opacity,lineCap:n.lineCap}})}},{key:"rangeSegments",value:function(){var e=this.options,t=e.ranges||[],i=t.length,n=[];if(i){var r=e.min,a=e.max,o=e.rangePlaceholderColor;n.push(WG(r,a,o));for(var s=0;s<i;s++)for(var l=fG(t[s],r,a),c=n.length,u=0;u<c;u++){var h=n[u];if(h.from<=l.from&&l.from<=h.to){n.push(WG(l.from,l.to,l.color,l.opacity)),h.from<=l.to&&l.to<=h.to&&n.push(WG(l.to,h.to,o,l.opacity)),h.to=l.from;break}}}return n}},{key:"getRangeRadius",value:function(){var e=this.arc,t=this.options,i=t.rangeSize,n=t.rangeDistance,r=t.majorTicks.size;return"outside"===t.labels.position?e.getRadiusX()-r-n-i:e.getRadiusX()-i}},{key:"renderArc",value:function(e,t){var i=this.options;return this.arc=new p.Arc(e,{radiusX:t,radiusY:t,startAngle:i.startAngle+180,endAngle:i.endAngle+180})}},{key:"renderTicks",value:function(){var e=this.arc,t=this.options,i=e.clone();this.majorTickAngles=this.tickAngles(e,t.majorUnit),this.majorTicks=GG(i,this.majorTickAngles,0,t.majorTicks);var n=new HG;n.append(this.majorTicks);var r=t.majorTicks.size,a=t.minorTicks.size;if(this._tickDifference=r-a,"outside"===t.labels.position){var o=i.getRadiusX();i.setRadiusX(o-r+a).setRadiusY(o-r+a)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,t.minorUnit)),this.minorTicks=GG(i,this.minorTickAngles,0,t.minorTicks),n.append(this.minorTicks),n}},{key:"normalizeTickAngles",value:function(e){for(var t=this.options,i=t.majorUnit/t.minorUnit,n=e.length-1;n>=0;n--)n%i==0&&e.splice(n,1);return e}},{key:"tickAngles",value:function(e,t){var i=this.options,n=e.endAngle-e.startAngle,r=(i.max-i.min)/t,a=e.startAngle,o=n/r;i.reverse&&(a+=n,o=-o);for(var s=[],l=0;l<r;l++)s.push(GF(a,3)),a+=o;return GF(a)<=e.endAngle&&s.push(a),s}},{key:"radius",value:function(e){if(!e)return this.arc.getRadiusX();this.arc.setRadiusX(e).setRadiusY(e),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}},{key:"repositionTicks",value:function(e,t,i){var n=i&&this._tickDifference||0,r=this.arc,a=r.getRadiusX();i&&"outside"===this.options.labels.position&&0!==n&&(r=this.arc.clone()).setRadiusX(a-n).setRadiusY(a-n);for(var o=0;o<e.length;o++){var s=r.pointAt(t[o]),l=e[o].segments,c=s.x-l[0].anchor().x,u=s.y-l[0].anchor().y;e[o].transform((new p.transform).translate(c,u))}}}]),i}(dj);XF(UG,{min:0,max:100,majorTicks:{size:15,align:"inside",color:PP,width:.5,visible:!0},minorTicks:{size:10,align:"inside",color:PP,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:"inside",padding:2}});var qG=UG,XG=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;_classCallCheck(this,i);var a=(r=t.call(this,e,n)).options;return a.duration=Math.max(Math.abs(a.newAngle-a.oldAngle)/a.duration*1e3,1),r}return _createClass(i,[{key:"step",value:function(e){var t=this.options,i=TF(t.oldAngle,t.newAngle,e);this.element.transform(p.transform().rotate(i,t.center))}}]),i}(m.Animation);XF(XG,{easing:"linear",duration:150}),m.AnimationFactory.current.register("radialPointer",XG);var JG=XG,YG=m.Circle,KG=m.Group,ZG=m.Path,$G=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"setAngle",value:function(e){this.elements.transform(p.transform().rotate(e,this.center))}},{key:"repaint",value:function(){var e=this.scale,t=this.options,i=e.slotAngle(t._oldValue),n=e.slotAngle(t.value);!1===t.animation.transitions?this.setAngle(n):new JG(this.elements,rF(t.animation,{oldAngle:i,newAngle:n})).play()}},{key:"render",value:function(){var e=this.scale,t=this.options,i=new KG;return!1!==t.animation&&rF(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),i.append(this._renderNeedle(),this._renderCap()),this.elements=i,this.setAngle(oG),i}},{key:"reflow",value:function(e){var t=this.center=e.center,i=BF(this.options.length||1,.1,1.5),n=this.radius=e.getRadiusX()*i,r=this.capSize=Math.round(n*this.options.cap.size);this.bbox=p.Rect.fromPoints(new p.Point(t.x-r,t.y-r),new p.Point(t.x+r,t.y+r))}},{key:"_renderNeedle",value:function(){var e=this.scale.options.minorTicks.size,t=this.center,i=this.options.color,n=new ZG({fill:{color:i},stroke:{color:i,width:.5}});return n.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close(),n}},{key:"_renderCap",value:function(){var e=this.options,t=e.cap.color||e.color,i=new p.Circle(this.center,this.capSize);return new YG(i,{fill:{color:t},stroke:{color:t}})}}]),i}(TG);XF($G,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:"radialPointer",duration:150}});var QG=$G,eW=m.Group;XF(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"reflow",value:function(e){var t=this.pointers;this.scale.reflow(e),this._initialPlotArea=this.scale.bbox;for(var i=0;i<t.length;i++)t[i].reflow(this.scale.arc),this._initialPlotArea=p.Rect.union(this._initialPlotArea,t[i].bbox);this.fitScale(e),this.alignScale(e),this._buildVisual(this.gaugeArea,t,this.scale),this._draw()}},{key:"_buildVisual",value:function(e,t,i){var n=this._visuals=new eW;n.append(e),n.append(i.ticks),n.append(i.ranges),this._buildPointers(t),n.append(i.labelElements)}},{key:"_buildPointers",value:function(e){for(var t=0;t<e.length;t++){var i=e[t];i.render(),this._visuals.append(i.elements),i.value(i.options.value)}}},{key:"fitScale",value:function(e){for(var t,i,n,r,a,o=this.scale.arc,s=Math.abs(this.getDiff(this._initialPlotArea,e)),l=GF(s,3),c=GF(-s,3),u=0,h=0;!(!(h++<100)||(u=a===n?u+1:0,u>5)||l!==r&&(t=this.getPlotBox(l,e,o),0<=t&&t<=2)||c!==r&&(n=this.getPlotBox(c,e,o),0<=n&&n<=2)||(r=t>0&&n>0?2*l:t<0&&n<0?2*c:GF((l+c)/2||1,3),i=this.getPlotBox(r,e,o),0<=i&&i<=2));)a=n,i>0?(c=r,n=i):(l=r,t=i)}},{key:"getPlotBox",value:function(e,t,i){var n=this.scale,r=this.pointers,a=i.getRadiusX(),o=i.clone();o.setRadiusX(a+e).setRadiusY(a+e),n.arc=o,n.reflow(t),this.plotBbox=n.bbox;for(var s=0;s<r.length;s++)r[s].reflow(o),this.plotBbox=p.Rect.union(this.plotBbox,r[s].bbox);return this.getDiff(this.plotBbox,t)}},{key:"getDiff",value:function(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())}},{key:"alignScale",value:function(e){var t=this.plotBbox.center(),i=e.center(),n=t.x-i.x,r=t.y-i.y,a=this.scale,o=this.pointers;a.arc.center.x-=n,a.arc.center.y-=r,a.reflow(e);for(var s=0;s<o.length;s++)o[s].reflow(a.arc),this.plotBbox=p.Rect.union(a.bbox,o[s].bbox)}},{key:"_createModel",value:function(){var e=this.options,t=e.pointer,i=this.scale=new qG(e.scale,this.contextService);this.pointers=[];for(var n=JP(t)?t:[t],r=0;r<n.length;r++){var a=new QG(i,rF({},n[r],{animation:{transitions:e.transitions}}));this.pointers.push(a)}}}]),i}(mG),{transitions:!0,gaugeArea:{background:""}}),XF(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"rangeSegments",value:function(){var e=this.options;return[{from:e.min,to:e.max,color:e.rangePlaceholderColor,lineCap:e.rangeLineCap}]}},{key:"hasRanges",value:function(){return!0}},{key:"placeholderRangeAngle",value:function(e){var t=this.ranges.children[0].geometry();this.options.reverse?t.setEndAngle(e):t.setStartAngle(e)}},{key:"addRange",value:function(e,t,i){var n=this.options.reverse,r=this.slotAngle(n?t:e),a=this.slotAngle(n?e:t),o=this.createRange(r,a,this.getRangeRadius(),i);return this.ranges.append(o),o}}]),i}(qG),{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});var tW=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;_classCallCheck(this,i);var a=(r=t.call(this,e,n)).options,o=Math.abs(a.newAngle-a.oldAngle)/a.duration*1e3;a.duration=BF(o,150,800);var s=e.elements.options.get("stroke.color"),l=e.currentColor();return s!==l&&(r.startColor=new Bl(s),r.color=new Bl(l)),r}return _createClass(i,[{key:"step",value:function(e){var t=this.options,i=this.startColor,n=this.color,r=TF(t.oldAngle,t.newAngle,e);if(this.element.angle(r),n){var a=GF(TF(i.r,n.r,e)),o=GF(TF(i.g,n.g,e)),s=GF(TF(i.b,n.b,e));this.element.stroke(new Bl(a,o,s).toHex())}}}]),i}(m.Animation);XF(tW,{easing:"linear",duration:150}),m.AnimationFactory.current.register("radialRangePointer",tW);var iW=tW;XF(function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"repaint",value:function(){var e=this.scale,t=this.options,i=e.slotAngle(t._oldValue),n=e.slotAngle(t.value);this.animation&&this.animation.abort(),!1===t.animation.transitions?(this.angle(n),this.stroke(this.currentColor())):(this.animation=new iW(this,rF(t.animation,{oldAngle:i,newAngle:n})),this.animation.play())}},{key:"angle",value:function(e){var t=this.elements.geometry();this.scale.options.reverse?t.setStartAngle(e):t.setEndAngle(e),this.scale.placeholderRangeAngle(e)}},{key:"stroke",value:function(e){this.elements.stroke(e)}},{key:"render",value:function(){if(!this.elements){var e=this.scale,t=this.options;!1!==t.animation&&rF(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:t.opacity,lineCap:e.options.rangeLineCap})}}},{key:"currentColor",value:function(){var e=this.scale.options,t=e.min,i=e.max,n=this.options,r=n.colors,a=n.color,o=n.value,s=QP(o)?o:t;if(r)for(var l=0;l<r.length;l++){var c=r[l],u=c.color,h=c.from,f=void 0===h?t:h,d=c.to;if(f<=s&&s<=(void 0===d?i:d))return u}return a}},{key:"reflow",value:function(){this.render(),this.bbox=this.elements.bbox()}}]),i}(TG),{animation:{type:"radialRangePointer",duration:150}});var nW="Arial, Helvetica, sans-serif",rW="12px "+nW,aW="16px "+nW,oW=function(){return{icon:{border:{width:1}},label:{font:rW,padding:3},line:{length:10,width:2},visible:!0}},sW=function(e){return{visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:e.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:"transparent"},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:oW(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}},lW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{axisDefaults:{labels:{font:rW},notes:oW(),title:{font:aW,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:sW(e),title:{font:aW},legend:{labels:{font:rW}}}},cW=["content"];function uW(e,t){}function hW(e,t){if(1&e&&y.Jc(0,uW,0,0,"ng-template",5),2&e){var i=y.jc(2);y.oc("ngTemplateOutlet",i.seriesTooltipTemplateRef)("ngTemplateOutletContext",i.seriesTooltipContext)}}function fW(e,t){}function dW(e,t){if(1&e&&y.Jc(0,fW,0,0,"ng-template",5),2&e){var i=y.jc(2);y.oc("ngTemplateOutlet",i.seriesSharedTooltipTemplateRef)("ngTemplateOutletContext",i.seriesSharedTooltipContext)}}function pW(e,t){if(1&e&&(y.Xb(0,"div",3),y.Jc(1,hW,1,2,void 0,4),y.Jc(2,dW,1,2,void 0,4),y.Wb()),2&e){var i=y.jc();y.oc("ngClass",i.popupClasses)("ngStyle",i.style),y.Eb(1),y.oc("ngIf",!i.shared),y.Eb(1),y.oc("ngIf",i.shared)}}function vW(e,t){1&e&&y.Sb(0,"span",6),2&e&&y.oc("innerHTML",t.formattedValue,y.Dc)}function gW(e,t){if(1&e&&(y.Xb(0,"td"),y.Sb(1,"span",8),y.Wb()),2&e){var i=y.jc().$implicit;y.Eb(1),y.Ic("background-color",i.series.color)}}function mW(e,t){if(1&e&&(y.Vb(0),y.Lc(1),y.Ub()),2&e){var i=y.jc(2).$implicit;y.Eb(1),y.Mc(i.series.name)}}function yW(e,t){1&e&&(y.Vb(0),y.Lc(1,"\xa0"),y.Ub())}function bW(e,t){if(1&e&&(y.Xb(0,"td"),y.Jc(1,mW,2,1,"ng-container",4),y.Jc(2,yW,2,0,"ng-container",4),y.Wb()),2&e){var i=y.jc().$implicit;y.Eb(1),y.oc("ngIf",void 0!==i.series.name),y.Eb(1),y.oc("ngIf",void 0===i.series.name)}}function kW(e,t){}function CW(e,t){if(1&e&&(y.Xb(0,"tr"),y.Jc(1,gW,2,2,"td",4),y.Jc(2,bW,3,2,"td",4),y.Xb(3,"td"),y.Jc(4,kW,0,0,"ng-template",5),y.Wb(),y.Wb()),2&e){var i=t.$implicit,n=y.jc(),r=n.colorMarker,a=n.nameColumn;y.Eb(1),y.oc("ngIf",r),y.Eb(1),y.oc("ngIf",a),y.Eb(2),y.oc("ngTemplateOutlet",i.template)("ngTemplateOutletContext",i)}}function wW(e,t){if(1&e&&(y.Xb(0,"table"),y.Xb(1,"tr"),y.Xb(2,"th"),y.Lc(3),y.Wb(),y.Wb(),y.Jc(4,CW,5,4,"tr",7),y.Wb()),2&e){var i=t.points,n=t.categoryText,r=t.colspan;y.Eb(2),y.Fb("colspan",r),y.Eb(1),y.Nc(" ",n," "),y.Eb(1),y.oc("ngForOf",i)}}function _W(e,t){if(1&e&&(y.Xb(0,"div",1),y.Lc(1),y.Wb()),2&e){var i=y.jc();y.oc("ngStyle",i.style),y.Eb(1),y.Nc(" ",i.value," ")}}function xW(e,t){if(1&e&&y.Sb(0,"kendo-chart-crosshair-tooltip",1),2&e){var i=t.$implicit,n=y.jc();y.oc("key",i)("popupSettings",n.popupSettings)}}var SW=["surface"];function TW(e,t){}function IW(e,t){if(1&e&&(y.Xb(0,"div",6),y.Jc(1,TW,0,0,"ng-template",7),y.Wb()),2&e){var i=y.jc();y.oc("ngStyle",i.donutCenterStyle),y.Eb(1),y.oc("ngTemplateOutlet",i.donutCenterTemplate.templateRef)}}var OW,EW,AW,RW,DW,MW=((OW=function e(t){_classCallCheck(this,e),this.configurationService=t,this.axisLabelClick=new y.o,this.drag=new y.o,this.dragEnd=new y.o,this.dragStart=new y.o,this.legendItemHover=new y.o,this.legendItemLeave=new y.o,this.noteClick=new y.o,this.noteHover=new y.o,this.noteLeave=new y.o,this.paneRender=new y.o,this.plotAreaClick=new y.o,this.plotAreaHover=new y.o,this.plotAreaLeave=new y.o,this.render=new y.o,this.select=new y.o,this.selectEnd=new y.o,this.selectStart=new y.o,this.seriesClick=new y.o,this.seriesHover=new y.o,this.seriesOver=new y.o,this.seriesLeave=new y.o,this.zoom=new y.o,this.zoomEnd=new y.o,this.zoomStart=new y.o}).\u0275fac=function(e){y.fc()},OW.\u0275dir=y.Mb({type:OW,inputs:{pannable:"pannable",renderAs:"renderAs",seriesColors:"seriesColors",title:"title",transitions:"transitions",zoomable:"zoomable",axisDefaults:"axisDefaults",categoryAxis:"categoryAxis",chartArea:"chartArea",legend:"legend",panes:"panes",plotArea:"plotArea",series:"series",seriesDefaults:"seriesDefaults",tooltip:"tooltip",valueAxis:"valueAxis",xAxis:"xAxis",yAxis:"yAxis"},outputs:{axisLabelClick:"axisLabelClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",legendItemHover:"legendItemHover",legendItemLeave:"legendItemLeave",noteClick:"noteClick",noteHover:"noteHover",noteLeave:"noteLeave",paneRender:"paneRender",plotAreaClick:"plotAreaClick",plotAreaHover:"plotAreaHover",plotAreaLeave:"plotAreaLeave",render:"render",select:"select",selectEnd:"selectEnd",selectStart:"selectStart",seriesClick:"seriesClick",seriesHover:"seriesHover",seriesOver:"seriesOver",seriesLeave:"seriesLeave",zoom:"zoom",zoomEnd:"zoomEnd",zoomStart:"zoomStart"}}),OW),zW=function e(t,i){_classCallCheck(this,e),this.key=t,this.value=i},PW=((EW=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.store={},this.source=new zt.a({}),this.initSource()}return _createClass(e,[{key:"initSource",value:function(){this.onFastChange$=this.source.asObservable(),this.onChange$=this.onFastChange$.pipe(Vt(1e3/60))}},{key:"push",value:function(e){this.store=e,this.next()}},{key:"notify",value:function(e){this.set(e.key,e.value),this.next()}},{key:"set",value:function(e,t){for(var i=this.store,n=e.split("."),r=n.shift();n.length>0;)i=i[r]=i[r]||{},r=n.shift();i[r]=t}},{key:"next",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.source.next(e.store)}))}}]),e}()).\u0275fac=function(e){return new(e||EW)(y.cc(y.A))},EW.\u0275prov=y.Nb({token:EW,factory:EW.\u0275fac}),EW),FW=function e(t){_classCallCheck(this,e),this.sender=t},LW=function(e){_inherits(i,e);var t=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=t.apply(this,arguments)).prevented=!1,e}return _createClass(i,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),i}(FW),jW=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).series=e.series,r.seriesIndex=e.seriesIndex,r.pointIndex=e.pointIndex,r.text=e.text,r}return i}(LW),VW=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"preventDefault",value:function(){_get(_getPrototypeOf(i.prototype),"preventDefault",this).call(this)}}]),i}(jW),BW=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).category=e.category,r.dataItem=e.dataItem,r.series=e.series,r.value=e.value,r.visual=e.visual,r}return i}(FW),NW=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){return _classCallCheck(this,i),t.call(this,n)}return i}(FW),HW=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).category=e.category,r.dataItem=e.dataItem,r.originalEvent=e.originalEvent,r.percentage=e.percentage,r.point=e.point,r.series=e.series,r.stackValue=e.stackValue,r.value=e.value,r}return i}(LW),GW={axisLabelClick:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axis=e.axis,r.dataItem=e.dataItem,r.index=e.index,r.text=e.text,r.value=e.value,r}return i}(FW),drag:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axisRanges=e.axisRanges,r.originalEvent=e.originalEvent,r}return i}(LW),dragEnd:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axisRanges=e.axisRanges,r.originalEvent=e.originalEvent,r}return i}(FW),dragStart:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axisRanges=e.axisRanges,r.originalEvent=e.originalEvent,r}return i}(LW),legendItemHover:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"preventDefault",value:function(){_get(_getPrototypeOf(i.prototype),"preventDefault",this).call(this)}}]),i}(jW),legendItemLeave:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"preventDefault",value:function(){}},{key:"isDefaultPrevented",value:function(){return!1}}]),i}(jW),noteClick:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(BW),noteHover:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(BW),noteLeave:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(BW),paneRender:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),r=t.call(this,n),Object.assign(_assertThisInitialized(r),e),r}return i}(FW),plotAreaClick:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).category=e.category,r.originalEvent=e.originalEvent,r.value=e.value,r.x=e.x,r.y=e.y,r}return i}(FW),plotAreaHover:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).category=e.category,r.originalEvent=e.originalEvent,r.value=e.value,r.x=e.x,r.y=e.y,r}return i}(FW),plotAreaLeave:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(FW),render:NW,select:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axis=e.axis,r.from=e.from,r.to=e.to,r}return i}(LW),selectEnd:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axis=e.axis,r.from=e.from,r.to=e.to,r}return i}(FW),selectStart:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axis=e.axis,r.from=e.from,r.to=e.to,r}return i}(LW),seriesClick:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).category=e.category,r.dataItem=e.dataItem,r.originalEvent=e.originalEvent,r.percentage=e.percentage,r.point=e.point,r.series=e.series,r.stackValue=e.stackValue,r.value=e.value,r}return i}(FW),seriesHover:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(HW),seriesOver:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(HW),seriesLeave:function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(HW),zoom:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axisRanges=e.axisRanges,r.delta=e.delta,r.originalEvent=e.originalEvent,r}return i}(LW),zoomEnd:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axisRanges=e.axisRanges,r.originalEvent=e.originalEvent,r}return i}(FW),zoomStart:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).axisRanges=e.axisRanges,r.originalEvent=e.originalEvent,r}return i}(LW)},WW=((RW=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t,i){if(GW[e])return new GW[e](t,i)}}]),e}()).\u0275fac=function(e){return new(e||RW)},RW.\u0275prov=y.Nb({token:RW,factory:RW.\u0275fac}),RW),UW=((AW=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||AW)(y.Rb(y.N,8))},AW.\u0275dir=y.Mb({type:AW,selectors:[["","kendoChartDonutCenterTemplate",""]]}),AW),qW=function e(t,i){_classCallCheck(this,e),this.sender=t,this.options=i},XW=((DW=function(){function e(){_classCallCheck(this,e),this.source=new yt.a,this.onItemChange$=this.source.asObservable()}return _createClass(e,[{key:"notify",value:function(e){this.source.next(e)}}]),e}()).\u0275fac=function(e){return new(e||DW)},DW.\u0275prov=y.Nb({token:DW,factory:DW.\u0275fac}),DW);function JW(e,t){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i].currentValue;void 0===n?delete t[i]:t[i]=n}}function YW(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=new y.K(null,e[i],!1));return t}var KW,ZW,$W,QW,eU,tU,iU,nU,rU,aU,oU,sU=((eU=function(){function e(t,i){var n=this;_classCallCheck(this,e),this.configurationService=t,this.collectionService=i,this.options={},this.subscription=t.onFastChange$.subscribe((function(e){n.options=e,n.notify()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this.configurationService.store;JW(e,t),this.configurationService.push(t)}},{key:"notifyChanges",value:function(e){this.ngOnChanges(YW(e))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"notify",value:function(){this.collectionService&&this.collectionService.notify(new qW(this,this.options))}}]),e}()).\u0275fac=function(e){y.fc()},eU.\u0275dir=y.Mb({type:eU,features:[y.Cb]}),eU),lU=((QW=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).configurationService=e,r.collectionService=n,r}return i}(sU)).\u0275fac=function(e){y.fc()},QW.\u0275dir=y.Mb({type:QW,inputs:{aggregate:"aggregate",autoFit:"autoFit",axis:"axis",border:"border",categoryAxis:"categoryAxis",categoryField:"categoryField",closeField:"closeField",color:"color",colorField:"colorField",connectors:"connectors",currentField:"currentField",dashType:"dashType",data:"data",downColor:"downColor",downColorField:"downColorField",dynamicHeight:"dynamicHeight",dynamicSlope:"dynamicSlope",errorHighField:"errorHighField",errorLowField:"errorLowField",explodeField:"explodeField",field:"field",fromField:"fromField",gap:"gap",highField:"highField",holeSize:"holeSize",line:"line",lowField:"lowField",lowerField:"lowerField",margin:"margin",maxSize:"maxSize",meanField:"meanField",medianField:"medianField",minSize:"minSize",missingValues:"missingValues",name:"name",neckRatio:"neckRatio",negativeColor:"negativeColor",negativeValues:"negativeValues",noteTextField:"noteTextField",opacity:"opacity",openField:"openField",outliersField:"outliersField",overlay:"overlay",padding:"padding",q1Field:"q1Field",q3Field:"q3Field",segmentSpacing:"segmentSpacing",size:"size",sizeField:"sizeField",spacing:"spacing",stack:"stack",startAngle:"startAngle",style:"style",summaryField:"summaryField",target:"target",toField:"toField",type:"type",upperField:"upperField",visible:"visible",visibleInLegend:"visibleInLegend",visibleInLegendField:"visibleInLegendField",visual:"visual",width:"width",whiskers:"whiskers",xAxis:"xAxis",xErrorHighField:"xErrorHighField",xErrorLowField:"xErrorLowField",xField:"xField",yAxis:"yAxis",yErrorHighField:"yErrorHighField",yErrorLowField:"yErrorLowField",yField:"yField",zIndex:"zIndex",errorBars:"errorBars",extremes:"extremes",highlight:"highlight",labels:"labels",markers:"markers",notes:"notes",outliers:"outliers",tooltip:"tooltip"},features:[y.Bb]}),QW),cU=(($W=function(){function e(t,i){if(_classCallCheck(this,e),this.configKey=t,this.configurationService=i,this.store={},void 0===t)throw new Error("Configuration key not set")}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.store=void 0,this.notify()}},{key:"ngOnChanges",value:function(e){JW(e,this.store),this.notify()}},{key:"notifyChanges",value:function(e){this.ngOnChanges(YW(e))}},{key:"markAsVisible",value:function(){this.store.visible=!0,this.notify()}},{key:"notify",value:function(){this.configurationService.notify(new zW(this.configKey,this.store))}}]),e}()).\u0275fac=function(e){y.fc()},$W.\u0275dir=y.Mb({type:$W,features:[y.Cb]}),$W),uU=((ZW=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,"tooltip",e)).configurationService=e,n}return i}(cU)).\u0275fac=function(e){y.fc()},ZW.\u0275dir=y.Mb({type:ZW,inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},features:[y.Bb]}),ZW),hU=((KW=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).configurationService=e,n.markAsVisible(),n}return _createClass(i,[{key:"seriesTooltipTemplateRef",get:function(){return this.seriesTooltipTemplate}}]),i}(uU)).\u0275fac=function(e){return new(e||KW)(y.Rb(PW))},KW.\u0275cmp=y.Lb({type:KW,selectors:[["kendo-chart-series-item-tooltip"]],contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,y.N,!0),2&e&&y.zc(n=y.hc())&&(t.seriesTooltipTemplate=n.first)},features:[y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),KW),fU=function(e){return void 0!==e&&!e},dU=((tU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).configurationService=e,r.collectionService=n,r}return _createClass(i,[{key:"toggleVisibility",value:function(){this.options.visible=fU(this.options.visible),this.notify()}},{key:"togglePointVisibility",value:function(e){var t=this.options.pointVisibility=this.options.pointVisibility||{};t[e]=fU(t[e]),this.notify()}},{key:"seriesTooltipTemplateRef",get:function(){if(this.seriesTooltip)return this.seriesTooltip.seriesTooltipTemplateRef}}]),i}(lU)).\u0275fac=function(e){return new(e||tU)(y.Rb(PW),y.Rb(XW))},tU.\u0275cmp=y.Lb({type:tU,selectors:[["kendo-chart-series-item"]],contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,hU,!0),2&e&&y.zc(n=y.hc())&&(t.seriesTooltip=n.first)},features:[y.Db([PW]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),tU),pU=function(e){return"".concat(e.fontSize," ").concat(e.fontFamily)},vU=((iU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).loaded=!1,n}return _createClass(i,[{key:"loadTheme",value:function(){!this.loaded&&Si()&&(this.readTheme()||this.readDefaultTheme(),this.loaded=!0,this.next())}},{key:"readTheme",value:function(){this.createElement();var e=this.queryColor("accent")!==this.queryColor("accent-contrast");try{e&&(this.push(lW()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return e}},{key:"readDefaultTheme",value:function(){this.push(Object.assign({},lW(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},overlay:{gradient:"none"},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]}))}},{key:"createElement",value:function(){var e=this.element=document.createElement("div");e.style.display="none",e.innerHTML='\n    <div class="k-var--accent"></div>\n    <div class="k-var--accent-contrast"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n\n    <div class="k-widget">\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series">\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n    </div>\n',document.body.appendChild(e)}},{key:"destroyElement",value:function(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}},{key:"setStyle",value:function(e,t){this.set(e,t)}},{key:"setColors",value:function(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color");var e=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(e)||(this.setStyle("seriesDefaults.area.opacity",e),this.setStyle("seriesDefaults.labels.opacity",e))}},{key:"setFonts",value:function(){var e=pU(this.queryStyle("chart-font")),t=pU(this.queryStyle("chart-title-font")),i=pU(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",i),this.setStyle("axisDefaults.notes.label.font",e),this.setStyle("axisDefaults.title.font",e),this.setStyle("legend.labels.font",e),this.setStyle("seriesDefaults.labels.font",i),this.setStyle("seriesDefaults.notes.label.font",e),this.setStyle("title.font",t)}},{key:"setSeriesColors",value:function(){var e=[].slice.call(this.element.querySelectorAll(".k-var--series div")).reduce((function(e,t){return e[function(e){return e.match(/series-([a-z])$/)[1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0)}(t.className)]=window.getComputedStyle(t).backgroundColor,e}),[]);this.setStyle("seriesColors",e)}},{key:"mapColor",value:function(e,t){this.setStyle(e,this.queryColor(t))}},{key:"queryColor",value:function(e){return this.queryStyle(e).backgroundColor}},{key:"queryStyle",value:function(e){return window.getComputedStyle(this.element.querySelector(".k-var--".concat(e)))}}]),i}(PW)).\u0275fac=function(e){return new(e||iU)(y.cc(y.A))},iU.\u0275prov=y.Nb({token:iU,factory:iU.\u0275fac}),iU),gU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).handlerMap={hideTooltip:"onHideTooltip",legendItemClick:"onLegendItemClick",render:"onRender",showTooltip:"onShowTooltip",init:"onInit"},n}return i}(IF),mU=((aU=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setTemplate",value:function(e){this.template=e}},{key:"getTemplate",value:function(e){return this.seriesTemplates&&this.seriesTemplates[e]?this.seriesTemplates[e]:this.template}},{key:"setSeriesTemplates",value:function(e){this.seriesTemplates=e}},{key:"setSharedTemplate",value:function(e){this.sharedTemplate=e}},{key:"getSharedTemplate",value:function(){return this.sharedTemplate}}]),e}()).\u0275fac=function(e){return new(e||aU)},aU.\u0275prov=y.Nb({token:aU,factory:aU.\u0275fac}),aU),yU=((rU=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||rU)(y.Rb(y.N,8))},rU.\u0275dir=y.Mb({type:rU,selectors:[["","kendoChartSeriesTooltipTemplate",""]]}),rU),bU=((nU=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||nU)(y.Rb(y.N,8))},nU.\u0275dir=y.Mb({type:nU,selectors:[["","kendoChartSharedTooltipTemplate",""]]}),nU),kU=function(){function e(t,i,n){_classCallCheck(this,e),this.value=t.value,this.category=t.category,this.categoryIndex=t.categoryIx,this.series=t.series,this.dataItem=t.dataItem,this.percentage=t.percentage,this.runningTotal=t.runningTotal,this.total=t.total,this.low=t.low,this.high=t.high,this.xLow=t.xLow,this.xHigh=t.xHigh,this.yLow=t.yLow,this.yHigh=t.yHigh,this.template=n,this.point=t,this.format=i}return _createClass(e,[{key:"formattedValue",get:function(){return this.format?this.point.formatValue(this.format):String(this.value)}}]),e}(),CU={horizontal:"fit",vertical:"fit"},wU=((oU=function(){function e(t,i){_classCallCheck(this,e),this.popupService=t,this.localizationService=i,this.style={},this.popupRef=null}return _createClass(e,[{key:"show",value:function(e){var t=e.anchor.align,i=this.position(e.anchor.point);if(this.style=e.style,this.popupRef){var n=this.popupRef.popup.instance;n.offset=i,n.popupAlign=t}else this.popupRef=this.popupService.open(Object.assign({offset:i,popupAlign:t,animate:this.animate,content:this.templateRef,collision:CU,positionMode:"absolute"},this.popupSettings)),this.localizationService.rtl&&this.popupRef.popupElement.setAttribute("dir","rtl"),this.onInit()}},{key:"hide",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}},{key:"onInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.hide()}},{key:"position",value:function(e){if(!this.popupSettings||!this.popupSettings.appendTo)return e;var t=this.popupSettings.appendTo.element.nativeElement,i=this.getRelativeContextElement(t);if(!i)return e;var n=i.getBoundingClientRect(),r=this.scrollOffset(t),a=r.scrollLeft,o=r.scrollTop;return{left:e.left-n.left-a,top:e.top-n.top-o}}},{key:"getRelativeContextElement",value:function(e){if(!e)return null;for(var t=e.parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}},{key:"scrollOffset",value:function(e){if(!e)return null;for(var t=e.scrollLeft,i=e.scrollTop,n=e.parentElement;n;)t+=n.scrollLeft,i+=n.scrollTop,n=n.parentElement;return{scrollLeft:t,scrollTop:i}}},{key:"active",get:function(){return null!==this.popupRef}}]),e}()).\u0275fac=function(e){y.fc()},oU.\u0275dir=y.Mb({type:oU}),oU);function _U(e,t){for(var i=e;i&&i!==t;)i=i.parentNode;return!!i}function xU(){if(Si())return new y.m(document.body)}var SU,TU,IU,OU=xU,EU=((SU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a){var o;return _classCallCheck(this,i),(o=t.call(this,e,r)).popupService=e,o.templateService=n,o.localizationService=r,o.ngZone=a,o.seriesTooltipContext={},o.seriesSharedTooltipContext={},o.animate=!0,o.wrapperClass="k-chart-tooltip-wrapper",o.leave=new y.o,o.popupClasses={},o}return _createClass(i,[{key:"show",value:function(e){this.shared=e.shared,this.popupClasses=Object.assign(_defineProperty({"k-chart-shared-tooltip":e.shared,"k-chart-tooltip":!0},e.className,!!e.className),this.classNames),e.shared?(this.seriesSharedTooltipTemplateRef=this.templateService.getSharedTemplate()||this.defaultSharedTooltipTemplate.templateRef,this.seriesSharedTooltipContext=this.sharedTemplateContext(e)):(this.seriesTooltipContext=new kU(e.point,e.format),this.seriesTooltipTemplateRef=this.pointTemplateRef(e.point)),_get(_getPrototypeOf(i.prototype),"show",this).call(this,e)}},{key:"containsElement",value:function(e){if(this.popupRef)return _U(e,this.popupRef.popupElement)}},{key:"sharedTemplateContext",value:function(e){var t=e.points.filter((function(e){return void 0!==e.series.name})).length>0,i=e.series.length>1,n=1;return t&&n++,i&&n++,{category:e.category,categoryText:e.categoryText,colorMarker:i,colspan:n,nameColumn:t,points:this.wrapPoints(e.points,e.format)}}},{key:"pointTemplateRef",value:function(e){return this.templateService.getTemplate(e.series.index)||this.defaultSeriesTooltipTemplate.templateRef}},{key:"wrapPoints",value:function(e,t){for(var i=[],n=0;n<e.length;n++){var r=e[n],a=this.pointTemplateRef(r);i.push(new kU(r,((r.options||{}).tooltip||{}).format||t,a))}return i}},{key:"onInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.mouseleaveSubscription=e.popupRef.popupElement.addEventListener("mouseleave",(function(t){e.leave.emit(t)}))})),this.popupRef.popupElement.className+=" ".concat(this.wrapperClass)}},{key:"hide",value:function(){this.mouseleaveSubscription&&(this.mouseleaveSubscription(),this.mouseleaveSubscription=null),_get(_getPrototypeOf(i.prototype),"hide",this).call(this)}}]),i}(wU)).\u0275fac=function(e){return new(e||SU)(y.Rb(ra),y.Rb(mU),y.Rb(cr),y.Rb(y.A))},SU.\u0275cmp=y.Lb({type:SU,selectors:[["kendo-chart-tooltip-popup"]],viewQuery:function(e,t){var i;1&e&&(y.Qc(yU,!0),y.Qc(bU,!0),y.Qc(cW,!0)),2&e&&(y.zc(i=y.hc())&&(t.defaultSeriesTooltipTemplate=i.first),y.zc(i=y.hc())&&(t.defaultSharedTooltipTemplate=i.first),y.zc(i=y.hc())&&(t.templateRef=i.first))},inputs:{animate:"animate",wrapperClass:"wrapperClass",classNames:"classNames",popupSettings:"popupSettings"},outputs:{leave:"leave"},features:[y.Db([ra,{provide:na,useFactory:OU}]),y.Bb],decls:4,vars:0,consts:[["content",""],["kendoChartSeriesTooltipTemplate",""],["kendoChartSharedTooltipTemplate",""],[3,"ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"k-chart-shared-tooltip-marker"]],template:function(e,t){1&e&&(y.Jc(0,pW,3,4,"ng-template",null,0,y.Kc),y.Jc(2,vW,1,1,"ng-template",1),y.Jc(3,wW,5,3,"ng-template",2))},directives:[yU,bU,b.h,b.k,b.j,b.o,b.i],encapsulation:2}),SU),AU=xU,RU=((TU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,e,n)).animate=!1,r}return _createClass(i,[{key:"show",value:function(e){_get(_getPrototypeOf(i.prototype),"show",this).call(this,e),this.value=e.value,this.popupRef.popup.changeDetectorRef.detectChanges()}}]),i}(wU)).\u0275fac=function(e){return new(e||TU)(y.Rb(ra),y.Rb(cr))},TU.\u0275cmp=y.Lb({type:TU,selectors:[["kendo-chart-crosshair-tooltip"]],viewQuery:function(e,t){var i;1&e&&y.Qc(cW,!0),2&e&&y.zc(i=y.hc())&&(t.templateRef=i.first)},inputs:{key:"key",popupSettings:"popupSettings"},features:[y.Db([ra,{provide:na,useFactory:AU}]),y.Bb],decls:2,vars:0,consts:[["content",""],[1,"k-chart-tooltip","k-chart-crosshair-tooltip",3,"ngStyle"]],template:function(e,t){1&e&&y.Jc(0,_W,2,2,"ng-template",null,0,y.Kc)},directives:[b.k],encapsulation:2}),TU),DU=["categoryAxis","valueAxis","xAxis","yAxis"],MU=((IU=function(){function e(){_classCallCheck(this,e),this.tooltipKeys=[],this.tooltipsMap={}}return _createClass(e,[{key:"show",value:function(e){for(var t=this.crossahirTooltipComponents.toArray(),i=e.axisName,n=e.axisIndex,r=0;r<t.length;r++)if(t[r].key===i+n){t[r].show(e);break}}},{key:"hide",value:function(){for(var e=this.crossahirTooltipComponents.toArray(),t=0;t<e.length;t++)e[t].hide()}},{key:"createCrosshairTooltips",value:function(e){var t=this.mapTooltips(e),i=this.tooltipsMap;for(var n in i)t[n]||(this.removeTooltip(n),delete i[n]);for(var r in t)i[r]||(i[r]=t[r],this.tooltipKeys.push(r))}},{key:"removeTooltip",value:function(e){for(var t=this.tooltipKeys,i=0;i<t.length;i++)if(t[i]===e){t.splice(i,1);break}}},{key:"mapTooltips",value:function(e){for(var t={},i=0;i<DU.length;i++)for(var n=this.axesCrosshairTooltipOptions(e,DU[i]),r=0;r<n.length;r++){var a=n[r];t[a.name+a.index]=a}return t}},{key:"axesCrosshairTooltipOptions",value:function(e,t){var i=[];if(e[t])for(var n=[].concat(e[t]),r=0;r<n.length;r++){var a=(n[r].crosshair||{}).tooltip;a&&a.visible&&i.push({index:r,name:t})}return i}},{key:"active",get:function(){return this.tooltipKeys.length>0}}]),e}()).\u0275fac=function(e){return new(e||IU)},IU.\u0275cmp=y.Lb({type:IU,selectors:[["kendo-chart-crosshair-tooltips-container"]],viewQuery:function(e,t){var i;1&e&&y.Qc(RU,!0),2&e&&y.zc(i=y.hc())&&(t.crossahirTooltipComponents=i)},inputs:{popupSettings:"popupSettings"},decls:1,vars:1,consts:[[3,"key","popupSettings",4,"ngFor","ngForOf"],[3,"key","popupSettings"]],template:function(e,t){1&e&&y.Jc(0,xW,1,2,"kendo-chart-crosshair-tooltip",0),2&e&&y.oc("ngForOf",t.tooltipKeys)},directives:[b.i,RU],encapsulation:2}),IU),zU=function(e){return{x:{location:e.pageX},y:{location:e.pageY}}};function PU(e,t){for(var i=0;i<e.length;i++)if(t[e[i]])return!0;return!1}var FU=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}],LU=function(){function e(t,i){_classCallCheck(this,e),this.hammerInstance=t,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),i&&this.bind(i)}return _createClass(e,[{key:"tap",value:function(e){this.trigger("tap",e)}},{key:"press",value:function(e){this.trigger("press",e)}},{key:"panstart",value:function(e){delete this.previous,this.previous=this.trigger("start",e)}},{key:"panmove",value:function(e){this.previous=this.trigger("move",e)}},{key:"panend",value:function(e){this.trigger("end",e),delete this.previous}},{key:"pinchstart",value:function(e){this.trigger("gesturestart",e)}},{key:"pinchmove",value:function(e){this.trigger("gesturechange",e)}},{key:"pinchend",value:function(e){this.trigger("gestureend",e)}},{key:"trigger",value:function(e,t){var i=function(e,t){var i=e.pointers,n=i[0],r=n.pageX,a=n.pageY,o=0;if(i.length>1){var s=i[0],l=i[1];o=Math.sqrt(Math.pow(s.pageX-l.pageX,2)+Math.pow(s.pageY-l.pageY,2))}return{distance:o,event:e.srcEvent,preventDefault:function(){e.preventDefault()},target:e.target,touches:i.map(zU),type:e.type,x:{delta:t?r-t.x.location:0,initialDelta:e.deltaX,location:r,startLocation:r-e.deltaX},y:{delta:t?a-t.y.location:0,initialDelta:e.deltaY,location:a,startLocation:a-e.deltaY}}}(t,this.previous);return this.eventHandlers[e]&&this.eventHandlers[e](i),i}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.unbind(),this.eventHandlers=e;for(var t=0;t<FU.length;t++){var i=FU[t],n=Object.keys(i);if(PU(n,e))for(var r=0;r<n.length;r++){var a=i[n[r]];this.hammerInstance.on(a,this[a])}}}},{key:"unbind",value:function(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}},{key:"destroy",value:function(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}},{key:"toggleDrag",value:function(e){this.toggle("pan",e)}},{key:"toggleZoom",value:function(e){this.toggle("pinch",e)}},{key:"toggle",value:function(e,t){this.hammerInstance&&this.hammerInstance.get(e).set({enable:t})}}]),e}(),jU=vj.prototype.options.labels.dateFormats,VU={milliseconds:"HH:mm:ss.SSS",seconds:{time:"medium"},minutes:{time:"short"},hours:{time:"short"},days:{skeleton:"Md"},weeks:{skeleton:"Md"},months:{skeleton:"yyMMM"},years:{skeleton:"y"}};function BU(e){return e.observers.length>0}Object.assign(oj.prototype.options.labels.dateFormats,VU),Object.assign(jU,VU),gF.register(function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){if("undefined"!=typeof window){var i=window.Hammer;if(!i){if(Object(y.Y)())throw new Error("Hammerjs is not loaded.Solution: http://www.telerik.com/kendo-angular-ui/components/charts/troubleshooting/#toc-hammerjs-is-not-loaded");return}var n=new i(e,{recognizers:[[i.Tap],[i.Pan],[i.Pinch],[i.Press,{time:0}]]});return new LU(n,t)}}}]),e}());var NU,HU,GU,WU,UU,qU,XU,JU,YU,KU,ZU=((YU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r,a,o,s,l,c,u){var h;return _classCallCheck(this,i),(h=t.call(this,e)).configurationService=e,h.themeService=n,h.element=r,h.intl=a,h.localizationService=o,h.ngZone=s,h.instanceEventService=l,h.changeDetector=c,h.renderer=u,h.legendItemClick=new y.o,h.resizeRateLimit=10,h.theme=null,h.suppressTransitions=!1,h.rtl=!1,h.hostClasses=["k-chart","k-widget"],h.themeService.loadTheme(),h.refreshWait(),h}return _createClass(i,[{key:"ngOnInit",value:function(){var e=this;this.element&&(this.hostClasses.forEach((function(t){e.renderer.addClass(e.element.nativeElement,t)})),this.renderer.setStyle(this.element.nativeElement,"position","relative"))}},{key:"ngAfterViewInit",value:function(){var e=this;this.canRender&&this.ngZone.runOutsideAngular((function(){var t=e.renderer.listen(e.surfaceElement.nativeElement,"mouseleave",e.chartMouseleave.bind(e));e.domSubscriptions=function(){t()}})),this.setDirection(),this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.subscriptions.add(this.localizationService.changes.subscribe(this.rtlChange.bind(this)))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.instance&&this.autoResize&&this.ngZone.runOutsideAngular((function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){e.resize()}),0)}))}},{key:"ngOnChanges",value:function(e){var t=this.configurationService.store;JW(e,t),t.popupSettings=null,this.configurationService.push(t)}},{key:"notifyChanges",value:function(e){this.ngOnChanges(YW(e))}},{key:"ngOnDestroy",value:function(){this.destroyed=!0,this.subscription.unsubscribe(),this.domSubscriptions&&(this.domSubscriptions(),this.domSubscriptions=null),this.instance&&(this.instance.destroy(),this.instance=null),this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.resizeTimeout),clearTimeout(this.redrawTimeout)}},{key:"createInstance",value:function(e,t){this.instance=new JH(e,this.options,this.theme,{intlService:this.intl,observer:t,rtl:this.rtl,sender:this})}},{key:"exportImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return cd(this.exportVisual(e),e)}},{key:"exportSVG",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ud(this.exportVisual(e),e)}},{key:"exportVisual",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.instance.exportVisual(e)}},{key:"findAxisByName",value:function(e){if(this.instance)return this.instance.findAxisByName(e)}},{key:"findPaneByIndex",value:function(e){if(this.instance)return this.instance.findPaneByIndex(e)}},{key:"findPaneByName",value:function(e){if(this.instance)return this.instance.findPaneByName(e)}},{key:"getPlotArea",value:function(){if(this.instance)return this.instance.plotArea()}},{key:"toggleHighlight",value:function(e,t){this.instance&&this.instance.toggleHighlight(e,t)}},{key:"hideTooltip",value:function(){this.instance&&this.instance.hideTooltip()}},{key:"showTooltip",value:function(e){this.instance&&this.instance.showTooltip(e)}},{key:"init",value:function(){if(this.canRender){var e=this.surfaceElement.nativeElement,t=new gU(this);this.createInstance(e,t)}}},{key:"resize",value:function(){this.instance&&this.instance.resize()}},{key:"onResize",value:function(e){this.autoResize&&this.resize()}},{key:"onLegendItemClick",value:function(e){var t=this;this.run((function(){var i=new VW(e,t);if(t.legendItemClick.emit(i),!i.isDefaultPrevented()){var n=t.seriesComponents.toArray()[e.series.index];if(!n)return;void 0===e.pointIndex?n.toggleVisibility():n.togglePointVisibility(e.pointIndex),t.suppressTransitions=!0}}),BU(this.legendItemClick),this.seriesComponents.length>0)}},{key:"onInit",value:function(e){this.instance=e.sender}},{key:"onRender",value:function(e){var t=this,i=this.getDonutCenterStyle();this.run((function(){var n=new NW(e,t);t.surface=e.sender.surface,t.render.emit(n),t.donutCenterStyle=i}),BU(this.render),this.donutCenterStyle!==i)}},{key:"onShowTooltip",value:function(e){var t=this;this.run((function(){e.crosshair?t.crossahirTooltips.show(e):t.tooltipInstance.show(e)}),!e.crosshair,!0)}},{key:"onHideTooltip",value:function(e){e.crosshair?this.crossahirTooltips.active&&(this.crossahirTooltips.hide(),this.detectChanges()):this.tooltipInstance.active&&(this.tooltipInstance.hide(),this.detectChanges())}},{key:"trigger",value:function(e,t){if("resize"!==e){var i=this.activeEmitter(e);if(i){var n=this.instanceEventService.create(e,t,this);return this.run((function(){i.emit(n)})),n.isDefaultPrevented&&n.isDefaultPrevented()}}}},{key:"requiresHandlers",value:function(e){for(var t=0;t<e.length;t++)if(this.activeEmitter(e[t]))return!0;return!1}},{key:"refresh",value:function(){if(clearTimeout(this.redrawTimeout),this.updateDirection(),this.crossahirTooltips.createCrosshairTooltips(this.options),this.setChartAreaSize(),this.instance){var e=this.options.transitions;this.suppressTransitions&&(this.options.transitions=!1),this.updateOptions(),this.suppressTransitions&&(this.options.transitions=e,this.suppressTransitions=!1)}else this.init()}},{key:"setChartAreaSize",value:function(){if(this.element){var e=this.element.nativeElement,t=this.options.chartArea||{};t.width&&(e.style.width="".concat(t.width,"px")),t.height&&(e.style.height="".concat(t.height,"px"))}}},{key:"updateOptions",value:function(){this.instance.setOptions(this.options)}},{key:"tooltipMouseleave",value:function(e){var t=e.relatedTarget;!this.instance||t&&_U(t,this.element.nativeElement)||this.instance.hideElements()}},{key:"chartMouseleave",value:function(e){var t=e.relatedTarget,i=this.element.nativeElement;!this.instance||t&&(this.tooltipInstance.containsElement(t)||_U(t,i))||this.instance.handlingTap||this.instance.hideElements()}},{key:"activeEmitter",value:function(e){var t=this[e];if(t&&t.emit&&BU(t))return t}},{key:"getDonutCenterStyle",value:function(){if(this.instance&&this.options&&this.options.series){var e=this.options.series[0],t=this.instance._plotArea.charts;if(e&&"donut"===e.type&&0!==t[0].points.length){var i=t[0].points[0],n=i.box.center(),r=i.sector.innerRadius,a=2*r;return{height:a+"px",left:n.x-r+"px",top:n.y-r+"px",width:a+"px"}}}}},{key:"refreshWait",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=Object(Ny.a)(e.configurationService.onChange$,e.themeService.onChange$).pipe(Object(Ut.a)((function(t){e.options=t[0],e.theme=t[1]})),Vt(1e3/60)).subscribe((function(){e.refresh()}))}))}},{key:"run",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;t?(i&&this.changeDetector.markForCheck(),this.ngZone.run(e)):(e(),i&&this.detectChanges())}},{key:"detectChanges",value:function(){this.destroyed||this.changeDetector.detectChanges()}},{key:"intlChange",value:function(){this.instance&&this.deferredRedraw()}},{key:"rtlChange",value:function(){this.instance&&this.rtl!==this.isRTL&&this.deferredRedraw()}},{key:"deferredRedraw",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){clearTimeout(e.redrawTimeout),e.redrawTimeout=setTimeout((function(){e.updateDirection(),e.instance.noTransitionsRedraw()}),0)}))}},{key:"updateDirection",value:function(){var e=this.isRTL;this.rtl!==e&&(this.setDirection(),this.instance&&this.instance.setDirection(e))}},{key:"setDirection",value:function(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}},{key:"canRender",get:function(){return Si()&&Boolean(this.surfaceElement)}},{key:"autoResize",get:function(){return this.resizeRateLimit>0}},{key:"isRTL",get:function(){return Boolean(this.localizationService.rtl)}}]),i}(MW)).\u0275fac=function(e){return new(e||YU)(y.Rb(PW),y.Rb(vU),y.Rb(y.m),y.Rb(dm),y.Rb(cr),y.Rb(y.A),y.Rb(WW),y.Rb(y.h),y.Rb(y.F))},YU.\u0275cmp=y.Lb({type:YU,selectors:[["kendo-chart"]],contentQueries:function(e,t,i){var n;1&e&&(y.Kb(i,UW,!0),y.Kb(i,dU,!0)),2&e&&(y.zc(n=y.hc())&&(t.donutCenterTemplate=n.first),y.zc(n=y.hc())&&(t.seriesComponents=n))},viewQuery:function(e,t){var i;1&e&&(y.Qc(EU,!0),y.Qc(MU,!0),y.Qc(SW,!0)),2&e&&(y.zc(i=y.hc())&&(t.tooltipInstance=i.first),y.zc(i=y.hc())&&(t.crossahirTooltips=i.first),y.zc(i=y.hc())&&(t.surfaceElement=i.first))},inputs:{resizeRateLimit:"resizeRateLimit",popupSettings:"popupSettings"},outputs:{legendItemClick:"legendItemClick"},exportAs:["kendoChart"],features:[y.Db([PW,mU,WW,cr,{provide:lr,useValue:"kendo.chart"}]),y.Bb,y.Cb],decls:6,vars:4,consts:[[1,"k-chart-surface"],["surface",""],[3,"popupSettings"],[3,"popupSettings","leave"],[3,"rateLimit","resize"],["class","k-chart-donut-center",3,"ngStyle",4,"ngIf"],[1,"k-chart-donut-center",3,"ngStyle"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(y.Sb(0,"div",0,1),y.Sb(2,"kendo-chart-crosshair-tooltips-container",2),y.Xb(3,"kendo-chart-tooltip-popup",3),y.gc("leave",(function(e){return t.tooltipMouseleave(e)})),y.Wb(),y.Xb(4,"kendo-resize-sensor",4),y.gc("resize",(function(e){return t.onResize(e)})),y.Wb(),y.Jc(5,IW,2,2,"div",5)),2&e&&(y.Eb(2),y.oc("popupSettings",t.popupSettings),y.Eb(1),y.oc("popupSettings",t.popupSettings),y.Eb(1),y.oc("rateLimit",t.resizeRateLimit),y.Eb(1),y.oc("ngIf",t.donutCenterStyle&&t.donutCenterTemplate))},directives:[MU,EU,Ni,b.j,b.k,b.o],encapsulation:2,changeDetection:0}),YU),$U=((JU=function(){function e(t,i,n){var r=this;_classCallCheck(this,e),this.configKey=t,this.configurationService=i,this.collectionService=n,this.items=[],this.subscription=n.onItemChange$.subscribe((function(e){return r.processChanges(e)}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"ngAfterContentInit",value:function(){var e=this;this.readItems(),this.children.changes.subscribe((function(){return e.readItems()}))}},{key:"processChanges",value:function(e){if(this.children){var t=this.children.toArray().indexOf(e.sender);t<0||(this.items[t]=e.options,this.change())}}},{key:"readItems",value:function(){this.items=this.children.map((function(e){return e.options})),this.change()}},{key:"change",value:function(){this.configurationService.notify(new zW(this.configKey,this.items))}}]),e}()).\u0275fac=function(e){y.fc()},JU.\u0275dir=y.Mb({type:JU}),JU),QU=((XU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,"legend",e)).configurationService=e,n}return i}(cU)).\u0275fac=function(e){y.fc()},XU.\u0275dir=y.Mb({type:XU,inputs:{align:"align",background:"background",border:"border",height:"height",labels:"labels",margin:"margin",offsetX:"offsetX",offsetY:"offsetY",orientation:"orientation",padding:"padding",position:"position",reverse:"reverse",visible:"visible",width:"width",markers:"markers",spacing:"spacing",inactiveItems:"inactiveItems",item:"item"},features:[y.Bb]}),XU),eq=((qU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).configurationService=e,n.markAsVisible(),n}return i}(QU)).\u0275fac=function(e){return new(e||qU)(y.Rb(PW))},qU.\u0275cmp=y.Lb({type:qU,selectors:[["kendo-chart-legend"]],features:[y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),qU),tq=((UU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,"series",e,n)).configurationService=e,r.collectionService=n,r}return i}($U)).\u0275fac=function(e){y.fc()},UU.\u0275dir=y.Mb({type:UU,contentQueries:function(e,t,i){var n;1&e&&y.Kb(i,dU,!1),2&e&&y.zc(n=y.hc())&&(t.children=n)},features:[y.Bb]}),UU),iq=((WU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n,r){var a;return _classCallCheck(this,i),(a=t.call(this,e,n)).configurationService=e,a.collectionService=n,a.tooltipTemplateService=r,a}return _createClass(i,[{key:"ngAfterContentChecked",value:function(){this.readTooltipTemplates()}},{key:"readTooltipTemplates",value:function(){var e=this.children.map((function(e){return e.seriesTooltipTemplateRef}));this.tooltipTemplateService.setSeriesTemplates(e)}}]),i}(tq)).\u0275fac=function(e){return new(e||WU)(y.Rb(PW),y.Rb(XW),y.Rb(mU))},WU.\u0275cmp=y.Lb({type:WU,selectors:[["kendo-chart-series"]],features:[y.Db([XW]),y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),WU),nq=((GU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,"labels",e)).configurationService=e,n}return i}(cU)).\u0275fac=function(e){y.fc()},GU.\u0275dir=y.Mb({type:GU,inputs:{align:"align",background:"background",border:"border",color:"color",content:"content",distance:"distance",font:"font",format:"format",margin:"margin",padding:"padding",position:"position",rotation:"rotation",visible:"visible",visual:"visual",from:"from",to:"to"},features:[y.Bb]}),GU),rq=((HU=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this,e)).configurationService=e,n.markAsVisible(),n}return i}(nq)).\u0275fac=function(e){return new(e||HU)(y.Rb(PW))},HU.\u0275cmp=y.Lb({type:HU,selectors:[["kendo-chart-series-item-labels"]],features:[y.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),HU),aq=((NU=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(PW)).\u0275fac=function(e){return oq(e||NU)},NU.\u0275prov=y.Nb({token:NU,factory:NU.\u0275fac}),NU),oq=y.Zb(aq),sq={navigatorFilter:function(e){_inherits(i,e);var t=_createSuper(i);function i(e,n){var r;return _classCallCheck(this,i),(r=t.call(this,n)).from=e.from,r.to=e.to,r}return i}(FW)},lq=((KU=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return _createClass(i,[{key:"create",value:function(e,t,n){return sq[e]?new sq[e](t,n):_get(_getPrototypeOf(i.prototype),"create",this).call(this,e,t,n)}}]),i}(WW)).\u0275fac=function(e){return cq(e||KU)},KU.\u0275prov=y.Nb({token:KU,factory:KU.\u0275fac}),KU),cq=y.Zb(lq);new y.r("configuration prefix");var uq,hq,fq,dq,pq=((dq=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:dq}),dq.\u0275inj=y.Ob({factory:function(e){return new(e||dq)},providers:[vU],imports:[[b.b,aa,Hi]]}),dq),vq=((fq=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:fq}),fq.\u0275inj=y.Ob({factory:function(e){return new(e||fq)},imports:[[pq,b.b,aa,Hi],pq]}),fq),gq=((hq=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:hq}),hq.\u0275inj=y.Ob({factory:function(e){return new(e||hq)},imports:[[pq,b.b,aa,Hi],pq]}),hq),mq=((uq=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:uq}),uq.\u0275inj=y.Ob({factory:function(e){return new(e||uq)},imports:[pq,gq,vq]}),uq);i("yLV6");var yq,bq=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=y.Pb({type:e}),e.\u0275inj=y.Ob({factory:function(t){return new(t||e)},imports:[[],b.b,OP,EP.a,MP,mq]}),e}(),kq=i("AytR"),Cq=i("12jx"),wq=i("tk/3"),_q=((yq=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"ranking",value:function(){return this.http.get("".concat(kq.a.corsHeroku,"/").concat(kq.a.flyffUrl,"/ranking"),{responseType:"text"})}}]),e}()).\u0275fac=function(e){return new(e||yq)(y.cc(wq.a))},yq.\u0275prov=y.Nb({token:yq,factory:yq.\u0275fac,providedIn:"root"}),yq);function xq(e,t){if(1&e&&y.Sb(0,"img",11),2&e){var i=y.jc();y.oc("src",i.player.rank,y.Ec)}}function Sq(e,t){if(1&e&&(y.Xb(0,"span",8),y.Lc(1),y.Wb()),2&e){var i=y.jc();y.Eb(1),y.Mc(i.player.rank)}}var Tq,Iq=((Tq=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Tq)},Tq.\u0275cmp=y.Lb({type:Tq,selectors:[["app-ranking-player-info"]],inputs:{player:"player",title:"title"},decls:34,vars:13,consts:[[1,"row","mt-3","shadow","pt-2","pb-2","bg-white","rounded"],[1,"col-12","fs-20"],[2,"padding-left","15px",3,"vertical"],[1,"col","min-width-unset","pr-1","pl-1"],[1,"fs-11","fw-500","tx-color-grey"],["class","fs-16",3,"src",4,"ngIf"],["class","fs-16 tx-color-blue",4,"ngIf"],[3,"vertical"],[1,"fs-16","tx-color-blue"],[1,"fs-11","fw-500","tx-color-grey",2,"white-space","nowrap"],[2,"margin-right","15px",3,"vertical"],[1,"fs-16",3,"src"]],template:function(e,t){1&e&&(y.Xb(0,"div",0),y.Xb(1,"div",1),y.Lc(2),y.Wb(),y.Sb(3,"mat-divider",2),y.Xb(4,"div",3),y.Xb(5,"div",4),y.Lc(6,"Rank"),y.Wb(),y.Jc(7,xq,1,1,"img",5),y.Jc(8,Sq,2,1,"span",6),y.Wb(),y.Sb(9,"mat-divider",7),y.Xb(10,"div",3),y.Xb(11,"div",4),y.Lc(12,"Nome"),y.Wb(),y.Xb(13,"div",8),y.Lc(14),y.Wb(),y.Wb(),y.Sb(15,"mat-divider",7),y.Xb(16,"div",3),y.Xb(17,"div",4),y.Lc(18,"Classe"),y.Wb(),y.Xb(19,"div",8),y.Lc(20),y.Wb(),y.Wb(),y.Sb(21,"mat-divider",7),y.Xb(22,"div",3),y.Xb(23,"div",9),y.Lc(24,"Tempo On"),y.Wb(),y.Xb(25,"div",8),y.Lc(26),y.Wb(),y.Wb(),y.Sb(27,"mat-divider",7),y.Xb(28,"div",3),y.Xb(29,"div",4),y.Lc(30,"Level"),y.Wb(),y.Xb(31,"div",8),y.Lc(32),y.Wb(),y.Wb(),y.Sb(33,"mat-divider",10),y.Wb()),2&e&&(y.Eb(2),y.Nc(" ",t.title," "),y.Eb(1),y.oc("vertical",!0),y.Eb(4),y.oc("ngIf",t.player.rank.includes("images")),y.Eb(1),y.oc("ngIf",!t.player.rank.includes("images")),y.Eb(1),y.oc("vertical",!0),y.Eb(5),y.Mc(t.player.nome),y.Eb(1),y.oc("vertical",!0),y.Eb(5),y.Mc(t.player.classe.className),y.Eb(1),y.oc("vertical",!0),y.Eb(5),y.Nc("",t.player.tempoOn,"h"),y.Eb(1),y.oc("vertical",!0),y.Eb(5),y.Mc(t.player.level),y.Eb(1),y.oc("vertical",!0))},directives:[DP,b.j],styles:[""]}),Tq);function Oq(e,t){if(1&e&&y.Sb(0,"kendo-grid-string-filter-cell",8),2&e){var i=t.$implicit,n=t.column;y.oc("showOperators",!1)("column",n)("filter",i)}}function Eq(e,t){if(1&e&&y.Sb(0,"img",11),2&e){var i=y.jc().$implicit;y.oc("src",i.rank,y.Ec)}}function Aq(e,t){if(1&e&&(y.Xb(0,"span"),y.Lc(1),y.Wb()),2&e){var i=y.jc().$implicit;y.Eb(1),y.Mc(i.rank)}}function Rq(e,t){if(1&e&&(y.Jc(0,Eq,1,1,"img",9),y.Jc(1,Aq,2,1,"span",10)),2&e){var i=t.$implicit;y.oc("ngIf",i.rank.includes("images")),y.Eb(1),y.oc("ngIf",!i.rank.includes("images"))}}function Dq(e,t){if(1&e&&y.Sb(0,"kendo-grid-string-filter-cell",12),2&e){var i=t.$implicit,n=t.column;y.oc("showOperators",!1)("column",n)("filter",i)}}function Mq(e,t){if(1&e&&(y.Sb(0,"img",11),y.Sb(1,"img",13),y.Lc(2)),2&e){var i=t.$implicit;y.oc("src",i.classe.url1,y.Ec),y.Eb(1),y.oc("src",i.classe.url2,y.Ec),y.Eb(1),y.Nc(" ",i.classe.className," ")}}function zq(e,t){if(1&e&&y.Sb(0,"kendo-grid-string-filter-cell",8),2&e){var i=t.$implicit,n=t.column;y.oc("showOperators",!1)("column",n)("filter",i)}}function Pq(e,t){if(1&e&&y.Sb(0,"kendo-grid-string-filter-cell",8),2&e){var i=t.$implicit,n=t.column;y.oc("showOperators",!1)("column",n)("filter",i)}}var Fq,Lq=((Fq=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Fq)},Fq.\u0275cmp=y.Lb({type:Fq,selectors:[["app-ranking-level-table"]],inputs:{ranking:"ranking"},decls:12,vars:10,consts:[[3,"height","kendoGridBinding","filterable","sortable"],["field","rank","title","Rank",1,"tx-color-blue",3,"width"],["kendoGridFilterCellTemplate",""],["kendoGridCellTemplate",""],["field","nome","title","Nome",3,"width"],["field","classe.num","title","Classe",1,"tx-color-grey",3,"filterable","width"],["field","tempoOn","title","Tempo On (horas)",3,"width"],["field","level","title","Level",3,"width"],["operator","eq",3,"showOperators","column","filter"],[3,"src",4,"ngIf"],[4,"ngIf"],[3,"src"],["operator","contains",3,"showOperators","column","filter"],[1,"ml-2",3,"src"]],template:function(e,t){1&e&&(y.Xb(0,"kendo-grid",0),y.Xb(1,"kendo-grid-column",1),y.Jc(2,Oq,1,3,"ng-template",2),y.Jc(3,Rq,2,2,"ng-template",3),y.Wb(),y.Xb(4,"kendo-grid-column",4),y.Jc(5,Dq,1,3,"ng-template",2),y.Wb(),y.Xb(6,"kendo-grid-column",5),y.Jc(7,Mq,3,3,"ng-template",3),y.Wb(),y.Xb(8,"kendo-grid-column",6),y.Jc(9,zq,1,3,"ng-template",2),y.Wb(),y.Xb(10,"kendo-grid-column",7),y.Jc(11,Pq,1,3,"ng-template",2),y.Wb(),y.Wb()),2&e&&(y.oc("height",500)("kendoGridBinding",t.ranking)("filterable",!0)("sortable",!0),y.Eb(1),y.oc("width",100),y.Eb(3),y.oc("width",150),y.Eb(2),y.oc("filterable",!1)("width",150),y.Eb(2),y.oc("width",150),y.Eb(2),y.oc("width",150))},directives:[EA,GD,RI,II,YT,mM,b.j],styles:[""]}),Fq);function jq(e,t){if(1&e){var i=y.Yb();y.Xb(0,"div",3),y.Xb(1,"div",4),y.Xb(2,"p"),y.Lc(3,"Problemas ao carregar os dados, tente novamente!"),y.Wb(),y.Xb(4,"button",5),y.gc("click",(function(){return y.Cc(i),y.jc().getHtmlCode()})),y.Lc(5,"Recarregar"),y.Wb(),y.Wb(),y.Wb()}}function Vq(e,t){if(1&e&&y.Sb(0,"app-ranking-player-info",19),2&e){var i=y.jc(2);y.oc("player",i.ranking[0])}}function Bq(e,t){if(1&e&&y.Sb(0,"app-ranking-player-info",20),2&e){var i=y.jc(2);y.oc("player",i.maiorTempo)}}function Nq(e,t){if(1&e&&y.Sb(0,"app-ranking-player-info",21),2&e){var i=y.jc(2);y.oc("player",i.menorTempo)}}function Hq(e,t){if(1&e&&(y.Xb(0,"div",22),y.Xb(1,"div",4),y.Xb(2,"span",23),y.Lc(3,"Quantidade de cada classe"),y.Wb(),y.Xb(4,"kendo-chart",24),y.Xb(5,"kendo-chart-series"),y.Xb(6,"kendo-chart-series-item",25),y.Sb(7,"kendo-chart-series-item-labels",26),y.Wb(),y.Wb(),y.Sb(8,"kendo-chart-legend",27),y.Wb(),y.Wb(),y.Wb()),2&e){var i=y.jc(2);y.Eb(6),y.oc("autoFit",!0)("data",i.qtdeClasses),y.Eb(1),y.oc("content",i.labelContent),y.Eb(1),y.oc("visible",!1)}}var Gq=function(e){return{"pl-0 pr-0":e}};function Wq(e,t){if(1&e&&(y.Xb(0,"div",28),y.Xb(1,"div",29),y.Sb(2,"app-ranking-level-table",30),y.Wb(),y.Wb()),2&e){var i=y.jc(2);y.Eb(1),y.oc("ngClass",y.rc(2,Gq,i.mobile)),y.Eb(1),y.oc("ranking",i.ranking)}}var Uq=function(e,t){return{"ml-0 mr-0":e,"mt-3":t}};function qq(e,t){if(1&e&&(y.Xb(0,"div",6),y.Xb(1,"div",7),y.Xb(2,"div",8),y.Xb(3,"div",4),y.Xb(4,"h1",9),y.Lc(5,"Estat\xedsticas"),y.Wb(),y.Xb(6,"p",10),y.Lc(7,"Dados obtidos atrav\xe9s de "),y.Xb(8,"a",11),y.Lc(9,"https://flyff.gpotato.com.br/ranking"),y.Wb(),y.Wb(),y.Wb(),y.Wb(),y.Jc(10,Vq,1,1,"app-ranking-player-info",12),y.Jc(11,Bq,1,1,"app-ranking-player-info",13),y.Jc(12,Nq,1,1,"app-ranking-player-info",14),y.Jc(13,Hq,9,4,"div",15),y.Wb(),y.Xb(14,"div",16),y.Xb(15,"div",17),y.Xb(16,"div",4),y.Xb(17,"h1",9),y.Lc(18,"Rank de Level"),y.Wb(),y.Wb(),y.Wb(),y.Jc(19,Wq,3,4,"div",18),y.Wb(),y.Wb()),2&e){var i=y.jc();y.Eb(10),y.oc("ngIf",i.ranking[0]),y.Eb(1),y.oc("ngIf",i.maiorTempo),y.Eb(1),y.oc("ngIf",i.menorTempo),y.Eb(1),y.oc("ngIf",i.qtdeClasses),y.Eb(2),y.oc("ngClass",y.sc(6,Uq,!i.mobile,i.mobile)),y.Eb(4),y.oc("ngIf",i.ranking.length>0)}}var Xq,Jq,Yq,Kq=((Xq=function(){function e(t){_classCallCheck(this,e),this.flyffService=t,this.ranking=[],this.classes={26:"Jester",29:"Billposter",32:"Knight",33:"Blade",34:"Jester",35:"Ranger",36:"Ringmaster",37:"Billposter",38:"Psykeeper",39:"Elementor"},this.refresh=!1,this.dataTeste=[{kind:"Hydroelectric",share:.175},{kind:"Nuclear",share:.238},{kind:"Coal",share:.118},{kind:"Solar",share:.052},{kind:"Wind",share:.225},{kind:"Other",share:.192}]}return _createClass(e,[{key:"onResize",value:function(e){this.mobile=window.innerWidth<=415}},{key:"ngOnInit",value:function(){this.mobile=window.innerWidth<=415,this.getHtmlCode()}},{key:"labelContent",value:function(e){return"".concat(e.category," (").concat(e.dataItem.quantidade,")")}},{key:"getHtmlCode",value:function(){var e=this;this.blockUI.start(),this.flyffService.ranking().subscribe((function(t){e.pushArray(t),e.refresh=!1}),(function(t){console.log("Error",t),e.refresh=!0})).add((function(){e.blockUI.stop()}))}},{key:"pushArray",value:function(e){var t=this,i=document.createElement("div");i.innerHTML=e.trim(),i.querySelector(".tabela_rank").querySelector("tbody").querySelectorAll("tr").forEach((function(e,i){var n=e.querySelectorAll("td"),r=n[0].querySelector("img"),a=t.getNumClass(n[2].querySelector("img").src.split("/").slice(-1)[0].split(".")[0]);t.ranking.push({rank:r?"".concat(kq.a.flyffUrl,"/public/img/frontend/tools/modules/ranking/images/").concat(r.src.split("/").slice(-1)):n[0].innerHTML.trim(),nome:n[1].innerHTML.trim(),classe:{num:a,url1:"".concat(kq.a.flyffUrl,"/public/img/frontend/rank_icons/").concat(n[2].querySelector("img").src.split("/").slice(-1)),url2:"".concat(kq.a.flyffUrl,"/public/img/frontend/rank_icons/").concat(n[2].querySelectorAll("img")[1].src.split("/").slice(-1)),className:t.classes[a]},tempoOn:parseInt(n[3].innerHTML.trim()),level:n[4].innerHTML.trim()})})),this.ranking&&(this.getMenorTempo(),this.getMaiorTempo(),this.getQdeClasses())}},{key:"getNumClass",value:function(e){return 26==e?34:29==e?37:parseInt(e)}},{key:"getMenorTempo",value:function(){this.menorTempo=this.ranking.reduce((function(e,t){return t.tempoOn<e.tempoOn&&(e=t),e}))}},{key:"getMaiorTempo",value:function(){this.maiorTempo=this.ranking.reduce((function(e,t){return t.tempoOn>e.tempoOn&&(e=t),e}))}},{key:"getQdeClasses",value:function(){var e,t={Knight:0,Blade:0,Jester:0,Ranger:0,Ringmaster:0,Billposter:0,Psykeeper:0,Elementor:0},i=_createForOfIteratorHelper(this.ranking);try{for(i.s();!(e=i.n()).done;){var n=e.value;t[this.classes[n.classe.num]]+=1}}catch(r){i.e(r)}finally{i.f()}this.qtdeClasses=Object.entries(t).map((function(e){return{classe:e[0],quantidade:e[1]}}))}}]),e}()).\u0275fac=function(e){return new(e||Xq)(y.Rb(_q))},Xq.\u0275cmp=y.Lb({type:Xq,selectors:[["app-ranking-level"]],hostBindings:function(e,t){1&e&&y.gc("resize",(function(e){return t.onResize(e)}),!1,y.Bc)},decls:3,vars:2,consts:[[1,"container-fluid",2,"margin-bottom","100px"],["class","row mt-5 mb-5",4,"ngIf"],["class","row mt-5",4,"ngIf"],[1,"row","mt-5","mb-5"],[1,"col"],["type","button",1,"btn","btn-primary",3,"click"],[1,"row","mt-5"],[1,"col-lg-4","col-xl-4","col-sm-12"],[1,"row","shadow","pt-2","pb-2","bg-white","rounded"],[1,"fw-300"],[1,"fs-10"],["href","https://flyff.gpotato.com.br/ranking","target","_blank"],["title","Top Level",3,"player",4,"ngIf"],["title","Mais horas de jogo",3,"player",4,"ngIf"],["title","Menos horas de jogo",3,"player",4,"ngIf"],["class","row mt-3 shadow pt-2 pb-2 bg-white rounded",4,"ngIf"],[1,"col-lg-8","col-xl-8","col-sm-12"],[1,"row","pt-2","pb-2","shadow","bg-white","rounded",3,"ngClass"],["class","row mt-3",4,"ngIf"],["title","Top Level",3,"player"],["title","Mais horas de jogo",3,"player"],["title","Menos horas de jogo",3,"player"],[1,"row","mt-3","shadow","pt-2","pb-2","bg-white","rounded"],[1,"fs-20"],[1,"ml-n3","mr-n3"],["type","donut","categoryField","classe","field","quantidade",3,"autoFit","data"],["position","outsideEnd","font","14","color","#333","background","none",3,"content"],[3,"visible"],[1,"row","mt-3"],[1,"col",3,"ngClass"],[3,"ranking"]],template:function(e,t){1&e&&(y.Xb(0,"div",0),y.Jc(1,jq,6,0,"div",1),y.Jc(2,qq,20,9,"div",2),y.Wb()),2&e&&(y.Eb(1),y.oc("ngIf",t.refresh),y.Eb(1),y.oc("ngIf",!t.refresh))},directives:[b.j,b.h,Iq,ZU,iq,dU,rq,eq,Lq],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:30px;padding-top:0;padding-bottom:0;vertical-align:middle}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500}"]}),function(e,t,i,n){var r,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,i,o):r(t,i))||o);a>3&&o&&Object.defineProperty(t,i,o)}([Object(Cq.a)()],Xq.prototype,"blockUI",void 0),Xq),Zq=i("tyNb"),$q=[{path:"",component:Kq}],Qq=((Yq=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Yq}),Yq.\u0275inj=y.Ob({factory:function(e){return new(e||Yq)},imports:[[Zq.a.forChild($q)],Zq.a]}),Yq),eX=((Jq=function e(){_classCallCheck(this,e)}).\u0275mod=y.Pb({type:Jq}),Jq.\u0275inj=y.Ob({factory:function(e){return new(e||Jq)},imports:[[bq,Qq]]}),Jq)},"wSl+":function(e,t,i){e.exports=function e(t,i,n){function r(o,s){if(!i[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};t[o][0].call(c.exports,(function(e){return r(t[o][1][e]||e)}),c,c.exports,e,t,i,n)}return i[o].exports}for(var a=!1,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)r(i,n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var a=0;a<n;a++)e[r+a]=t[i+a]},flattenChunks:function(e){var t,i,n,r,a,o;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),r=0,t=0,i=e.length;t<i;t++)o.set(a=e[t],r),r+=a.length;return o}},o={arraySet:function(e,t,i,n,r){for(var a=0;a<n;a++)e[r+a]=t[i+a]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],2:[function(e,t,i){"use strict";var n=e("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(c){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",o=0;o<t;o++)i+=String.fromCharCode(e[o]);return i}o[254]=o[254]=1,i.string2buf=function(e){var t,i,r,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(r-56320),a++),l+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(i=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(i=65536+(i-55296<<10)+(r-56320),a++),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},i.buf2binstring=function(e){return l(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,a,s=t||e.length,c=new Array(2*s);for(n=0,i=0;i<s;)if((r=e[i++])<128)c[n++]=r;else if((a=o[r])>4)c[n++]=65533,i+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&i<s;)r=r<<6|63&e[i++],a--;a>1?c[n++]=65533:r<65536?c[n++]=r:(c[n++]=55296|(r-=65536)>>10&1023,c[n++]=56320|1023&r)}return l(c,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+o[e[i]]>t?i:t}},{"./common":1}],3:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{a=a+(r=r+t[n++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}},{}],4:[function(e,t,i){"use strict";var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,r){var a=n,o=r+i;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],5:[function(e,t,i){"use strict";var n,r=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages");function c(e,t){return e.msg=l[t],t}function u(e){return(e<<1)-(e>4?9:0)}function h(e){for(var t=e.length;--t>=0;)e[t]=0}function f(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function d(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,f(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var i,n,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,h=e.prev,f=e.strstart+258,d=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+o]===p&&c[i+o-1]===d&&c[i]===c[a]&&c[++i]===c[a+1]){a+=2,i++;do{}while(c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&c[++a]===c[++i]&&a<f);if(n=258-(f-a),a=f-258,n>o){if(e.match_start=t,o=n,n>=s)break;d=c[a+o-1],p=c[a+o]}}}while((t=h[t&u])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead}function m(e){var t,i,n,a,l,c,u,h,f,d,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-262)){r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--i);t=i=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--i);a+=p}if(0===e.strm.avail_in)break;if(u=e.window,h=e.strstart+e.lookahead,d=void 0,(d=(c=e.strm).avail_in)>(f=a)&&(d=f),i=0===d?0:(c.avail_in-=d,r.arraySet(u,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=o(c.adler,u,d,h):2===c.state.wrap&&(c.adler=s(c.adler,u,d,h)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=i,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var i,n;;){if(e.lookahead<262){if(m(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-262&&(e.match_length=g(e,i)),e.match_length>=3)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var i,n,r;;){if(e.lookahead<262){if(m(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-262&&(e.match_length=g(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function k(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):c(e,-2)}function _(e){var t,i=w(e);return 0===i&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),i}function x(e,t,i,n,a,o){if(!e)return-2;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>9||8!==i||n<8||n>15||t<0||t>9||o<0||o>4)return c(e,-2);8===n&&(n=9);var l=new C;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=i,_(e)}n=[new k(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(m(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&d(e,!1),1)})),new k(4,4,8,4,y),new k(4,5,16,8,y),new k(4,6,32,32,y),new k(4,4,16,16,b),new k(8,16,32,32,b),new k(8,16,128,128,b),new k(8,32,128,256,b),new k(32,128,258,1024,b),new k(32,258,258,4096,b)],i.deflateInit=function(e,t){return x(e,t,8,15,8,0)},i.deflateInit2=x,i.deflateReset=_,i.deflateResetKeep=w,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},i.deflate=function(e,t){var i,r,o,l;if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(r.strm=e,i=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),p(r,3),r.status=113);else{var g=8+(r.w_bits-8<<4)<<8;g|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=32),g+=31-g%31,r.status=113,v(r,g),0!==r.strstart&&(v(r,e.adler>>>16),v(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),f(e),o=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),f(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),f(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,p(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&f(e),r.pending+2<=r.pending_buf_size&&(p(r,255&e.adler),p(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(f(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&u(t)<=u(i)&&4!==t)return c(e,-5);if(666===r.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(m(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var i,n,r,o,s=e.window;;){if(e.lookahead<=258){if(m(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){o=e.strstart+258;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);e.match_length=258-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(r,t):n[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t&&(h(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),f(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(p(r,255&e.adler),p(r,e.adler>>8&255),p(r,e.adler>>16&255),p(r,e.adler>>24&255),p(r,255&e.total_in),p(r,e.total_in>>8&255),p(r,e.total_in>>16&255),p(r,e.total_in>>24&255)):(v(r,e.adler>>>16),v(r,65535&e.adler)),f(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},i.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},i.deflateSetDictionary=function(e,t){var i,n,a,s,l,c,u,f,d=t.length;if(!e||!e.state)return-2;if(2===(s=(i=e.state).wrap)||1===s&&42!==i.status||i.lookahead)return-2;for(1===s&&(e.adler=o(e.adler,t,d,0)),i.wrap=0,d>=i.w_size&&(0===s&&(h(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new r.Buf8(i.w_size),r.arraySet(f,t,d-i.w_size,i.w_size,0),t=f,d=i.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,m(i);i.lookahead>=3;){n=i.strstart,a=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--a);i.strstart=n,i.lookahead=2,m(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,i.wrap=s,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,i){"use strict";var n=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);r(c);var u=new Array(60);r(u);var h=new Array(512);r(h);var f=new Array(256);r(f);var d=new Array(29);r(d);var p,v,g,m=new Array(30);function y(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?h[e]:h[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function _(e,t,i){w(e,i[2*t],i[2*t+1])}function x(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function S(e,t,i){var n,r,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+i[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=x(a[s]++,s))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function O(e,t,i,n){var r=2*t,a=2*i;return e[r]<e[a]||e[r]===e[a]&&n[t]<=n[i]}function E(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&O(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!O(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n}function A(e,t,i){var n,r,s,l,c=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===n?_(e,r,t):(_(e,(s=f[r])+256+1,t),0!==(l=a[s])&&w(e,r-=d[s],l),_(e,s=k(--n),i),0!==(l=o[s])&&w(e,n-=m[s],l))}while(c<e.last_lit);_(e,256,t)}function R(e,t){var i,n,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<l;i++)0!==a[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):a[2*i+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)E(e,a,i);r=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],E(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,a[2*r]=a[2*i]+a[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,a[2*i+1]=a[2*n+1]=r,e.heap[1]=r++,E(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,a,o,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(a=l[2*l[2*(n=e.heap[i])+1]+1]+1)>p&&(a=p,v++),l[2*n+1]=a,n>c||(e.bl_count[a]++,o=0,n>=d&&(o=f[n-d]),e.opt_len+=(s=l[2*n])*(a+o),h&&(e.static_len+=s*(u[2*n+1]+o)));if(0!==v){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)(r=e.heap[--i])>c||(l[2*r+1]!==a&&(e.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),n--)}}(e,t),S(a,c,e.bl_count)}function D(e,t,i){var n,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=t[2*(n+1)+1],++s<l&&r===o||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))}function M(e,t,i){var n,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),n=0;n<=i;n++)if(r=o,o=t[2*(n+1)+1],!(++s<l&&r===o)){if(s<c)do{_(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(_(e,r,e.bl_tree),s--),_(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(_(e,17,e.bl_tree),w(e,s-3,3)):(_(e,18,e.bl_tree),w(e,s-11,7));s=0,a=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}}r(m);var z=!1;function P(e,t,i,r){w(e,0+(r?1:0),3),function(e,t,i,r){I(e),C(e,i),C(e,~i),n.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}i._tr_init=function(e){z||(function(){var e,t,i,n,r,l=new Array(16);for(i=0,n=0;n<28;n++)for(d[n]=i,e=0;e<1<<a[n];e++)f[i++]=n;for(f[i-1]=n,r=0,n=0;n<16;n++)for(m[n]=r,e=0;e<1<<o[n];e++)h[r++]=n;for(r>>=7;n<30;n++)for(m[n]=r<<7,e=0;e<1<<o[n]-7;e++)h[256+r++]=n;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(S(c,287,l),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=x(e,5);p=new y(c,a,257,286,15),v=new y(u,o,0,30,15),g=new y(new Array(0),s,0,19,7)}(),z=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,v),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,T(e)},i._tr_stored_block=P,i._tr_flush_block=function(e,t,i,n){var r,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),R(e,e.l_desc),R(e,e.d_desc),o=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(a=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=a)):r=a=i+5,i+4<=r&&-1!==t?P(e,t,i,n):4===e.strategy||a===r?(w(e,2+(n?1:0),3),A(e,c,u)):(w(e,4+(n?1:0),3),function(e,t,i,n){var r;for(w(e,t-257,5),w(e,i-1,5),w(e,n-4,4),r=0;r<n;r++)w(e,e.bl_tree[2*l[r]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),A(e,e.dyn_ltree,e.dyn_dtree)),T(e),n&&I(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(f[i]+256+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){w(e,2,3),_(e,256,c),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":1}],8:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,i){"use strict";var n=e("./zlib/deflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(o[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(i=n.deflateSetDictionary(this.strm,u)))throw new Error(o[i]);this._dict_set=!0}}function u(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg||o[i.err];return i.result}c.prototype.push=function(e,t){var i,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(c),s.next_out=0,s.avail_out=c),1!==(i=n.deflate(s,o))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?a.buf2binstring(r.shrinkBuf(s.output,s.next_out)):r.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==i);return 4===o?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==o||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=c,i.deflate=u,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")},yLV6:function(e,t,i){var n;!function(r,a,o,s){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=a.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(e,t,i){return setTimeout(C(e,i),t)}function v(e,t,i){return!!Array.isArray(e)&&(g(e,i[t],i),!0)}function g(e,t,i){var n;if(e)if(e.forEach)e.forEach(t,i);else if(void 0!==e.length)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function m(e,t,i){var n="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var t=new Error("get-stack-trace"),i=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=r.console&&(r.console.warn||r.console.log);return a&&a.call(r.console,n,i),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}:Object.assign;var y=m((function(e,t,i){for(var n=Object.keys(t),r=0;r<n.length;)(!i||i&&void 0===e[n[r]])&&(e[n[r]]=t[n[r]]),r++;return e}),"extend","Use `assign`."),b=m((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function k(e,t,i){var n,r=t.prototype;(n=e.prototype=Object.create(r)).constructor=e,n._super=r,i&&l(n,i)}function C(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function _(e,t){return void 0===e?t:e}function x(e,t,i){g(O(t),(function(t){e.addEventListener(t,i,!1)}))}function S(e,t,i){g(O(t),(function(t){e.removeEventListener(t,i,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function I(e,t){return e.indexOf(t)>-1}function O(e){return e.trim().split(/\s+/g)}function E(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function R(e,t,i){for(var n=[],r=[],a=0;a<e.length;){var o=t?e[a][t]:e[a];E(r,o)<0&&n.push(e[a]),r[a]=o,a++}return i&&(n=t?n.sort((function(e,i){return e[t]>i[t]})):n.sort()),n}function D(e,t){for(var i,n,r=t[0].toUpperCase()+t.slice(1),a=0;a<c.length;){if((n=(i=c[a])?i+r:t)in e)return n;a++}}var M=1;function z(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var P="ontouchstart"in r,F=void 0!==D(r,"PointerEvent"),L=P&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=["x","y"],V=["clientX","clientY"];function B(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&i.handler(t)},this.init()}function N(e,t,i){var n=i.pointers.length,r=i.changedPointers.length,a=1&t&&n-r==0,o=12&t&&n-r==0;i.isFirst=!!a,i.isFinal=!!o,a&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,n=t.pointers,r=n.length;i.firstInput||(i.firstInput=H(t)),r>1&&!i.firstMultiple?i.firstMultiple=H(t):1===r&&(i.firstMultiple=!1);var a=i.firstInput,o=i.firstMultiple,s=o?o.center:a.center,l=t.center=G(n);t.timeStamp=d(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=X(s,l),t.distance=q(s,l),function(e,t){var i=t.center,n=e.offsetDelta||{},r=e.prevDelta||{},a=e.prevInput||{};1!==t.eventType&&4!==a.eventType||(r=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=r.x+(i.x-n.x),t.deltaY=r.y+(i.y-n.y)}(i,t),t.offsetDirection=U(t.deltaX,t.deltaY);var c,u,h=W(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,t.scale=o?(c=o.pointers,q((u=n)[0],u[1],V)/q(c[0],c[1],V)):1,t.rotation=o?function(e,t){return X(t[1],t[0],V)+X(e[1],e[0],V)}(o.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,function(e,t){var i,n,r,a,o=e.lastInterval||t,s=t.timeStamp-o.timeStamp;if(8!=t.eventType&&(s>25||void 0===o.velocity)){var l=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,u=W(s,l,c);n=u.x,r=u.y,i=f(u.x)>f(u.y)?u.x:u.y,a=U(l,c),e.lastInterval=t}else i=o.velocity,n=o.velocityX,r=o.velocityY,a=o.direction;t.velocity=i,t.velocityX=n,t.velocityY=r,t.direction=a}(i,t);var p=e.element;T(t.srcEvent.target,p)&&(p=t.srcEvent.target),t.target=p}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function H(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:h(e.pointers[i].clientX),clientY:h(e.pointers[i].clientY)},i++;return{timeStamp:d(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var i=0,n=0,r=0;r<t;)i+=e[r].clientX,n+=e[r].clientY,r++;return{x:h(i/t),y:h(n/t)}}function W(e,t,i){return{x:t/e||0,y:i/e||0}}function U(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function q(e,t,i){i||(i=j);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return Math.sqrt(n*n+r*r)}function X(e,t,i){return i||(i=j),180*Math.atan2(t[i[1]]-e[i[1]],t[i[0]]-e[i[0]])/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(z(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(z(this.element),this.evWin,this.domHandler)}};var J={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}k(Y,B,{handler:function(e){var t=J[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},$="pointerdown",Q="pointermove pointerup pointercancel";function ee(){this.evEl=$,this.evWin=Q,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&($="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),k(ee,B,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),r=K[n],a=Z[e.pointerType]||e.pointerType,o="touch"==a,s=E(t,e.pointerId,"pointerId");1&r&&(0===e.button||o)?s<0&&(t.push(e),s=t.length-1):12&r&&(i=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),i&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ie(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function ne(e,t){var i=A(e.touches),n=A(e.changedTouches);return 12&t&&(i=R(i.concat(n),"identifier",!0)),[i,n]}k(ie,B,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var i=ne.call(this,e,t);12&t&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ae(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function oe(e,t){var i=A(e.touches),n=this.targetIds;if(3&t&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,a,o=A(e.changedTouches),s=[],l=this.target;if(a=i.filter((function(e){return T(e.target,l)})),1===t)for(r=0;r<a.length;)n[a[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&s.push(o[r]),12&t&&delete n[o[r].identifier],r++;return s.length?[R(a.concat(s),"identifier",!0),s]:void 0}function se(){B.apply(this,arguments);var e=C(this.handler,this);this.touch=new ae(this.manager,e),this.mouse=new Y(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ce.call(this,t)):12&e&&ce.call(this,t)}function ce(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout((function(){var e=n.indexOf(i);e>-1&&n.splice(e,1)}),2500)}}function ue(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],a=Math.abs(t-r.x),o=Math.abs(i-r.y);if(a<=25&&o<=25)return!0}return!1}k(ae,B,{handler:function(e){var t=re[e.type],i=oe.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:e})}}),k(se,B,{handler:function(e,t,i){var n="mouse"==i.pointerType;if(!(n&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if("touch"==i.pointerType)le.call(this,t,i);else if(n&&ue.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var he=D(u.style,"touchAction"),fe=void 0!==he,de=function(){if(!fe)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){e[i]=!t||r.CSS.supports("touch-action",i)})),e}();function pe(e,t){this.manager=e,this.set(t)}function ve(e){this.options=l({},this.defaults,e||{}),this.id=M++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ge(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function me(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ye(e,t){var i=t.manager;return i?i.get(e):e}function be(){ve.apply(this,arguments)}function ke(){be.apply(this,arguments),this.pX=null,this.pY=null}function Ce(){be.apply(this,arguments)}function we(){ve.apply(this,arguments),this._timer=null,this._input=null}function _e(){be.apply(this,arguments)}function xe(){be.apply(this,arguments)}function Se(){ve.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Te(e,t){return(t=t||{}).recognizers=_(t.recognizers,Te.defaults.preset),new Ie(e,t)}function Ie(e,t){var i;this.options=l({},Te.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((i=this).options.inputClass||(F?ee:L?ae:P?se:Y))(i,N),this.touchAction=new pe(this,this.options.touchAction),Oe(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Oe(e,t){var i,n=e.element;n.style&&(g(e.options.cssProps,(function(r,a){i=D(n.style,a),t?(e.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=e.oldCssProps[i]||""})),t||(e.oldCssProps={}))}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),fe&&this.manager.element.style&&de[e]&&(this.manager.element.style[he]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(I(e,"none"))return"none";var t=I(e,"pan-x"),i=I(e,"pan-y");return t&&i?"none":t||i?t?"pan-x":"pan-y":I(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var n=this.actions,r=I(n,"none")&&!de.none,a=I(n,"pan-y")&&!de["pan-y"],o=I(n,"pan-x")&&!de["pan-x"];if(r&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!o||!a)return r||a&&6&i||o&&24&i?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},ve.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(v(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return v(e,"dropRecognizeWith",this)||(e=ye(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(v(e,"requireFailure",this))return this;var t=this.requireFail;return-1===E(t,e=ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(v(e,"dropRequireFailure",this))return this;e=ye(e,this);var t=E(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function n(i){t.manager.emit(i,e)}i<8&&n(t.options.event+ge(i)),n(t.options.event),e.additionalEvent&&n(e.additionalEvent),i>=8&&n(t.options.event+ge(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},k(be,ve,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=6&t,r=this.attrTest(e);return n&&(8&i||!r)?16|t:n||r?4&i?8|t:2&t?4|t:2:32}}),k(ke,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,r=e.direction,a=e.deltaX,o=e.deltaY;return r&t.direction||(6&t.direction?(r=0===a?1:a<0?2:4,i=a!=this.pX,n=Math.abs(e.deltaX)):(r=0===o?1:o<0?8:16,i=o!=this.pY,n=Math.abs(e.deltaY))),e.direction=r,i&&n>t.threshold&&r&t.direction},attrTest:function(e){return be.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=me(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),k(Ce,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),k(we,ve,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!n||!i||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),k(_e,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),k(xe,be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return ke.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return 30&i?t=e.overallVelocity:6&i?t=e.overallVelocityX:24&i&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=me(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),k(Se,ve,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(n&&r&&i){if(4!=e.eventType)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||q(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Te.VERSION="2.0.7",Te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[_e,{enable:!1}],[Ce,{enable:!1},["rotate"]],[xe,{direction:6}],[ke,{direction:6},["swipe"]],[Se],[Se,{event:"doubletap",taps:2},["tap"]],[we]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ie.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var i;this.touchAction.preventDefaults(e);var n=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var a=0;a<n.length;)i=n[a],2===t.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(e),!r&&14&i.state&&(r=t.curRecognizer=i),a++}},get:function(e){if(e instanceof ve)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(v(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(v(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=E(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var i=this.handlers;return g(O(e),(function(e){i[e]=i[e]||[],i[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var i=this.handlers;return g(O(e),(function(e){t?i[e]&&i[e].splice(E(i[e],t),1):delete i[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var i=a.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&Oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Te,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ie,Input:B,TouchAction:pe,TouchInput:ae,MouseInput:Y,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ie,Recognizer:ve,AttrRecognizer:be,Tap:Se,Pan:ke,Swipe:xe,Pinch:Ce,Rotate:_e,Press:we,on:x,off:S,each:g,merge:b,extend:y,assign:l,inherit:k,bindFn:C,prefixed:D}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Te,void 0===(n=(function(){return Te}).call(t,i,t,e))||(e.exports=n)}(window,document)}}]);